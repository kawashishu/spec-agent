
<filename>7DCTx00_BMW_VINFAST_Safety_concept_2021209_R01</filename>
<pages>

<page number="1">
Functional & technical safety concept.

Project No: 7DCTx00.

Customer: BMW VINFAST.

---

Document Owner / Role: Ralf Hettich, Safety & FMEA.  
Document/part number: --  
Release number: --  
Date of last change: 2020-12-09.  
File name: 7DCTx00_BMW_VINFAST_Safety_concept_2021209_R01.docm.  
Document state: (draft).  
Copyright: © Magna PT B.V. & Co. KG, Untergruppenbach 2020 – All rights reserved.
</page>

<page number="2">
Functional and technical safety concept.  
Project No: 7DCTx00.  
Magna PT B.V. & Co. KG.  

Further information.  

Co-authors with roles.  

**Document change history.**  
1. On 2020-12-09 (Version 1.0), the first version of the document was created by R. Hettich and released.
</page>

<page number="3">
Functional & technical safety concept. 
Project No: 7DCTx00. 
Magna PT B.V. & Co. KG.

Document Part Number: --  
Release Number: --  

Form Data:  
Printed copies are uncontrolled.  
Form No.: GCG_xxx_xxxx_xx.  
Proc. Ref.: GCG_xxx_xxxx_xx.  
Owner: Ralf Hettich (GET).  
Department: PD.  
Date Issued: 2011-05-20.  
Date Revised: 2011-05-20.  
Security Class: Proprietary.  
Retention: 27.60 / 35.  
Page: 3 / 38.  

Table of Contents:

1. Introduction  5  
   1.1 Purpose/Objectives  5  
   1.2 References  5  
   1.3 Updating of the Document  5  

2. System Safety Requirements  6  
   2.1 System Safety Goals  6  
   2.2 Safety Goals: Safety Critical Output Signals  7  

3. Functional Safety Concept  8  
   3.1 Safety Architecture  8  
   3.2 System Safety Goals  9  
      3.2.1 SZ_002 - Prevent Unwanted Launch in Wrong Direction  9  
      3.2.2 SZ_003 - Prevent Unwanted Shifting to R While Driving  10  
      3.2.3 SZ_004 - Prevent Unwanted Launch  11  
      3.2.4 SZ_006a - Prevent Unwanted Backshift (Coast Mode, Inside Allowed Input Shaft Speed Range)  12  
      3.2.5 SZ_006b - Prevent Unwanted Backshift (Outside Allowed Input Shaft Speed Range)  13  
      3.2.6 SZ_007 - Prevent Clutch Tie-Up  14  
      3.2.7 SZ_008 - Prevent Clutch Overspeed  15  
      3.2.8 SZ_013 - Prevent Disengaging of P  16  
      3.2.9 SZ_014 - Ensure Engaging of P  17  
      3.2.10 SZ_016 - Prevent Engaging of P  18  
      3.2.11 SZ_019a - Prevent Wrong Display Position P  19  
      3.2.12 SZ_019b - Prevent Wrong Display Position D/R  20  
      3.2.13 SZ_019c - Prevent Wrong Display Position N/P  21  
   3.3 Safety Goals: Safety Critical Output Signals  22  
      3.3.1 SZ_SB01 - Prevent Safety Critical Output of Input Shaft Speed  22  
      3.3.2 SZ_SB02 - Prevent Safety Critical Output of Output Shaft Speed ... 24  
      3.3.3 SZ_SB03 - Prevent Safety Critical Output of Transmission Ratio  25  
      3.3.4 SZ_SB04 - Prevent Safety Critical of Status Torque  27  
      3.3.5 SZ_SB07 - Monitor Unwanted Launch  28  
   3.4 Safety Function Signals  29  
      3.4.1 Overview  29  

4. Technical Safety Concept  33  
   4.1 TCU Architecture  33  
   4.2 Hardwired Input Signals  34  
   4.3 CAN Signals  34  
   4.4 Safe State  36  
      4.4.1 Entry Condition  36  
      4.4.2 Actions  36  
      4.4.3 Safe State "Output State Tristate (OST)"  36  
      4.4.4 Entry Condition  36
</page>

<page number="4">
Functional & technical safety concept.  
Project No: 7DCTx00.  
Magna PT B.V. & Co. KG.  

Document part number: --.  
Release number: --.  

Form data:  
Printed copies are uncontrolled.  
Form No.: GCG_xxx_xxxx_xx.  
Proc. ref.: GCG_xxx_xxxx_xx.  
Owner: Ralf Hettich (GET).  
Department: PD.  
Date issued: 2011-05-20.  
Date revised: 2011-05-20.  
Security class: proprietary.  
Retention: 27.60 / 35.  
Page: 4 / 38.  

4.4.5 Actions.  36  
4.4.6 Safe state – called by level 2.  36  

5 Terms, Definitions and Acronyms.  37  

6 Lists.  37  
6.1 List of Tables.  37  
6.2 List of Figures.  38
</page>

<page number="5">
Functional & technical safety concept.  

Project No: 7DCTx00.  
Magna PT B.V. & Co. KG.  

Document part number: --  
Release number: --  

Form data.  
Printed copies are uncontrolled.  
Form No.: GCG_xxx_xxxx_xx.  
Proc. ref.: GCG_xxx_xxxx_xx.  
Owner: Ralf Hettich (GET).  
Department: PD.  
Date issued: 2011-05-20.  
Date revised: 2011-05-20.  
Security class: proprietary.  
Retention: 27.60 / 35.  
Page: 5 / 38.  

### 1 Introduction  

#### 1.1 Purpose/Objectives  
Within this document the functional and technical safety concept is described.  

#### 1.2 References  

**Table 1: List of references**  

| No. | Document                                        | Comment                                   |
|-----|------------------------------------------------|-------------------------------------------|
| [1] | Doors-Module: Lastenheft FQ-DCT-LCI2017        | Baseline: 1.0                            |
| [2] | 7DCTx00_VINCE_SafSSRS_CAN_yyyymmdd             | Applicable version, see safety CAse      |
| [3] | FuSi-relevante Getriebepositionswechsel_V3     |                                           |

#### 1.3 Updating of the document  
This document is updated by changing the cover sheets (date, version, etc.). Changes to this document are controlled by the system engineer. If changes in design occur in the project, a new version of this document has to be created.
</page>

<page number="6">
Functional & technical safety concept. 

Project No: 7DCTx00.

Magna PT B.V. & Co. KG.

Document part number: --  
Release number: --  

Form data:  
Printed copies are uncontrolled.  
Form No.: GCG_xxx_xxxx_xx.  
Proc. ref.: GCG_xxx_xxxx_xx.  
Owner: Ralf Hettich (GET).  
Department: PD.  
Date issued: 2011-05-20.  
Date revised: 2011-05-20.  
Security class: proprietary.  
Retention: 27.60 / 35.  
Page: 6 / 38.  

2 System safety requirements.  

2.1 System safety goals.

In Table 2 the system safety goals are shown and the linkage to the safety requirements from the customer (see [1]) is provided.  

Table 2: System safety goals.

**SZ_002**: Prevent unwanted launch in wrong direction.  
Requirements: ANKA_303_599, ANKA_303_352, ANKA_303_549, ANKA_303_550, ANKA_303_551, ANKA_303_574, SWA_MAGNA_418.  
ASIL level: A.  

**SZ_003**: Prevent unwanted shifting to R while driving.  
Requirements: ANKA_303_656, ANKA_303_654.  
ASIL level: C.  

**SZ_004**: Prevent unwanted launch.  
Requirements: ANKA_303_638, ANKA_303_352, ANKA_303_549, ANKA_303_550, ANKA_303_551, ANKA_303_574.  
ASIL level: A.  

**SZ_006a**: Prevent unwanted backshift (Coast mode, inside allowed input shaft speed range).  
Requirements: ANKA_303_580, ANKA_303_658, ANKA_303_657.  
ASIL level: B.  

**SZ_006b**: Prevent unwanted backshift (outside allowed input shaft speed range).  
Requirements: ANKA_303_580, ANKA_303_658, ANKA_303_657.  
ASIL level: B.  

**SZ_007**: Prevent clutch tie-up.  
Requirements: ANKA_303_580, ANKA_303_658, ANKA_303_660.  
ASIL level: C.  

**SZ_008**: Prevent clutch overspeed.  
ASIL level: C.  

**SZ_013**: Prevent disengaging of P.  
Requirements: ANKA_303_634, ANKA_303_635, SWA_MAGNA_418.  
ASIL level: B.
</page>

<page number="7">
Functional and technical safety concept.  
Project No: 7DCTx00.  
Magna PT B.V. & Co. KG.  

Document part number: --  
Release number: --  

Form data.  
Printed copies are uncontrolled.  
Form No.: GCG_xxx_xxxx_xx.  
Proc. ref.: GCG_xxx_xxxx_xx.  
Owner: Ralf Hettich (GET).  
Department: PD.  
Date issued: 2011-05-20.  
Date revised: 2011-05-20.  
Security class: proprietary.  
Retention: 27.60 / 35.  
Page: 7 / 38.  

### ID Requirements  
**SZ_014**: Ensure engaging of P. Linked safety requirements are ANKA_303_629, ANKA_303_630, ANKA_303_631, ANKA_303_632, and ANKA_303_633. ASIL classification: A.  

**SZ_016**: Prevent engaging of P. Linked safety requirements are ANKA_303_636 and ANKA_303_637. ASIL classification: A.  

**SZ_019a**: Prevent wrong display position P. Linked safety requirements are ANKA_303_662, ANKA_303_597, ANKA_303_598, and ANKA_303_647. ASIL classification: A.  

**SZ_019b**: Prevent wrong display position D/R. ASIL classification: A.  

**SZ_019c**: Prevent wrong display position N/P. Linked safety requirements are ANKA_303_598 and ANKA_303_647. ASIL classification: A.

---

### 2.2 Safety Goals: Safety Critical Output Signals
In Table 3, the safety goals for safety critical output signals are shown and the linkage to the safety requirements from the customer ([1]) is provided.

#### Table 3: Safety Critical Output Signals  
**SZ_SB01**: Prevent safety-critical output of input shaft speed. Linked safety requirement: ANKA_303_645. ASIL classification: B.  

**SZ_SB02**: Prevent safety-critical output of output shaft speed. Linked safety requirement: ANKA_303_646. ASIL classification: B.  

**SZ_SB03**: Prevent safety-critical output of transmission ratio. Linked safety requirement: ANKA_303_674. ASIL classification: B.  

**SZ_SB04**: Prevent safety-critical output of status torque. Linked safety requirement: ANKA_303_964. ASIL classification: B.  

**SZ_SB06**: Monitor unwanted launch. Linked safety requirement: SWA_BMW-GETRAG_52. ASIL classification: B.
</page>

<page number="8">
Functional & technical safety concept  
Project No: 7DCTx00  
Magna PT B.V. & Co. KG  

Document part number: --  
Release number: --  

Form data  
Printed copies are uncontrolled  
Form No.: GCG_xxx_xxxx_xx  
Proc. ref.: GCG_xxx_xxxx_xx  
Owner: Ralf Hettich (GET)  
Department: PD  
Date issued: 2011-05-20  
Date revised: 2011-05-20  
Security class: proprietary  
Retention: 27.60 / 35  
Page:  
8 / 38  

3  
Functional Safety Concept  
3.1  
Safety architecture  
In Figure 1 the safety architecture is shown.  

**Figure 1: Safety architecture**  
The safety architecture depicts three levels:  

- **Input**  
  - Input signals for QM and ASIL X are received and processed.  

- **Processing**  
  - **Level 1 (QM):** Functional software components, diagnosis, and limp home modes are implemented at this level.  
  - **Level 2 (ASIL X):** Safety functions responsible for preventing safety goal violations are managed within this level.  
  - **Level 3 (ASIL max):** Monitoring processing unit ensures monitoring functionality with checks and diagnostics.  

- **Output**  
  - Output signals are classified for QM, ASIL X, and ASIL max levels.  

**Table 4: Definition safety architecture**  

| **Definition** | **Description**                                                                                                                                                                                                                              |
|-----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Level 1**    | Level 1 contains the overall functional software of this project. It includes diagnosis and limp home modes identified in System-FMEA. Software and components at Level 1 are developed according to ASIL QM and cannot be used to prevent safety goal violations. |
| **Level 2**    | Level 2 contains the safety functions designed to prevent safety goal violations. Input signals and output signals used for the safety functions are calculated at this level.                                                             |
| **Level 3**    | Level 3 monitors processing units, split into two parts: One on the monitoring unit that generates questions and checks processing unit responses within a specified time window, and another on the microcontroller responsible for related diagnoses such as RAM and ROM. |
</page>

<page number="9">
Functional & technical safety concept  
Project No: 7DCTx00  
Magna PT B.V. & Co. KG  

Document part number: --  
Release number: --  

Form data  
Printed copies are uncontrolled  
Form No.: GCG_xxx_xxxx_xx  
Proc. ref.: GCG_xxx_xxxx_xx  
Owner: Ralf Hettich (GET)  
Department: PD  
Date issued: 2011-05-20  
Date revised: 2011-05-20  
Security class: proprietary  
Retention: 27.60 / 35  
Page:  
9 / 38  

3.2  
System safety goals  

3.2.1 SZ_002 - Prevent unwanted launch in wrong direction  
In Table 5 the safety function is shown as well as the safety-related thresholds.  

**Table 5: SZ_002 – Prevent unwanted launch in wrong direction**  
Definition  

Description  

**Safety Function:**  
- Cyclic call   
- vi wheel velocity < VEHICLE VELOCITY LAUNCH and vx signal engine speed > SPEED OFF  
- vi lever position = R and vi gear gearbox (not r.gear != r.gear) and vi torque gearbox (not r.gear > vi threshold clutch torque sz002 gearbox (not r.gear))  

**Output workflows:**  
- If vi lever position = D and conditions above are satisfied, operations continue.  
- When fault detection time is exceeded, the specified safe state is called.  

ASIL:  
- A  

Variables:  
- vi wheel velocity (See chapter 3.4)  
- vx signal engine speed (See chapter 4.3)  
- vi lever position (See chapter 3.4)  
- vi torque gearbox (not r.gear) (See chapter 3.4)  
- vi gear gearbox (not r.gear) (See chapter 3.4)  
- vi threshold clutch torque sz002 gearbox (not r.gear) (See chapter 3.4)  
- specified safe state (See chapter 4.4)  

Thresholds:  
- VEHICLE VELOCITY LAUNCH is set according to ANKA_303_599ff.  
- SPEED OFF is set according so non-running engine behavior is detected.
</page>

<page number="10">
Functional & technical safety concept  
Project No: 7DCTx00  
Magna PT B.V. & Co. KG  

Document part number: --  
Release number: --  

Form data  
Printed copies are uncontrolled  
Form No.: GCG_xxx_xxxx_xx  
Proc. ref.: GCG_xxx_xxxx_xx  
Owner: Ralf Hettich (GET)  
Department: PD  
Date issued: 2011-05-20  
Date revised: 2011-05-20  
Security class: proprietary  
Retention: 27.60 / 35  
Page:  
10 / 38  

3.2.2 SZ_003 - Prevent unwanted shifting to R while driving  
In Table 6 the safety function is shown as well as the safety-related thresholds.  

Table 6: SZ_003 – Prevent unwanted shifting to R while driving  

Definition  
Description  

Safety Function:  
- **Cyclic call**  
  - **vi vehicle velocity > VEHICLE VELOCITY LAUNCH** AND **vi torque gearbox (not) r.gear > TORQUE SZ003**  
    - **yes**  
      - **vi gear gearbox (not) r.gear = r. gear** AND **vi rotation direction != REV**  
        - **yes**  
          - Fault detection time exceeded?  
            - **yes**  
              Call specified safe state  
              - End  
            - **no**  

ASIL:  
C  

Variables:  
- **vi vehicle velocity** See chapter 3.4  
- **vi rotation direction** See chapter 3.4  
- **vi torque gearbox (not) r.gear** See chapter 3.4  
- **vi gear gearbox (not) r.gear** See chapter 3.4  
- **specified safe state** See chapter 4.4  

Thresholds:  
- **VEHICLE VELOCITY LAUNCH** is set according to ANKA_303_656f  
- **TORQUE SZ003** is set according to ANKA_303_656f
</page>

<page number="11">
Functional & technical safety concept  
Project No: 7DCTx00  
Magna PT B.V. & Co. KG  

Document part number: --  
Release number: --  

Form data  
Printed copies are uncontrolled  
Form No.: GCG_xxx_xxxx_xx  
Proc. ref.: GCG_xxx_xxxx_xx  
Owner: Ralf Hettich (GET)  
Department: PD  
Date issued: 2011-05-20  
Date revised: 2011-05-20  
Security class: proprietary  
Retention: 27.60 / 35  
Page: 11 / 38  

### 3.2.3 SZ_004 - Prevent unwanted launch  
In Table 7 the safety function is shown as well as the safety-related thresholds.

#### Table 7: SZ_004 – Prevent unwanted launch  
**Definition**  

**Description**  

**Safety Function:**  
- Cyclic call  
  - **ttask**  
    - `vi wheel velocity < VEHICLE VELOCITY LAUNCH AND vx signal engine speed > SPEED OFF`  
      - Yes  
        - `vi lever position = N AND vi torque gearbox (not) r.gear > vi threshold clutch torque sz004 gearbox (not) r.gear`  
      - End  
      - Yes  
        - Fault detection time exceeded?  
          - Yes  
            - Call specified safe state  

**ASIL**  
A  

**Variables:**  
- `vi wheel velocity` (See chapter 3.4)  
- `vx signal engine speed` (See chapter 4.3)  
- `vi lever position` (See chapter 3.4)  
- `vi torque gearbox (not) r.gear` (See chapter 3.4)  
- `vi threshold clutch torque sz004 gearbox (not) r.gear` (See chapter 3.4)  
- `specified safe state` (See chapter 4.4)  

**Thresholds:**  
- **VEHICLE VELOCITY LAUNCH:** is set according to ANKA_303_638ff  
- **SPEED OFF:** is set according to non-running engine detection
</page>

<page number="12">
Functional & technical safety concept  
Project No: 7DCTx00  
Magna PT B.V. & Co. KG  
  
Document part number: --  
Release number: --  
  
Form data  
Printed copies are uncontrolled  
Form No.: GCG_xxx_xxxx_xx  
Proc. ref.: GCG_xxx_xxxx_xx  
Owner: Ralf Hettich (GET)  
Department: PD  
Date issued: 2011-05-20  
Date revised: 2011-05-20  
Security class: proprietary  
Retention: 27.60 / 35  
Page:  
12 / 38  
  
3.2.4 SZ_006a - Prevent unwanted backshift (Coast mode, inside allowed input shaft speed range)  
In Table 8 the safety function is shown as well as the safety related thresholds.  

Table 8: SZ_006a - Prevent unwanted backshift (Coast mode, inside allowed input shaft speed range)  

Definition  

Description  

Safety Function:  
Cyclic call  
ttask  
End  
Fault detection time exceeded?  
Call specified safe state  
yes  
vi vehicle  
velocity > VEHICLE VELOCITY LAUNCH AND  
vi torque gearbox (not) r.gear > TORQUE SZ006A  
yes  
vi downshift  
allowed = False AND vi input shaft speed gearbox (not) r.gear global > ALLOWED SPEED SZ006A  
yes  

ASIL  
B  

Variables:  
- vi downshift allowed: See chapter 3.4  
- vi input shaft speed gearbox (not) r.gear global: See chapter 3.4  
- vi vehicle velocity: See chapter 3.4  
- vi torque gearbox (not) r.gear: See chapter 3.4  
- specified safe state: See chapter 4.4  

Thresholds:  
- VEHICLE VELOCITY LAUNCH: is set according to ANKA_303_580ff  
- ALLOWED SPEED SZ006A: is set according to ANKA_303_580ff (precise value is evaluated during vehicle test)  
- TORQUE SZ006A: is set according to ANKA_303_580ff
</page>

<page number="13">
Functional & technical safety concept  
Project No: 7DCTx00  
Magna PT B.V. & Co. KG  

Document part number: --  
Release number: --  

Form data  
Printed copies are uncontrolled  
Form No.: GCG_xxx_xxxx_xx  
Proc. ref.: GCG_xxx_xxxx_xx  
Owner: Ralf Hettich (GET)  
Department: PD  
Date issued: 2011-05-20  
Date revised: 2011-05-20  
Security class: proprietary  
Retention: 27.60 / 35  
Page:  
13 / 38  

### 3.2.5 SZ_006b - Prevent unwanted backshift (outside allowed input shaft speed range)  
In Table 9 the safety function is shown as well as the safety related thresholds.  

#### Table 9: SZ_006b - Prevent unwanted backshift (outside allowed input shaft speed range)

#### Definition  
**Safety Function:**  
- Cyclic call `ttask`.  
- Validation:  
  - Condition: `vi vehicle velocity > VEHICLE VELOCITY LAUNCH AND vi torque gearbox (not) r.gear > TORQUE SZ006B`.
  - Check: `vi input shaft speed gearbox (not) r. gear global > ALLOWED SPEED SZ006B (vx signal max allowed engine speed)`.  
  - Fault detection time exceeded?  
- Result: Call specified safe state.  
- End.  

#### Description Variables:  
- **vi input shaft speed gearbox (not) r. gear global:** See chapter 3.4.  
- **vi vehicle velocity:** See chapter 3.4.  
- **vi torque gearbox (not) r.gear:** See chapter 3.4.  
- **vx signal max allowed engine speed:** See chapter 4.3.  
- **specified safe state:** See chapter 4.4.  

#### ASIL  
- **ASIL:** B.  

#### Thresholds:  
- **VEHICLE VELOCITY LAUNCH:** Is set according to ANKA_303_580ff.  
- **ALLOWED SPEED SZ006B:** Is set according to ANKA_303_580ff (precise value is evaluated during vehicle test).  
- **TORQUE SZ006B:** Is set according to ANKA_303_580ff.
</page>

<page number="14">
3.2.6 SZ_007 - Prevent clutch tie-up.

In Table 10, the safety function is shown along with the associated variables and thresholds.

**Table 10: SZ_007 - Prevent clutch tie-up**

**Definition**  
Safety Function:

- **Cyclic call ttask**
  
- **Logic Flow:**  
  - If `vi vehicle velocity > VELOCITY SZ007 AND vi torque gearbox not r.gear > TORQUE SZ007 AND vi torque gearbox r.gear > TORQUE SZ007`, check:  
    - If `Abs(vx l1 torque gearbox r.gear) + abs(vx l1 torque gearbox not r.gear) > vi tie-up torque allowed`, proceed.  
    - Otherwise, evaluate:  
      - If `Abs(vi torque gearbox r.gear) + Abs(vi torque gearbox not r.gear) > vi tie-up torque allowed`, proceed.  
      - Additionally, calculate:  
        - If `(vi wheel velocity powered axle start – vi wheel velocity powered axle)/vi wheel velocity powered axle start > WHEEL SLIP`, proceed to fault.

  - **Fault Detection:** If fault detection time is exceeded, transition to call specified safe state. End process.

**ASIL:**  
C

**Variables:**  
- `vi vehicle velocity` — Refer to Chapter 3.4.  
- `vi torque gearbox (not) r.gear` — Refer to Chapter 3.4.  
- `vx l1 torque gearbox (not) r.gear` — Refer to Chapter 3.4.  
- `vi tie-up torque allowed` — Refer to Chapter 3.4.  
- `vi wheel velocity powered axle start` — Refer to Chapter 3.4.  
- `vi wheel velocity powered axle` — Refer to Chapter 3.4.  
- `specified safe state` — Refer to Chapter 4.4.  

**Thresholds:**  
- `VELOCITY SZ007` — Set according to ANKA_303_580ff.  
- `WHEEL SLIP` — Set according to ANKA_303_580ff.  
- `TORQUE SZ007` — Set according to ANKA_303_580ff.
</page>

<page number="15">
Functional & technical safety concept  
Project No: 7DCTx00  
Magna PT B.V. & Co. KG  

3.2.7 SZ_008 - Prevent clutch overspeed.  
In Table 11, the safety function is shown as well as the safety-related thresholds.  

**Table 11: SZ_008 - Prevent clutch overspeed**  

**Definition**  
The safety function involves cyclic calls to monitor the clutch overspeed.  

**Description**  
1. The system cyclically checks if `vi vehicle act` exceeds the `vi allowed velocity gearbox (not) r. gear`.  
2. If the condition is true and the fault detection time is exceeded, the system calls the specified safe state and ends the process.  

**ASIL**  
C  

**Variables:**  
- **vi vehicle act**: Refer to chapter 3.4.  
- **vi allowed velocity gearbox (not) r. gear**: Refer to chapter 3.4.  
- **specified safe state**: Refer to chapter 4.4.  

**Thresholds:**  
- **VELOCITY SZ008**: Set according to ANKA_303_580ff.
</page>

<page number="16">
3.2.8 SZ_013 - Prevent disengaging of P.

In Table 12 the safety function is shown as well as the safety-related thresholds.

**Table 12: SZ_013 - Prevent disengaging of P**

**Definition**  
Cyclic call ttask.  
Fault detection time exceeded?  
Call specified safe state.  
End.  
Condition:  
- vi vehicle velocity < VELOCITY SZ013  
- vi lever position = P  
- vi park lock position = P  
- vi target park lock position != P  

**Description**  
This safety function ensures that disengaging from the park (P) position is prevented when specific conditions are met, including vehicle velocity and park lock statuses.

**ASIL**  
B

**Variables:**  
- vi vehicle velocity — See chapter 3.4.  
- vi lever position — See chapter 3.4.  
- vi park lock position — See chapter 3.4.  
- vi target park lock position — See chapter 3.4.  
- specified safe state — See chapter 4.4.  

**Thresholds:**  
- VELOCITY SZ013 — Is set according to ANKA_303_634ff.
</page>

<page number="17">
3.2.9 SZ_014 – Ensure engaging of P.

In Table 13 the safety function is shown as well as the safety-related thresholds.

### Table 13: SZ_014 – Ensure engaging of P

**Definition**  
**Description**  

**Safety Function:**  
- Cyclic call, `ttask`.  
- If:
  - vi vehicle velocity < VELOCITY SZ014 AND vi park request = True  
  - AND vi park lock position != P  
  - AND vx driver warning != True,  
  - then proceed to check for Fault detection time exceeded.  
- If Fault detection time exceeded:
  - Call specified safe state.  
- End.

---

**ASIL:**  
A  

**Variables:**  
- vi vehicle velocity: See chapter 3.4.  
- vi park request: See chapter 3.4.  
- vi park lock position: See chapter 3.4.  
- vx driver warning: See chapter 4.3.  
- specified safe state: See chapter 4.4.  

**Thresholds:**  
- VELOCITY SZ014: is set according to ANKA_303_629ff.
</page>

<page number="18">
Functional & technical safety concept  
Project No: 7DCTx00  
Magna PT B.V. & Co. KG  

Document part number: --  
Release number: --  

Form data  
Printed copies are uncontrolled  
Form No.: GCG_xxx_xxxx_xx  
Proc. ref.: GCG_xxx_xxxx_xx  
Owner: Ralf Hettich (GET)  
Department: PD  
Date issued: 2011-05-20  
Date revised: 2011-05-20  
Security class: proprietary  
Retention: 27.60 / 35  
Page:  
18 / 38  

### 3.2.10 SZ_016 - Prevent engaging of P  
In Table 14 the safety function is shown as well as the safety related thresholds.  

#### Table 14: SZ_016 - Prevent engaging of P  

**Definition**

**Description**

**Safety Function:**  
1. Cyclic call  
    - Check if `vi vehicle velocity > VELOCITY SZ016` AND `vi wheel velocity powered axle < AXLE VELOCITY SZ016` AND `vi target park lock position = P`.  
2. If true, check if fault detection time is exceeded.  
3. If exceeded, call the specified safe state.  

**ASIL**  
A  

**Variables:**  
- **vi vehicle velocity**: See chapter 3.4  
- **vi wheel velocity powered axle**: See chapter 3.4  
- **vi target park lock position**: See chapter 3.4  
- **specified safe state**: See chapter 4.4  

**Thresholds:**  
- **VELOCITY SZ016** is set according to ANKA_303_636ff  
- **AXLE VELOCITY SZ016** is set according to ANKA_303_636ff
</page>

<page number="19">
3.2.11 SZ_019a – Prevent wrong display position P.

In Table 15 the safety function is shown as well as the safety related thresholds.

Table 15: SZ_019a – Prevent wrong display position P

**Definition**

**Description**

**Safety Function:**  
- Cyclic call ttask.  
- vi vehicle velocity < VELOCITY SZ019A AND vx display position = P AND vi park lock position != P.  
- Fault detection time exceeded?  
- Call specified safe state.  
- End.  

**ASIL:**  
A  

**Variables:**  
- vi vehicle velocity: See chapter 3.4.  
- vx display position: See chapter 4.3.  
- vi park lock position: See chapter 3.4.  
- specified safe state: See chapter 4.4.  

**Thresholds:**  
- VELOCITY SZ019A is set according to ANKA_303_662ff.
</page>

<page number="20">
3.2.12 SZ_019b – Prevent wrong display position D/R.  

In Table 16 the safety function is shown as well as the safety related thresholds.  

### Table 16: SZ_019b – Prevent wrong display position D/R  

#### Definition  
**Safety Function:**  
- Cyclic call, `ttask`.  
- If `vi wheel velocity < VEHICLE VELOCITY LAUNCH` AND `vx signal engine speed > SPEED OFF`, proceed.  
- If `vx display position = R` AND `vi gear gearbox (not) r.gear != r.gear` AND `vi torque gearbox (not) r.gear > vi threshold clutch torque sz019b gearbox (not) r.gear`, proceed.  
- If the above condition resolves to NO, check:  
  - If `vx display = D` AND `vi gear gearbox (not) r.gear = r.gear` AND `vi torque gearbox (not) r.gear > vi threshold clutch torque sz019b gearbox (not) r.gear`.  

If fault detection time is exceeded, call the specified safe state and end the process.  

#### ASIL  
ASIL: A  

#### Variables  
- `vi wheel velocity`: See chapter 3.4.  
- `vx signal engine speed`: See chapter 4.3.  
- `vx display position`: See chapter 4.3.  
- `vi torque gearbox (not) r.gear`: See chapter 3.4.  
- `vi gear gearbox (not) r.gear`: See chapter 3.4.  
- `vi threshold clutch torque sz019b gearbox (not) r.gear`: See chapter 3.4.  
- Specifies the safe state: See chapter 4.4.  

#### Thresholds  
- `VEHICLE VELOCITY LAUNCH`: Set according to ANKA_303_662ff.  
- `SPEED OFF`: Set according to non-running engine detection.
</page>

<page number="21">
3.2.13 SZ_019c - Prevent wrong display position N/P.

In Table 17 the safety function is shown as well as the safety-related thresholds.

**Safety Function:**  
- Cyclic call ttask.  
- Condition: vi wheel velocity < VEHICLE VELOCITY LAUNCH AND vx signal engine speed > SPEED OFF.  
- If yes, (vx display position = N OR vx display position = P) AND vi torque gearbox (not) r.gear > vi threshold clutch torque sz019c gearbox (not) r.gear.  
- If condition is true, evaluate fault detection time exceeded?  
- If yes, call specified safe state.  
- Safety function ends.

**ASIL:**  
- A  

**Variables:**  
- `vi wheel velocity`: See chapter 3.4.  
- `vx signal engine speed`: See chapter 4.3.  
- `vx display position`: See chapter 4.3.  
- `vi torque gearbox (not) r.gear`: See chapter 3.4.  
- `vi threshold clutch torque sz019c gearbox (not) r.gear`: See chapter 3.4.  
- `specified safe state`: See chapter 4.4.  

**Thresholds:**  
- `VEHICLE VELOCITY LAUNCH`: Set according to ANKA_303_662ff.  
- `SPEED OFF`: Set according so non-running engine is detected.
</page>

<page number="22">
### 3.3 Safety goals: safety critical output signals

#### 3.3.1 SZ_SB01 - Prevent safety critical output of input shaft speed.

In Table 18, the safety function is shown as well as the safety-related thresholds and input parameters.

#### Table 18: SZ_SB01 - Prevent safety critical output of input shaft speed.

**Safety Function:**
Cyclic call (`ttask`).
- If `vi torque gearbox (not) r. gear > TORQUE SZ_SB01`, proceed.
  - Verify: `vi input speed gearbox (not) r. gear = vx signal input shaft speed gearbox (not) r. gear`.
  - If valid, calculate `vi l2 output signal input shaft speed` as a function (`f`) of:
    - `vi input speed gearbox (not) r. gear`.
    - `vi input speed gearbox r. gear`.
    - `vx signal engine speed`.
    - Use the closest signal to `vx output signal input shaft speed` and proceed if not invalid.
  - Ensure:
    - `vx output signal input shaft speed != INVALID`.
    - `vi clutch sum torque gearbox out > ALLOWED TORQUE GBX OUT`.
    - `abs(vx output signal input shaft speed – vi l2 output signal input shaft speed) > DIFF SPEED SZ_SB01`.
    - `vi wheel velocity powered axle > VELOCITY SZ_SB01`.
- If fault detection time exceeds the threshold, call the specified safe state and end operation.

**ASIL:**  
B.

**Variables:**
1. `vx output signal input shaft speed` (See chapter 4.3).
2. `vx signal input shaft speed gearbox (not) r. gear` (See chapter 4.2).
3. `vi torque gearbox (not) r. gear` (See chapter 3.4).
</page>

<page number="23">
3.3 Safety goals: safety critical output signals.

3.3.1 SZ_SB01 - Prevent safety critical output of input shaft speed.

In Table 18 the safety function is shown as well as the safety related thresholds and input parameters.

Table 18: SZ_SB01 - Prevent safety critical output of input shaft speed.

Definition  
**Safety Function:**  
Cyclic call  
ttask  
End  
Fault detection time exceeded?  
Call specified safe state.  
vx output signal input shaft speed != INVALID.  
Yes.  
vi wheel velocity powered axle > VELOCITY SZ_SB01.  
Yes.  
vi clutch sum torque gearbox out > ALLOWED TORQUE GBX OUT.  
Yes.  
abs(vx output signal input shaft speed – vi l2 output signal input shaft speed) > DIFF SPEED SZ_S01.  
Yes.  
vi torque gearbox (not) r. gear > TORQUE SZ_SB01.  
Yes.  
vi input speed gearbox (not) r. gear = vx signal input shaft speed gearbox (not) r. gear.  
No.  
vi input speed gearbox (not) r. gear = INVALID.  
vi l2 output signal input shaft speed = f(vi input speed gearbox not r. gear, vi input speed gearbox r. gear, vx signal engine speed)¹.  

¹ Of the three signals, the signal is used which has the closest difference to vx output signal input shaft speed (if the signal is invalid it is not considered).

Description  
**ASIL:**  
B  

**Variables:**  
- vx output signal input shaft speed: See chapter 4.3.  
- vx signal input shaft speed gearbox (not) r. gear: See chapter 4.2.  
- vi torque gearbox (not) r. gear: See chapter 3.4.  
- vi wheel velocity powered axle: See chapter 3.4.  
- vi clutch sum torque gearbox out: See chapter 3.4.  
- vx signal engine speed: See chapter 3.4.  
- Specified safe state: L2S sent signal vi l2 output signal input shaft speed.  

**Thresholds:**  
- DIFF SPEED SZ_S01: is set according to ANKA_303_645.  
- TORQUE SZ_SB01: is set according to ANKA_303_674.  
- ALLOWED TORQUE GBX OUT: is set according to ANKA_303_674.  
- VELOCITY SZ_SB01: 4 kph (below idle engine speed in first gear).
</page>

<page number="24">
3.3 Safety goals: safety critical output signals.

3.3.2 SZ_SB02 - Prevent safety critical output of output shaft speed.  
In Table 19 the safety function is shown as well as the safety related thresholds and input parameters.

**Definition**  

- **Safety Function:**  
  - Cyclic call `ttask`.  
  - `vi l2 output signal output shaft speed = abs(vi velocity sz_sb02 * RATIO_AXLE)`.  
  - `vx output signal output shaft speed != INVALID`.  
  - `abs(vi l2 output signal output shaft speed – vx output signal output shaft speed) > DIFF SPEED SZ_S02`.  
  - Fault detection time exceeded?  
  - Call specified safe state.  
  - End.

**Description**  

- **ASIL:**  
  B.  

- **Variables:**  
  - `vx output signal output shaft speed` - See chapter 4.3.
  - `vi velocity sz_sb02` - See chapter 3.4.
  - **Specified safe state:**  
    L2S sent signal `vi l2 output signal output speed`.

- **Thresholds:**  
  - `DIFF SPEED SZ_S02` is set according to `ANKA_303_646`.
  - `RATIO_AXLE` - Ratio gearbox output to wheels.
</page>

<page number="25">
3.3.3 SZ_SB03 - Prevent safety critical output of transmission ratio.

In Table 20, the safety function is shown as well as the safety-related thresholds and input parameters.

**Table 20: SZ_SB03 - Prevent safety critical output of transmission ratio**

**Definition** 

- **Safety Function:**
  - Cyclic call at `ttask`.
  - If `vx output signal transmission ratio != INVALID`, continue.
  - Check if `vx output signal transmission ratio / vi l2 output signal transmission ratio < ALLOWED RATIO OFFSET`. If yes, proceed.
  - Verify if `vi acceleration powered axle > ALLOWED ACCELERATION SZ_SB03`. If yes, continue.
  - Confirm if the `vi clutch sum torque gearbox out > ALLOWED TORQUE GBX OUT`. If yes, proceed.
  - Evaluate if `vx output signal transmission ratio / vi l2 output signal transmission ratio > ALLOWED RATIO OFFSET`. If yes, continue.
  - Check timer conditions:  
    - If `vi timer = MAX DEB SZ_SB03`, proceed.
    - If `vi timer = Max(vi timer - T_TASK, 0)`, check if `vi timer > 0`. If yes, continue.  
    - Else compute:
      - `vi l2 output signal transmission ratio = Min(RATIO(vi gear engaged gearbox r. gear), RATIO(vi gear engaged gearbox not r. gear))`.
    - Check again for conditions above.
  - If fault detection time exceeded, call the specified safe state.

**Description**

- **ASIL:** 
  - B.

- **Variables:**  
  - `vx output signal transmission ratio`: See chapter 4.3.

**Thresholds:**  
- `ALLOWED RATIO OFFSET`: Limits between the calculated transmission input and output ratios.  
- `ALLOWED ACCELERATION SZ_SB03`: Permitted acceleration.  
- `ALLOWED TORQUE GBX OUT`: Maximum allowed torque output of the gearbox.  
- `MAX DEB SZ_SB03`: Timer parameter linked to maximum debounce.
</page>

<page number="26">
Functional & technical safety concept  
Project No: 7DCTx00  
Magna PT B.V. & Co. KG  

**Definition**  

- **vi torque gearbox (not) r. gear**: See chapter 3.4  
- **vi gear engaged gearbox (not) r. gear**: See chapter 3.4  
- **vi clutch sum torque gearbox out**: See chapter 3.4  
- **vi acceleration powered axle**: See chapter 3.4  
- **Specified safe state**: L2S sent signal vi l2 output signal transmission ratio  

**Thresholds:**  

- **RATIO**: Ratio according to the engaged gear  
- **ALLOWED RATIO OFFSET**: Set according to ANKA_303_674  
- **ALLOWED TORQUE GBX OUT**: Set according to ANKA_303_674  
- **ALLOWED ACCELERATION SZ_SB03**: Set according to ANKA_303_674  
- **MAX DEB SZ_SB03**: 100 ms
</page>

<page number="27">
3.3.4 SZ_SB04 - Prevent safety critical of status torque.  

In Table 21, the safety function is shown as well as the safety-related thresholds and input parameters.  

Table 21: SZ_SB04 - Prevent safety critical of status torque  

**Definition**  

**Description**  

**Safety Function:**  
- Cyclic call `ttask`.  
- If `vx sent signal transmission state = STA_NO_TRQ`.  
- Then check if `vi torque gearbox not r. gear > TORQUE SZ_SB04`.  
  - If true, proceed to check `vi torque gearbox r. gear > TORQUE SZ_SB04`.  
    - If true:  
      - Set `vi l2 sent signal transmission state = STA_NO_TRQ`.  
      - If fault detection time is exceeded:  
        - Call specified safe state.  

**ASIL:**  
B  

**Variables:**  
- `vx sent signal transmission state`  
  - See chapter 4.3.  
- `vi torque gearbox (not) r. gear`  
  - See chapter 3.4.  

**Specified Safe State:**  
- L2S sent signal `vi l2 sent signal transmission state`.  

**Thresholds:**  
- `STA_NO_TRQ`  
  - Is set according to `ANKA_303_964`.  
- `TORQUE SZ_SB04`  
  - Is set according to `ANKA_303_964`.
</page>

<page number="28">
3.3.5 SZ_SB07 – Monitor unwanted launch.  
In Table 22 the safety function is shown as well as the safety-related thresholds.  

### Table 22: SZ_SB07 – Monitor unwanted launch  

#### **Definition**  
Safety Function:  
1. Cyclic call t_task.  
2. Determine if (vi launching monitoring = True OR vi integral = 0 AND vi condition launch = True).  
3. Validate: vi clutch sum torque gearbox out > vi threshold sz_sb07.  
4. Evaluate: vi integral > TORQUE INT SZ_SB07.  
5. Execute Fault detection time exceeded? Call specified safe state.  

#### **Description**  

**Variables:**  
- **vi launching monitoring:** See chapter 3.4.  
- **vi condition launch:** See chapter 3.4.  
- **vi clutch sum torque gearbox out:** See chapter 3.4.  
- **specified safe state:** See chapter 4.4.  

**Thresholds:**  
- **T_TASK:** 10 ms.  
- **TORQUE INT SZ_SB07:** Is set according to SWA_BMW-GETRAG_52.  
- **OFFSET TORQUE SZ_SB07:** Is set according to SWA_BMW-GETRAG_52.  
- **WHEEL TORQUE SZ_SB07:** Is set according to SWA_BMW-GETRAG_52.
</page>

<page number="29">
3.4 Safety function signals.

3.4.1 Overview.

In Table 23 the signals used for the safety functions are shown.

**Table 23: Safety function signals**

**Definition:**  
vi engine target torque sz001.  
**Description:**  
f(vx signal driver torque request).  
**ASIL:**  
B.  

**Definition:**  
vi clutch sum torque gearbox out.  
**Description:**  
f(vi torque gearbox (not) r. gear, vi gear engaged gearbox (not) r. gear).  
**ASIL:**  
C.  

**Definition:**  
vi torque gearbox (not) r.gear.  
**Description:**  
f(vi clutch torque gearbox (not) r. gear, vi gear engaged gearbox (not) r. gear).  
**ASIL:**  
C.  

**Definition:**  
vi clutch torque gearbox (not) r. gear.  
**Description:**  
f(vx signal clutch pressure gearbox (not) r. gear, vi clutch kisspoint gearbox (not) r. gear) =  
TORQUE GAIN * (vx signal clutch pressure gearbox (not) r. gear – vi clutch kisspoint gearbox (not) r. gear).  

Nominal values:  
TORQUE GAIN = 60 Nm/bar.  
Kisspoint = Precise values are evaluated during project development (Worst Case Torque Gain).  

Substitution value:  
f(vx signal rotation speed e-motor clutch gearbox (not) r. gear).  
**ASIL:**  
A(C).  

**Definition:**  
vi clutch kisspoint gearbox (not) r. gear.  
**Description:**  
f(vx l1 clutch kisspoint gearbox (not) r. gear, vi wheel velocity).  
**ASIL:**  
C.  

**Definition:**  
vi gear engaged gearbox (not) r. gear.  
**Description:**  
f(vi shift drum position signal gearbox (not) r. gear).  
**ASIL:**  
C.  

**Definition:**  
vi gear gearbox (not) r.gear.  
**Description:**  
f(vi shift drum position signal gearbox (not) r. gear).  
**ASIL:**  
C.  

**Definition:**  
vi acceleration (non) powered axle.  
**Description:**  
f(vi wheel velocity (non) powered axle).  
**ASIL:**  
C.  

**Definition:**  
vi shift drum position signal gearbox (not) r. gear.  
**Description:**  
f(vx signal gear position gearbox (not) r.gear).  
**ASIL:**  
C.  

**Definition:**  
vi wheel velocity powered axle.  
**Description:**  
f(vi signal velocity powered axle, vx signal input shaft speed gearbox (not) r. gear, vi gear engaged gearbox (not) r. gear).  
**ASIL:**  
C.  

**Definition:**  
vi wheel velocity non powered axle.  
**Description:**  
vi signal velocity non powered axle.  
**ASIL:**  
C.  

**Definition:**  
vi signal velocity (non) powered axle.  
**Description:**  
(vx signal wheel velocity front (rear) left + vx signal wheel velocity front (rear) right) / 2.  
**ASIL:**  
C.  

**Definition:**  
vi wheel velocity.  
**Description:**  
max(vi wheel velocity powered axle, vi wheel velocity non powered axle).  
**ASIL:**  
C.  

**Definition:**  
vi velocity sz_sb02.  
**Description:**  
If abs(vi signal velocity powered axle - vi wheel velocity powered axle) < DIFF SPEED SZ_S02  
Then vi velocity sz_sb02 = vi signal velocity powered axle  
Else vi velocity sz_sb02 = vi wheel velocity powered axle.  
**ASIL:**  
B.
</page>

<page number="30">
Functional & technical safety concept  
Project No: 7DCTx00  
Magna PT B.V. & Co. KG  

Document part number: --  
Release number: --  

Form data  
Printed copies are uncontrolled  
Form No.: GCG_xxx_xxxx_xx  
Proc. ref.: GCG_xxx_xxxx_xx  
Owner: Ralf Hettich (GET)  
Department: PD  
Date issued: 2011-05-20  
Date revised: 2011-05-20  
Security class: proprietary  
Retention: 27.60 / 35  
Page:  
30 / 38  

### vi wheel velocity  
The definition is described as `f(vi wheel velocity, vi high negative gradient)`.  
ASIL: C  

### vi high negative gradient  
The definition is described as `f(vi acceleration (non) powered axle, vi state brake)`.  
Conditions: vi high negative gradient is set to True under the condition where `vi acceleration (non) powered axle < HIGH NEGATIVE GRADIENT`.  

Nominal values:  
HIGH NEGATIVE GRADIENT OFFSET = -14 m/s²  
Precise values are evaluated during vehicle tests.  
ASIL: A(C)  

### vi state brake
The definition is described as `f(vx signal state brake, vx signal brake pressure/force, vx signal brake light switch)`.  
Implementation: same as `shift by wire level 1 design`.  
ASIL: A(C)  

### vi lever position  
The definition is described as `f(vx signal driver request can (vx park request can), vx signal gearbox position request external, vx signal status gearbox position request external)`.  
ASIL: B  

### vi rotation direction  
The definition is described as `f(vx signal input shaft speed gearbox not r. gear)`.  
ASIL: C  

### vi clutch closed gearbox (not) r. gear  
The definition is described as `f(vx signal clutch pressure gearbox (not) r. gear, vx signal input shaft speed gearbox (not) r. gear, vx signal engine speed)`.  
ASIL: B  

### vi input shaft speed gearbox (not) r. gear  
The definition is described as `f(vi wheel velocity powered axle)`.  
ASIL: B  

### vi input shaft speed gearbox (not) r. gear global  
The definition is described as `f(vi input shaft speed gearbox (not) r. gear)`.  
ASIL: B  

### vi downshift allowed  
Downshift conditions:  
- vx signal msr = valid (indicating MSR is functioning).  
- vx signal acceleration pedal > PEDAL COAST (engine is not in coast mode).  
- `(vx signal engine speed – vi input shaft gearbox (not) r. gear) < SPEED DIFFERENCE` (clutch is not or only slightly slipping while downshifting).  

Nominal values:  
PEDAL COAST = 5%  
SPEED DIFFERENCE = 500 rpm  

Precise values are evaluated during vehicle tests.  
ASIL: B  

### vx l1 torque gearbox (not) r.gear  
Definition: Clutch torque applied by level 1.  
ASIL: QM  

### vi tie-up torque allowed  
Definition: `f(vx signal driver torque request) = MULTIPLY * vx signal driver torque request + OFFSET`.  

Nominal values:  
MULTIPLY = 2.6  
OFFSET = 30 Nm  

Precise values are evaluated during vehicle tests.  
ASIL: C
</page>

<page number="31">
Functional & technical safety concept  
Project No: 7DCTx00  
Magna PT B.V. & Co. KG  

Document part number: --  
Release number: --  

Form data  
Printed copies are uncontrolled  
Form No.: GCG_xxx_xxxx_xx  
Proc. ref.: GCG_xxx_xxxx_xx  
Owner: Ralf Hettich (GET)  
Department: PD  
Date issued: 2011-05-20  
Date revised: 2011-05-20  
Security class: proprietary  
Retention: 27.60 / 35  
Page: 31 / 38  

### Definition and Description Overview  

**vi wheel velocity powered axle start**  
Description: f(vi wheel velocity powered axle, vi torque gearbox (not) r. gear)  
ASIL: C  

**vi vehicle act**  
Description: f(vi vehicle velocity)  
ASIL: C  

**vi allowed velocity gearbox (not) r. gear**  
Description: f(vi shift drum position signal gearbox (not) r. gear, vi shift drum speed gearbox (not) r. gear)  
ASIL: C  

**vi shift drum speed gearbox (not) r. gear**  
Description: f(vx signal gear position gearbox (not) r.gear)  
ASIL: C  

**vi park lock position**  
Description: f(vi shift drum position signal gearbox (not) r. gear)  
ASIL: B  

**vi target park lock position**  
Description: f(vi shift drum position signal gearbox (not) r. gear, vi shift drum speed gearbox (not) r. gear)  
ASIL: B  

**vi threshold clutch torque sz002 gearbox (not) r. gear**  
Description: f(vi torque gearbox (not) r. gear, vi lever position)  
ASIL: A  

**vi threshold clutch torque sz004 gearbox (not) r. gear**  
Description: f(vi torque gearbox (not) r. gear, vi lever position)  
ASIL: A  

**vi threshold clutch torque sz019b gearbox (not) r. gear**  
Description: f(vi torque gearbox (not) r. gear, vi lever position)  
ASIL: A  

**vi threshold clutch torque sz019c gearbox (not) r. gear**  
Description: f(vi torque gearbox (not) r. gear, vi lever position)  
ASIL: A  

**vi engine torque gearbox out**  
Description: f(vx signal driver torque request)  
ASIL: B  

### Additional Details  

**vi shift lever position**  
Description:  
f(vx signal driver request can / vx signal park request can, vx signal gearbox position request external, vx signal status gearbox position request external, vx gearbox state external position request).  

Remark:  
- If vx signal status gearbox position request external = GBX_POS_EXT_TRUE AND vx gearbox state external position request = EXT REQ ACTIVE, THEN vi shift lever position = vx signal gearbox position request external.  
- ELSE vi shift lever position = vx signal driver request can / vx signal park request can.  
ASIL: B  

**vi driver available**  
Description:  
f(vi vehicle velocity, vi state brake, vx signal driver available, vx gearbox state external position request).  

Driver available detected under the following conditions:  
- **vi vehicle velocity > threshold**  
- **OR vi state brake = Pressed**  
- **OR vx signal driver available = Driver available**  
- **OR (vx signal status gearbox position request external = GBX_POS_EXT_TRUE AND vx gearbox state external position request = EXT REQ ACTIVE)**  
ASIL: B
</page>

<page number="32">
Functional & technical safety concept  
Project No: 7DCTx00  
Magna PT B.V. & Co. KG  

Document part number: --  
Release number: --  

Form data  
Printed copies are uncontrolled  
Form No.: GCG_xxx_xxxx_xx  
Proc. ref.: GCG_xxx_xxxx_xx  
Owner: Ralf Hettich (GET)  
Department: PD  
Date issued: 2011-05-20  
Date revised: 2011-05-20  
Security class: proprietary  
Retention: 27.60 / 35  
Page: 32 / 38  

Definition  

**vi park request**  
f(vx signal driver request can (vx park request can), vx signal gearbox position request external, vx signal status gearbox position request external).  
ASIL: A  

**vi aoc possible**  
f(error clutch position signal, error clutch actuation, lowlevel aoc possible).  
Remark:  
If an error of the clutch position signal is detected, OR an error of the clutch actuation is detected, OR a lowlevel aoc error is set (i.e. voltage out or range), then aoc is not possible and the corresponding flag is set to False.  
ASIL: C  

**vi launching monitoring**  
If vi vehicle velocity < VELOCITY IDLE AND (vi gear gearbox (not) r.gear = 1. gear OR vi gear gearbox (not) r.gear = 2. gear OR vi gear gearbox (not) r.gear = r. gear)  
Then vi launching monitoring = True  
Else vi launching monitoring = False.  
ASIL: B  

**vi condition launch**  
If (vx signal acceleration pedal < THR_ACC_PED_SZ_SB07 AND vx signal acceleration pedal virtual < THR_ACC_PED_SZ_SB07)  
Then vi condition launch = True  
Else vi condition launch = False.  
Nominal value: THR_ACC_PED_SZ_SB07 = 2%.  
ASIL: B
</page>

<page number="33">
4. Technical Safety Concept.

4.1. TCU architecture.

In Figure 2, the safety-related input signals are shown.

---

**Figure 2: TCU - Safety related input signals.**  

This figure illustrates the input signals managed by the TCU, highlighting the connections including the supply and signal pathways for the clutch pressure, input shaft speed, TRS, and lever position. It displays interactions across multiple ECUs supplying systems like the shift drum and clutch mechanisms.

---

In Figure 3, the shutdown path of the TCU is shown.

---

**Figure 3: TCU - Shutdown path.**

This figure outlines the shutdown design of the TCU. It represents how monitoring and testing supply paths, bridge systems, safe state configurations, and tristate operations are interconnected. The safety-critical components, including PWM controls and test modules, are integrated into the design for robust shutdown paths when faults are detected.
</page>

<page number="34">
Functional & technical safety concept  
Project No: 7DCTx00  
Magna PT B.V. & Co. KG  

4.2 Hardwired Input Signals  
In Table 24 the hardwired input signals used for the safety functions are shown.  

Table 24: Hardwired input signals  

**Definition:** vx signal clutch pressure gearbox (not) r. gear  
**Description:** vx signal clutch pressure gearbox not r. gear: Clutch pressure sensor 1  
vx signal clutch pressure gearbox r. gear: Clutch pressure sensor 2  
**ASIL:** C  

**Definition:** vx signal input shaft speed gearbox (not) r. gear  
**Description:** vx signal input shaft speed gearbox not r. gear: input shaft speed sensor 1  
vx signal input shaft speed gearbox r. gear: input shaft speed sensor 2  
**ASIL:** C  

**Definition:** vx signal lever position 1(2)  
**Description:** vx signal lever position 1: transmission range sensor signal 1  
vx signal lever position 2: transmission range sensor signal 2  
**ASIL:** B  

**Definition:** vx signal rotation speed e-motor clutch gearbox (not) r. gear  
**Description:** vx signal rotation speed e-motor clutch gearbox not r. gear: position signal clutch e-motor 1  
vx signal rotation speed e-motor clutch gearbox r. gear: position signal clutch e-motor 2  
**ASIL:** A (C)  

**Definition:** vx signal gear position gearbox (not) r.gear  
**Description:** vx signal gear position gearbox not r.gear: shift drum position signal e-motor 1  
vx signal gear position gearbox r.gear: shift drum position signal e-motor 2  
**ASIL:** C  

**Definition:** vx signal lever position 1(2...6)  
**Description:** Not used for safety concept  
**ASIL:** --  

4.3 CAN Signals  
In Table 25 the CAN signals used for the safety functions are shown.  

Table 25: CAN signals  

**Definition:** vx output signal input shaft speed  
**Description:** See [2]  
**ASIL:** B  

**Definition:** vx output signal output shaft speed  
**Description:** See [2]  
**ASIL:** B  

**Definition:** vx output signal transmission ratio  
**Description:** See [2]  
**ASIL:** B  

**Definition:** vx sent signal transmission state  
**Description:** See [2]  
**ASIL:** B  

**Definition:** vx display position  
**Description:** See [2]  
**ASIL:** A  

**Definition:** vx driver warning  
**Description:** See [2]  
**ASIL:** A  

**Definition:** vx gearbox state external position request  
**Description:** ST_AVAI_INTV_PT_GRB  
**ASIL:** QM  

**Definition:** vx signal engine speed  
**Description:** See [2]  
**ASIL:** B  

**Definition:** vx signal driver torque request (1)  
**Description:** See [2]  
**ASIL:** C  

**Definition:** vx signal wheel velocity (non) powered axle right (left)  
**Description:** See [2]  
**ASIL:** A(C)
</page>

<page number="35">
Functional & technical safety concept  
Project No: 7DCTx00  
Magna PT B.V. & Co. KG  

Document part number: --  
Release number: --  

Form data  
Printed copies are uncontrolled  
Form No.: GCG_xxx_xxxx_xx  
Proc. ref.: GCG_xxx_xxxx_xx  
Owner: Ralf Hettich (GET)  
Department: PD  
Date issued: 2011-05-20  
Date revised: 2011-05-20  
Security class: proprietary  
Retention: 27.60 / 35  
Page: 35 / 38  

Definition  
Description  
ASIL  

vx signal msr  
See [2]  
B  

vx signal driver request can (vx park request can)  
See [2]  
B  

vx signal gearbox position request external  
See [2]  
B  

vx signal status gearbox position request external  
See [2]  
B  

vx signal acceleration pedal (virtual)  
See [2]  
B  

vx signal state brake  
See [2]  
B (C)  

vx signal brake pressure/force  
See [2]  
A (C)  

vx signal driver request can / vx signal park request can  
See [2]  
B  

vx signal gearbox position request external  
See [2]  
B  

vx signal status gearbox position request external  
See [2]  
B  

vx signal driver available  
See [2]  
B  

vx signal max allowed engine speed  
See [2]  
B
</page>

<page number="36">
4 Technical Safety Concept

4.4 Safe state  
4.4.1 Entry condition.  
The safe state “active open clutch” is called by level 2.  

4.4.2 Actions.  
If the safe state “active open clutch” is triggered, the following actions are carried out:  
- The CAN communication.  
- The bridge for the shift motor 1/2 is disabled by the microcontroller.  
- The clutch motor 1/2 is activated in opening direction for a certain time period by the microcontroller.  

4.4.3 Safe state “Output state tristate (OST)”.  

4.4.4 Entry condition.  
The safe state “Output state tristate (OST)” is called by Level 2/Level 2s/Level 3.  

4.4.5 Actions.  
If the safe state “Output state tristate (OST)” is triggered, the following actions are carried out:  
- The bridge for the shift motor 1/2 is disabled by the microcontroller or the monitoring unit or the supply monitoring µC (depending on the unit which detects the error).  
- The bridge for the clutch motor 1/2 is disabled by the microcontroller or the monitoring unit or the supply monitoring µC (depending on the unit which detects the error).  

4.4.6 Safe state – called by Level 2.  
If `vi aoc possible` is equal to true, Level 2 carries out the following actions:  
- If the allowed fault detection time (for active opening clutch) is reached, Level 2 calls the safe state “Active open clutch (AOC)”.  

If `vi aoc possible` is equal to false, Level 2 carries out the following actions:  
- Level 2 reduces the fault detection time so that the safe state is reached within the process safety time if only passive opening of the clutch is possible.  
- If the allowed fault detection time (for passive opening clutch) is reached, Level 2 calls the safe state “Output state tristate (OST)”.
</page>

<page number="37">
5 Terms, Definitions and Acronyms. 

Table 26: List of definitions and terms.

| Term/Definition         | Meaning                             |
| ----------------------- | ----------------------------------- |
| Gearbox r. gear         | Gearbox section with r. gear        |
| Gearbox not r. gear     | Gearbox section without r. gear     |

Table 27: List of acronyms.

| Acronym | Meaning                    |
| ------- | ---------------------------|
| TCU     | Transmission control unit  |
| AOC     | Active open clutch         |
| POC     | Passive open clutch        |
| OST     | Output state tristate      |
| µC      | Micro controller           |
| L2S     | Level 2 software           |

6 Lists.

6.1 List of Tables.

Table 1: List of references  5  
Table 2: System safety goals  6  
Table 3: Safety critical output signals  7  
Table 4: Definition safety architecture 8  
Table 5: SZ_002 – Prevent unwanted launch in wrong direction  9  
Table 6: SZ_003 – Prevent unwanted shifting to R while driving  10  
Table 7: SZ_004 – Prevent unwanted launch  11  
Table 8: SZ_006a – Prevent unwanted backshift (Coast mode, inside allowed input shaft speed range)  12  
Table 9: SZ_006b – Prevent unwanted backshift (outside allowed input shaft speed range)  13  
Table 10: SZ_007 – Prevent clutch tie-up  14  
Table 11: SZ_008 – Prevent clutch overspeed  15  
Table 12: SZ_013 – Prevent disengaging of P  16  
Table 13: SZ_014 – Ensure engaging of P  17  
Table 14: SZ_016 – Prevent engaging of P  18
</page>

<page number="38">
Functional & Technical Safety Concept  
Project No: 7DCTx00  
Magna PT B.V. & Co. KG  

Document part number: --  
Release number: --  

Form data  
Printed copies are uncontrolled  
Form No.: GCG_xxx_xxxx_xx  
Proc. ref.: GCG_xxx_xxxx_xx  
Owner: Ralf Hettich (GET)  
Department: PD  
Date issued: 2011-05-20  
Date revised: 2011-05-20  
Security class: proprietary  
Retention: 27.60 / 35  
Page:  
38 / 38  

Table 15: SZ_019a – Prevent wrong display position P  19  
Table 16: SZ_019b – Prevent wrong display position D/R  20  
Table 17: SZ_019c - Prevent wrong display position N/P  21  
Table 18: SZ_SB01 - Prevent safety critical output of input shaft speed  22  
Table 19: SZ_SB02 - Prevent safety critical output of output shaft speed  24  
Table 20: SZ_SB03 - Prevent safety critical output of transmission ratio  25  
Table 21: SZ_SB04 - Prevent safety critical of status torque  27  
Table 22: SZ_SB07 – Monitor unwanted launch  28  
Table 23: Safety function signals  29  
Table 24: Hardwired input signals  34  
Table 25: CAN signals  34  
Table 26: List of definitions and terms  37  
Table 27: List of acronyms  37  

6.2  
List of Figures  
Figure 1: Safety architecture  8  
Figure 2: TCU: safety related input signals  33  
Figure 3: TCU – shutdown path  33
</page>
</pages>
