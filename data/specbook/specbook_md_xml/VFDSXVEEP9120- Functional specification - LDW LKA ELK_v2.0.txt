
<filename>VFDSXVEEP9120- Functional specification - LDW LKA ELK_v2.0</filename>
<pages>

<page number="1">
FUNCTIONAL SPECIFICATION. 

Lane Departure Warning - Lane Keeping Assist - Emergency Lane Keeping. 

SCOPE: VF8 / VF9.

Function owner: Duong Hoai An (v.andh2@vinfast.vn).
</page>

<page number="2">
Table of contents.

Table of contents  2  
2 / APL05_LDW_APL06_LKA_APL35_ELK  9  
2.1 / 1 Document Management  9  
2.2 / 2 Glossary  12  
2.3 / 3 Feature Definition  13  
2.3.1 / 3.1 Function Overview  13  
2.3.2 / 3.2 Function Intervention Zone  14  
2.3.3 / 3.3 Relation of LDW LKA and ELK LDW/LKA/ELK  15  
2.4 / 4 Feature Interfaces  15  
2.4.1 / 4.1 Inputs 输入  16  
2.4.2 / 4.2 Outputs 输出  22  
2.5 / 5 Function States and Transitions 功能状态机  26  
2.5.1 / 5.1 LDW State Transition LDW 状态跳转 27  
2.5.1.1 / 5.1.1 OFF --> Standby 关闭 --> 待定  27  
2.5.1.2 / 5.1.2 OFF --> FAULT 关闭 --> 故障  27  
2.5.1.3 / 5.1.3 FAULT --> OFF 故障 --> 关闭  28  
    2.5.1.3.1 / Ignition Off;  28  
    2.5.1.3.2 / LDW function is off by HMI switch.  28  
2.5.1.4 / 5.1.4 ON --> OFF 开启 --> 关闭  28  
    2.5.1.4.1 / 1. Ignition Off;  29  
    2.5.1.4.2 / 2. LDW function is off by HMI switch.  29  
2.5.1.5 / 5.1.5 ON --> FAULT 开启 --> 故障  29  
2.5.1.6 / 5.1.6 FAULT --> ON 故障 --> 开启  29  
2.5.1.7 / 5.1.7 Standby --> Active 待定 --> 激活  29  
2.5.1.8 / 5.1.8 Active --> Standby 激活 --> 待定  31  
    2.5.1.8.1 / Any camera failsafe condition is set;  31
</page>

<page number="3">
2.5.1.8.2 Cluster vehicle speed is out of range (<55kph or >155kph) for 0.1s.

2.5.1.8.3 Lateral acceleration absolute value is out of range (>3.0m/s²) for 0.1s.

2.5.1.8.4 Longitudinal acceleration is out of range (>3.5m/s²) for 0.1s.

2.5.1.8.5 Longitudinal deceleration absolute value is out of range for 0.1s (above the threshold) as shown in the table.

2.5.1.8.6 Detection of both sides of lane boundary but lane width is narrower than the minimum limit (<2.45m).

2.5.1.8.7 No lane boundary is detected.

2.5.1.8.8 Vehicle exceeds LWL.

2.5.1.8.9 Lane curvature radius absolute value is out of range (above the threshold).

2.5.1.8.10 Vehicle is not running forward (Gear shift position is in R).

2.5.1.8.11 Hazard switch is ON for 0.1s.

2.5.1.8.12 Tire alarm, doors open, towing, or trailer detected is true.

2.5.1.9 Active 激活.

2.5.1.9.1 Active_NoWarning to Active_Warning(intervention state).
   - Vehicle is within the left warning zone (between left EWL and LWL) and left turn indicator is OFF.
   - Vehicle is within the right warning zone (between right EWL and LWL) and right turn indicator is OFF.

2.5.1.9.2 Active_Warning to Active_NoWarning.

2.5.1.10 Active --> Override 激活 --> 接管.

2.5.1.10.1 Vehicle is within the left warning zone but left turn indicator is ON for 0.1s.

2.5.1.10.2 Vehicle is within the right warning zone but right turn indicator is ON for 0.1s.

2.5.1.10.3 Steer wheel angle is out of range (The limitation is a map based on vehicle speed) for 0.1s.

2.5.1.10.4 Steer wheel speed is out of range (>200°/s) for 0.1s.

2.5.1.11 Override --> Active 接管 --> 激活.
</page>

<page number="4">
2.5.1.12 / Override --> Standby 接管 --> 待机.

- 2.5.1.12.1 / Any camera failsafe condition is set.  
- 2.5.1.12.2 / Cluster vehicle speed is out of range (<55kph or >155kph).  
- 2.5.1.12.3 / Lateral acceleration absolute value is out of range (>3.0m/s²).  
- 2.5.1.12.4 / Longitudinal acceleration is out of range (>3.5m/s²).  
- 2.5.1.12.5 / Longitudinal deceleration absolute value is out of range (above the threshold) as shown below in the table.  
- 2.5.1.12.6 / Detect both sides of lane boundary but lane width is narrower than the minimum limit (<2.45m).  
- 2.5.1.12.7 / No lane boundary is detected.  
- 2.5.1.12.8 / Vehicle exceeds LWL.  
- 2.5.1.12.9 / Lane curvature absolute value is out of range (above the threshold).  
- 2.5.1.12.10 / Vehicle is not running in forward (Gear shift position is in R).  
- 2.5.1.12.11 / Hazard switch is ON.  
- 2.5.1.12.12 / Tire alarm or doors open, or towing or trailer detected is true.  

2.5.2 / LKA/ELK State Transition LKA/ELK 状态跳转.

2.5.2.1 / OFF --> Standby 关闭 --> 待定.  
2.5.2.2 / ON --> OFF 开启 --> 关闭.

- 2.5.2.2.1 / Ignition Off.  
- 2.5.2.2.2 / LKA/ELK function is switched off by HMI button.  

2.5.2.3 / OFF --> FAULT 关闭 --> 故障.  
2.5.2.4 / ON --> FAULT 开启 --> 故障.

- 2.5.2.4.1 / LKA system faults are detected.  

2.5.2.5 / FAULT --> OFF 故障 --> 关闭.

- 2.5.2.5.1 / Ignition Off.  
- 2.5.2.5.2 / LKA/ELK function is switched off.  

2.5.2.6 / FAULT --> ON 故障 --> 开启.
</page>

<page number="5">
2.5.2.6.1 / LKA system faults are deleted.

2.5.2.7 / Standby --> Active 待定 --> 激活.

2.5.2.8 / Active --> Standby 激活 --> 待定.
2.5.2.8.1 / Camera is in failsafe.
2.5.2.8.2 / Cluster vehicle speed is out of range (<55kph or >155kph) for 0.1s.
2.5.2.8.3 / Lateral acceleration absolute value is out of range (>3.0m/s²) for 0.1s.
2.5.2.8.4 / Both lane boundaries are detected and lane width is narrow than the minimum limitation (<2.45m).
2.5.2.8.5 / No lane boundary is detected.
2.5.2.8.6 / Vehicle exceeds LKL.
2.5.2.8.7 / Lane curvature radius absolute value is out of range (above the threshold).
2.5.2.8.8 / ABS or TCS or IDB(BEV)/ESC(ICE) is active or ESC OFF.
2.5.2.8.9 / Vehicle is not running in forward (Gear shift position is in R).
2.5.2.8.10 / Longitudinal acceleration is out of range for 0.1s (above the threshold) as described in a table below.
2.5.2.8.11 / Longitudinal deceleration absolute value is out of range (>3.5m/s²) for 0.1s.
2.5.2.8.12 / Hazard switch is ON for 0.1s.
2.5.2.8.13 / LSS to EPS handshake fails.
2.5.2.8.14 / Tire alarm or Doors open or towing detected or trailer detected is true.

2.5.2.9 / Active 激活.
2.5.2.9.1 / Active_No_Intervention --> Active_Intervention 未介入 --> 介入.
2.5.2.9.1.1 / For lane marking scenarios including lane marking, the vehicle is within the LKA intervention zone and the turn indicator to the departure side is OFF.
2.5.2.9.1.2 / For road edge scenarios, the vehicle is within the ELK intervention zone when the target is detected and the turn indicator to the departure side is both ON and OFF.
</page>

<page number="6">
2.5.2.9.1.3 / For oncoming scenarios, the vehicle is within the ELK intervention zone when the target vehicle is detected.

2.5.2.9.1.4 / For overtaking scenarios, the vehicle is within the ELK intervention zone when the target vehicle is detected.

2.5.2.9.2 / Active_Intervention --> Active_No_Intervention (介入 --> 未介入).

2.5.2.9.2.1 / The vehicle is pulled back into the non-intervention zone.

2.5.2.10 / 5.2.10 Active --> Override (激活 --> 接管).

2.5.2.10.1 / Steering wheel angle is out of range (as limited by a map based on vehicle speed) for 0.1 seconds.

2.5.2.10.2 / Steering wheel speed exceeds 200°/s for 0.1 seconds.

2.5.2.10.3 / Steering wheel torque goes above 3.5Nm for 0.1 seconds.

2.5.2.10.4 / The vehicle is within the left intervention zone but has its left turn indicator activated.

2.5.2.10.5 / The vehicle is within the right intervention zone but has its right turn indicator activated.

2.5.2.10.6 / The vehicle is in the left intervention zone but the left turn indicator is activated without a left target being present (during oncoming or overtaking situations).

2.5.2.10.7 / The vehicle is in the right intervention zone but the right turn indicator is activated without a right target being present (during oncoming or overtaking situations).

2.5.2.11 / 5.2.11 Override --> Active (接管 --> 激活).

2.5.2.12 / 5.2.12 Override --> Standby (接管 --> 待定).

2.5.2.12.1 / Any LKA fault is detected.

2.5.2.12.2 / The camera enters failsafe mode.

2.5.2.12.3 / The cluster vehicle speed is out of range (<55 kph or >155 kph).

2.5.2.12.4 / Lateral acceleration value exceeds 3.0 m/s² for 0.1 seconds.

2.5.2.12.5 / Both lane boundaries are detected, but the lane width is narrower than the minimum limitation (<2.45m).

2.5.2.12.6 / No lane boundary is detected.

2.5.2.12.7 / The vehicle exceeds LKL.

2.5.2.12.8 / Lane curvature absolute value is out of range (above the threshold).

2.5.2.12.9 / ABS, TCS, or IDB becomes active.
</page>

<page number="7">
2.5.2.12.10 / Vehicle is not running in forward (Gear shift position is in R).  
2.5.2.12.11 / Longitudinal acceleration is out of range (>3.5m/s²).  
2.5.2.12.12 / Longitudinal deceleration absolute value is out of range (above the threshold).  
2.5.2.12.13 / Hazard switch is on.  
2.5.2.12.14 / Hands-off reset.  
2.5.2.12.15 / LSS to EPS handshake is failed.  

2.6 / Hands Off Warning Requirement 脱手报警需求.  

2.6.1 / Hands Off Detection 脱手检测.  

2.6.2 / Hands Off Warning 脱手报警.  
2.6.2.1 / Note.  

2.7 / HMI Requirements HMI 需求.  

2.7.1 / Button Design.  
2.7.1.1 / Receive Button signals.  
2.7.1.2 / Transmitted Button Signal.  

2.7.2 / Display Design.  
2.7.2.1 / Lane display 车道显示.  
2.7.2.1.1 / Lane line display signals 车道线显示信号.  
2.7.2.1.2 / BEV variant display BEV 车型显示.  
2.7.2.1.2.1 / Popup message 弹窗信息.  
2.7.2.1.2.2 / Status output and ICON output.  

2.8 / Typical Use Case 典型用例.  
2.8.1 / LKA/LDW Function.  
2.8.2 / ELK function.  

2.9 / System Fault 系统故障.  

2.10 / LDW/LKA.  
2.10.1 / Lane width to which the system adapts.  
2.10.2 / Curve radius to which the system adapts.
</page>

<page number="8">
FUNCTIONAL SPECIFICATION. 

Lane Departure Warning - Lane Keeping Assist - Emergency Lane Keeping.

SCOPE: VF8 / VF9.

Function owner: Duong Hoai An (v.andh2@vinfast.vn).
</page>

<page number="9">
2 / APL05_LDW_APL06_LKA_APL35_ELK

**Requirement ID:** FS-225656  
**Type:** --  
**Status:** New  

---

### 2.1 / 1 Document Management

**Requirement ID:** FS-225660  
**Type:** Information  
**Status:** New  

#### VinFast Revision  
| Version | Change by       | Change description                  | Initiator       | Approver               |
|---------|-----------------|-------------------------------------|-----------------|------------------------|
| 1.0     | ECR60004069    | Initial version released for LS phase | Duong Hoai An   | Ng Dennis Koon Siu     |
| 2.0     | ECR60005557    | Release for SOP phase               | Duong Hoai An   | Ng Dennis Koon Siu     |

#### Supplier Revision  
| Release | Date       | Author       | Reviewer    | Remarks / Changes                |
|---------|------------|--------------|-------------|----------------------------------|
| 1.0     | --         | Shijin Lu    | --          | Initial Version.                 |
| 2.0     | 26/8/2021  | Shijin Lu    | --          | Update version for Customer      |
</page>

<page number="10">
Requirement ID: FS-225656. Type: --. Status: New.  

2.1 / 1 Document Management.  

Requirement ID: FS-225660. Type: Information. Status: New.  

**VinFast revision:**   
Version: 1.0.  
Change by: ECR60004069.  
Change description: Initial version released for LS phase.  
Initiator: Duong Hoai An.  
Approver: Ng Dennis Koon Siu.  

Version: 2.0.  
Change by: ECR60005557.  
Change description: Release for SOP phase.  
Initiator: Duong Hoai An.  
Approver: Ng Dennis Koon Siu.  

**Supplier revision:**  
Release: 1.0.  
Date: --.  
Author: Shijin Lu.  
Reviewer: --.  
Remarks / Changes: Initial Version.  

Release: 2.0.  
Date: 26/8/2021.  
Author: Shijin Lu.  
Reviewer: --.  
Remarks / Changes: Update version for Customer.
</page>

<page number="11">
Requirement ID: FS-225656.  
Type: --.  
Status: New.  

2.1 / 1 Document Management.  
Requirement ID: FS-225660.  
Type: Information.  
Status: New.  

VinFast revision:  
- **Version 1.0**: Changed by ECR60004069. Initial version released for LS phase. Initiator: Duong Hoai An. Approver: Ng Dennis Koon Siu.  
- **Version 2.0**: Changed by ECR60005557. Release for SOP phase. Initiator: Duong Hoai An. Approver: Ng Dennis Koon Siu.  

Supplier revision:  
- **Version 1.0**: Released date unspecified. Author: Shijin Lu. Reviewer unspecified. Remarks/Changes: Initial Version.  
- **Version 2.0**: Released date 26/8/2021. Author: Shijin Lu. Reviewer unspecified. Remarks/Changes: Updated version for Customer.  

VinFast revision continued:  
2.2 / 15/10/2021 Shijin Lu. Update version based on discussion on function signals and HMI.  
2.3 / 4/11/2021 Shijin Lu.  
- 1. Update CAN signal according to HMI.  
- 2. Update HMI part.  

2.4 / 12/11/2021 Shijin Lu.  
- 1. Update according to review comment from VF and correct typos.  
- 2. Chapter 5.2.8: Added one condition regarding DOORS, tire pressure, towing; updated handshake failed description.  
- 3. Chapter 5.2.10: Updated threshold to “3.5Nm, to be calibrated.”  
- 4. Chapter 7.1: Updated HW button picture for ICE and description for HW button logic on ICE.  
- 5. Chapter 7.2.1.1: Added note for lane detected signals sent out after IGN on, aligning with M2 function.  
- 6. Chapters 7.2.1.2 and 7.2.1.3: Added note for intervention signals lasting at least 2s, calibrated.  

2.5 / 18/11/2021 Shijin Lu.  
- 1. Chapter 5.1.7: Updated EWL to parameter name.  
- 2. Updated curvature to curvature radius.  
- 3. Updated set menu picture in Chapter 7.1.  

2.6 / 19/11/2021 Shijin Lu.  
- 1. Updated document typesetting (Font format and color; black).  

2.7 / 29/12/2021 Shijin Lu.  
- 1. Removed steering torque condition in “Active to Override”(5.1.10).  
- 2. Revised word “center” in Chapter 3.1.  
- 3. Chapter 7.2.1: Updated all LDW intervention with coding1.  
- 4. Updated lateral acceleration above threshold to 3.0m/s² and below threshold to 2.5m/s².  
- 5. Updated document typesetting (Font format and color, black).  
- 6. Chapter 5.1.8: Removed timeout condition in active to standby.  
- 7. Chapter 7.2.1: Added comment for LDW intervention when driver takes over the steering wheel.  
- 8. Chapter 7.2.1.2: Updated description of send-out signal.  
- 9. Chapters 5.2.7, 5.2.8: Removed hands-off condition.  
- 10. Chapter 2.2.9: Updated note in point 4.  

2.8 / 17/01/2022 Shijin Lu. Updated signal “0x20D.IDBActive” to “0x20D.VDCActive” for vehicle stability input signal.  
2.9 / 18/02/2022 Shijin Lu. Updated signal coding of “ADAS_LA_display” in Chapter 7.2.1.  

3.0 / 24/02/2022 Shijin Lu.  
- 1. Updated output signal coding for: 0x127.ADAS_ECU_check, 0x127.ADAS_LKA_check, 0x127.ADAS_LDW_check, 0x206.ADAS_ELK_check.  
- 2. Added output signal “0x206.ADAS_handsoff_Warning_Mode_2.”  
- 3. Added description for 10-second intervention case in Chapter 5.2.9.  
- 4. Added signal description to Chapter 6.2.1.  
- 5. Added input signals “0x105.BCM_STAT_BonnetAjar” and “0x235.TrailerDetected.”  
- 6. Updated coding description for output signal “0x206.ADAS_ELK_check.”  
- 7. Updated coding define of output signal “0x33B.Camera_L1_Line_Type,” used for LKA/ELK icon output.  
- 8. Chapters 5.2.7 and 5.2.8: Added conditions related to automatic deactivation; added ESC OFF condition for standby/active.  
- 9. Chapter 7.2.1.4: Updated status and icon output signal for ELK, LKA, and LDW.
</page>

<page number="12">
3.1 / 01/04/2022 Shijin Lu.

1. Chapter 7.2.1.3 adds the description of coding3 and coding2 send-out scenarios.
2. Updates the input signal for the turn indicator from "0x106.BCM_TurnIndicatorSts" to "0x109.BCM_TurnIndicator."

3.2 / 06/06/2022 Shijin Lu.

1. Chapter 5.2.9 updates the description when SRR is invalid: ELK disables overtaking, but ELK function will not inhibit (fault status).
2. Chapter 4.1 updates the input signal of vehicle dynamic, stating that unfilled signals shall be used instead of filled signals.
3. Updates to Chapter 5.1.7, 5.1.8, 5.1.12, 5.2.7, 5.2.8, and 5.2.12: Adjustments to the condition of thresholds for "Longitudinal deceleration absolute value" and "Lane curvature." Adds a note stating that the lateral acceleration condition should also reference a table (after tuning).

3.3 / 9/Aug/2022 Shijin Lu.

Clear up data related to the ICE variant and remove unused signals for LSS (e.g., "0x354.MHU_LA_AudWarning" and "0x127.ADAS_LA_AudWarning_Feed"). Notes that these chime signals are taken care of by the MHU and LSS does not need to cover them.

3.4 / 25/Nov/2022 Shijin Lu.

1. Updates Chapter 5.1.7, 5.1.8, 5.1.10, 5.1.11, 5.2.7, 5.2.8, 5.2.10, and 5.2.11 with the addition of descriptions for timing parameters for conditions.
2. Updates Chapter 5.2.8, specifying that ELK automatic deactivation condition is restricted to ESC OFF (0x95.STAT_DSC == 1 "Track Mode" OR 2 "ESC OFF").
3. Clarifies descriptions in Chapter 7.2.1 regarding the conditions associated with codes 7, 8, 9, 10, 11, and 12.
4. Adds note point 3 in Chapter 7.2.1.2 outlining haptic warning send-out conditions.

2.2 / 2 Glossary.

Requirement ID: FS-225661.
Type: Information.
Status: New.
</page>

<page number="13">
2.2 / 2 Glossary

Requirement ID: FS-225661  
Type: Information  
Status: New  

### Acronyms and their Full Forms:
- **LSS**: Lane Support Systems  
- **LDW**: Lane Departure Warning  
- **LKA**: Lane Keeping Assist  
- **ELK**: Emergency Lane Keeping Assist  
- **EKL**: Earliest Keeping Line  
- **LKL**: Latest Keeping Line  
- **EWL**: Earliest Warning Line  
- **LWL**: Latest Warning Line  
- **EPS**: Electric Power Steering  
- **HMI**: Human Machine Interface  

---

2.3 / 3 Feature Definition  

Requirement ID: FS-225662  
Type: Information  
Status: New  

Lane Support Systems (LSS) includes Lane Departure Warning (LDW), Lane Keep Assist (LKA), and Emergency Lane Keeping Assist (ELK).  

---

2.3.1 / 3.1 Function Overview  

Requirement ID: FS-225663  
Type: Information  
Status: New  

LDW/LKA aims to prevent unintentional lane or road departures. It detects lane markings and road edges and keeps the vehicle back to the lane center by acoustic warning or steering interaction in case of unintended departure.
</page>

<page number="14">
Emergency Lane Keeping Assist (ELK) supports all the scenarios defined in LKA and also prevents collisions with steering intervention to either oncoming or overtaking traffic in the adjacent lane when the system detects the host vehicle is about to drift.

2.3.2 / 3.2 Function Intervention Zone.

Requirement ID: FS-225664. Type: Functional. Status: In progress.

LDW, LKA and ELK can be triggered only within a defined intervention zone.

LDW warning can only be issued once the vehicle has crossed the 'Earliest Warning Line' into the 'Warning Zone.' And the vehicle drives beyond the 'Earliest Keeping Line' and moves into the 'Intervention Zone' unintendedly, LKA can provide active steering control to keep the vehicle stay in the ego lane. ELK can even provide steering intervention whenever an oncoming or overtaking target is detected when the vehicle is either unintendedly or intendedly drifting into the ELK keeping zone.

The earliest keeping line (EKL) will be affected by lane width, vehicle dynamic status and road condition. EKL of ELK can be calibrated. Now EKL of ELK is the same as LKA. When the vehicle is in the curve lane, both side EKL will move to the inner side of the curve. The earliest warning line (EWL) and latest warning line (LWL) are both parameters. 

The typical relationship of LDW, LKA and ELK intervention lines is shown as below:
- ELK Keeping Zone: The outermost intervention area triggered by ELK.
- LKA Keeping Zone: The medium intervention area designed for LKA.
- Warning Zone: The inside section that triggers LDW warnings or alerts.

Note:
A diagram illustrating the relationship of the lane center, boundaries, and the intervention zones of ELK, LKA, and LDW is provided for visual representation.
</page>

<page number="15">
LDW/LKA/ELK feature shall consider the following cases of road setup as lane boundaries:
- Both lane markings of type "solid," "dashed," "single," "double," or "road edge" are detected.
- Only one lane marking of type "solid," "dashed," "single," "double," or "road edge" is detected.

**Note:** The LDW warning zone for road edges is the same as the lane marker LDW warning zone.

---

### 2.3.3 / 3.3 Relation of LDW, LKA, and ELK LDW/LKA/ELK

**Requirement ID:** FS-225665  
**Type:** Information  
**Status:** New  

When ELK function is selected, LKA and LDW will both be selected. When LKA is selected, then LDW will be selected. LDW sensitivity can be configured via the HMI switch. LDW sensitivity includes options for:  
- Early  
- Normal  
- Late  

All sensitivity settings can be calibrated.

---

### 2.4 / 4 Feature Interfaces
</page>

<page number="16">
Requirement ID: FS-225666. Type: Information. Status: New.

2.4.1 / 4.1 Inputs 输入.

Requirement ID: FS-225667. Type: Information. Status: New.

Signal name 信号名称: 0x354.MHU_LA_Mode.  
Description 描述: Lane Assistance Mode select.  
Value range 取值范围:  
1. "OFF".  
2. "Warning only".  
3. "Warning & Steer".  
4. "ELK".  
4"Signal invalid".  
Function related 关联功能: LDW, LKA, ELK.

Signal name 信号名称: 0x354.MHU_LA_sens.  
Description 描述: LA Sensitivity (Early Normal Late).  
Value range 取值范围:  
3 "Signal invalid".  
2 "Late".  
1 "Normal".  
0 "Early".  
Function related 关联功能: LDW.

Signal name 信号名称: 0x20D.VDCActive.  
Description 描述: VDC activation.  
Value range 取值范围:  
1 "Active".  
0 "Inactive".  
Function related 关联功能: LKA, ELK.

Signal name 信号名称: 0x20D.IDBFault.  
Description 描述: IDB fault.  
Value range 取值范围:  
1 "Fault".  
0 "No fault".  
Function related 关联功能: LKA, ELK.

Signal name 信号名称: 0x20D.ESCActive.  
Description 描述: ESC activation.  
Value range 取值范围:  
1 "Active".  
0 "Inactive".  
Function related 关联功能: LKA, ELK.

Signal name 信号名称: 0x20D.ESCFault.  
Description 描述: ESC fault.  
Value range 取值范围:  
1 "Fault".  
0 "No fault".  
Function related 关联功能: LKA, ELK.

Signal name 信号名称: 0x95.STAT_DSC.  
Description 描述: Dynamic Stability Control status.  
Value range 取值范围:  
3 "Signal invalid".  
2 "IDB-OFF".  
1 "Track Mode".  
0 "IDB normal".  
Function related 关联功能: LKA, ELK.
</page>

<page number="17">
2.4.1 / 4.1 Inputs 输入

Requirement ID: FS-225667  
Type: Information  
Status: New  

#### Signal Name 信号名称:
- **0x20D.TCSActive**  
  - **Description 描述**: Traction control system activation  
  - **Value Range 取值范围**:  
    1. "Active"  
    0. "Inactive"  
  - **Function Related 关联功能**: LKA, ELK  

- **0x20D.TCSAvailable**  
  - **Description 描述**: Traction control system available  
  - **Value Range 取值范围**:  
    1. "Unavailable"  
    0. "Available"  
  - **Function Related 关联功能**: LKA, ELK  

- **0x20D.ABSActive**  
  - **Description 描述**: ABS active  
  - **Value Range 取值范围**:  
    1. "Active"  
    0. "Inactive"  
  - **Function Related 关联功能**: LKA, ELK  

- **0x40D.MHU_DigitSpeed**  
  - **Description 描述**: This signal represents the digital speed and is displayed; values between 301 and 511 are invalid.  
    Detail refer to CAN matrix.  
  - **Function Related 关联功能**: LDW, LKA, ELK  

- **0xD9.VCU_ACTGear**  
  - **Description 描述**: Actual gear, provides gear shift signal  
  - **Value Range 取值范围**:  
    7. "Fault"  
    6. "Reserved"  
    5. "Reserved"  
    4. "Reserved"  
    3. "D"  
    2. "N"  
    1. "R"  
    0. "P"  
  - **Function Related 关联功能**: LDW, LKA, ELK  

- **0x3F9.ST_GRSEL_DRV**  
  - **Description 描述**: The signal indicates the gear in which the gearbox is currently located (only for ICE).  
  - **Value Range 取值范围**:  
    1. "Initialization"  
    2. "N"  
    3. "R"  
    4. "P"  
    5. "NP"  
    6. "1"  
    7. "2"  
    8. "3"  
    9. "4"  
    10. "5"  
    11. "6"  
    12. "7"  
    13. "8"  
    14. "9"  
    15. "Signal invalid"  
  - **Function Related 关联功能**: LDW, LKA, ELK  

- **0x17D.YSS_YAW_RATE**  
  - **Description 描述**: This signal contains the physical value of Yaw rate with 0.005°/s LSB. The Yaw rate signal can have values from -163.830°/s (0x0000) to +163.830°/s.  
    Detail refer to CAN matrix.  
  - **Function Related 关联功能**: LDW, LKA, ELK
</page>

<page number="18">
Requirement ID: FS-225666  
Type: Information  
Status: New  

--

2.4.1 / 4.1 Inputs 输入  

Requirement ID: FS-225667  
Type: Information  
Status: New  

Signal name 信号名称 | Description 描述 | Value range 取值范围 | Function related 关联功能  
---|---|---|---  
0x20D.TCSActive | Traction control system activation | 1 "Active", 0 "Inactive" | LKA、ELK  
0x20D.TCSAvailable | Traction control system available | 1 "Unavailable", 0 "Available" | LKA、ELK  
0x20D.ABSActive | ABS active | 1 "Active", 0 "Inactive" | LKA、ELK  
0x40D.MHU_DigitSpeed | This signal represents the digital speed and is displayed; values between 301 and 511 are invalid. Detail refer to CAN matrix | LDW、LKA、ELK  
0xD9.VCU_ACTGear | Actual gear, provides gear shift signal: 7 "Fault", 6 "Reserved", 5 "Reserved", 4 "Reserved", 3 "D", 2 "N", 1 "R", 0 "P" | LDW、LKA、ELK  
0x3F9.ST_GRSEL_DRV | The signal indicates the gear in which the gearbox is currently located (only for ICE): 1 "Initialization", 2 "N", 3 "R", 4 "P", 5 "NP", 6 "1", 7 "2", 8 "3", 9 "4", 10 "5", 11 "6", 12 "7", 13 "8", 14 "9", 15 "Signal Invalid" | LDW、LKA、ELK  
0x17D.YSS_YAW_RATE | This signal contains the physical value of the Yaw rate with 0.005°/s LSB. The Yaw rate signal can have values from -163.830°/s (0x0000) to +163.830°/s (0xFFFC). The 0°/s value is assigned to (0x7FFE). Detail refer to CAN matrix | LDW、LKA、ELK  
0x289.VYAW_VEH | Yaw velocity vehicle. Detail refer to CAN matrix | LDW、LKA、ELK  
0x179.YSS_LAT_ACC | This signal contains the physical value of the Lateral acceleration with 0.002m/s² LSB. Detail refer to CAN matrix | LDW、LKA、ELK  
0x289.AcceleratorY | Lateral acceleration: 4095 "Invalid" | LDW、LKA、ELK  
0x178.YSS_LONG_ACC | This signal contains the physical value of the Longitudinal acceleration with 0.002m/s² LSB. Detail refer to CAN matrix | LDW、LKA、ELK  
0x289.AcceleratorX | Longitudinal acceleration: 4095 "Invalid" | LDW、LKA、ELK  
0x20D.VehicleSpd | Vehicle speed. Detail refer to CAN matrix | LDW、LKA、ELK  
0x109.BCM_TurnIndicator | Turn light output status: 0 "OFF", 1 "Left", 2 "Right" | LDW、LKA、ELK  
0x109.BCM_STAT_HazardWarn | Hazard Warning switch activation: 3 "Signal Invalid", 2 "Reserved", 1 "Active", 0 "Not Active" | LDW、LKA、ELK  
0x456.OP_COLS_SZ_L_LIN | Left Stalk Lever Signal (Light function): 0 "No action", 255 "Signal Invalid" | LDW、LKA、ELK
</page>

<page number="19">
• The status of each bit follows this:  
  - (0: Off, 1: ON)  
    - Bit 0: Highway flashing right indicator status  
    - Bit 1: Flashing right indicator status  
    - Bit 2: Highway flashing left indicator status  
    - Bit 3: Flashing left indicator status  
    - Bit 4: High-beam light status  
    - Bit 5: High-beam light flashing status  
    - Bit 6: Reserved  
    - Bit 7: Not used (this value is always ‘0’).  
  - 1111 1111: Signal Invalid  

### Signal Table (Part 4):
| Signal Name               | Description                            | Value Range                                        | Function Related |
|---------------------------|----------------------------------------|--------------------------------------------------|------------------|
| **0x37E.EPSAngRespSt**    | Electric steering mode                | 0: "Init (initialization)"                         | LKA, ELK         |
|                           |                                        | 1: "Ready (ready, can support)"                   |                  |
|                           |                                        | 2: "Active"                                       |                  |
|                           |                                        | 3: "Error (EPS failure)"                          |                  |
| **0x37E.EPS_SteeringTorque** | Steering torque (Positive, to left; Negative, to right) | 4095: "Invalid"                                  | LKA, ELK         |
| **0x37E.EPS_SteeringTorqueValid** | Validity of steering torque          | 1: "Invalid"                                     | LKA, ELK         |
|                           |                                        | 0: "Valid"                                       |                  |
| **0x414.HOD_status**      | Hands On and Off Detection            | 15: "Reserved"                                   | LKA, ELK         |
|                           |                                        | 14: "Reserved"                                   |                  |
|                           |                                        | 13: "Reserved"                                   |                  |
|                           |                                        | 12: "Reserved"                                   |                  |
|                           |                                        | 11: "Reserved"                                   |                  |
</page>

<page number="20">
Requirement ID: FS-225666  
Type: Information  
Status: New  

2.4.1 / 4.1 Inputs 输入  

Requirement ID: FS-225667  
Type: Information  
Status: New  

Signal name 信号名称 | Description 描述 | Value range 取值范围 | Function related 关联功能  
---|---|---|---  
0x354.MHU_LA_Mode | Lane Assistance Mode select | 1. "OFF" 2. "Warning only" 3. "Warning & Steer" 4. "ELK" 4 "Signal invalid" | LDW, LKA, ELK  
0x354.MHU_LA_sens | LA Sensitivity (Early Normal Late) | 3 "Signal invalid" 2 "Late" 1 "Normal" 0 "Early" | LDW  
0x20D.VDCActive | VDC activation | 1 "Active" 0 "Inactive" | LKA, ELK  
0x20D.IDBFault | IDB fault | 1 "Fault" 0 "No fault" | LKA, ELK  
0x20D.ESCActive | ESC activation | 1 "Active" 0 "Inactive" | LKA, ELK  
0x20D.ESCFault | ESC fault | 1 "Fault" 0 "No fault" | LKA, ELK  
0x95.STAT_DSC | Dynamic Stability Control status | 3 "Signal invalid" 2 "IDB-OFF" 1 "Track Mode" 0 "IDB normal" | LKA, ELK  
0x20D.TCSActive | Traction control system activation | 1 "Active" 0 "Inactive" | LKA, ELK  
0x20D.TCSAvailable | Traction control system available | 1 "Unavailable" 0 "Available" | LKA, ELK  
0x20D.ABSActive | ABS active | 1 "Active" 0 "Inactive" | LKA, ELK  
0x40D.MHU_DigitSpeed | Displays digital speed; values between 301-511 invalid. Detail refer to CAN matrix. | - | LDW, LKA, ELK  
0xD9.VCU_ACTGear | Actual gear, providing gear shift signal. Values range from 7 "Fault" to 0 "P". | - | LDW, LKA, ELK  
0x3F9.ST_GRSEL_DRV | Current gearbox gear (only ICE variant). Values range from 15 "Signal invalid" to 1 "Initialization." | - | LDW, LKA, ELK  
0x17D.YSS_YAW_RATE | Yaw rate physical values between -163.830°/s (0x0000) to +163.830°/s assigned to (0xFFFC); 0°/s assigned to (0x7FFE). | Detail refer to CAN matrix | LDW, LKA, ELK  
0x289.VYAW_VEH | Represents yaw velocity of the vehicle. | Detail refer to CAN matrix | LDW, LKA, ELK  
0x179.YSS_LAT_ACC | Lateral acceleration physical value with 0.002m/s² LSB. | Detail refer to CAN matrix | LDW, LKA, ELK  
0x289.AcceleratorY | Lateral acceleration value, 4095 signifies "Invalid." | - | LDW, LKA, ELK  
0x178.YSS_LONG_ACC | Longitudinal acceleration physical value with 0.002m/s² LSB. | Detail refer to CAN matrix | LDW, LKA, ELK  
0x289.AcceleratorX | Longitudinal acceleration value, 4095 signifies "Invalid." | - | LDW, LKA, ELK  
0x20D.VehicleSpd | Vehicle speed. | Detail refer to CAN matrix | LDW, LKA, ELK  
0x109.BCM_TurnIndicator | Turn light output status: 0 "OFF," 1 "Left," 2 "Right." | - | LDW, LKA, ELK  
0x109.BCM_STAT_HazardWarn | Hazard warning switch activation: 3 "Signal invalid" to 0 "Not active." | - | LDW, LKA, ELK  
0x456.OP_COLS_SZLLIN | Left stalk lever signal (light function): 0 "No action" and 255 "Signal Invalid." | - | LDW, LKA, ELK  
0x37E.EPSAngRespSt | Electric steering mode: ranges from 0 "Init" to 3 "Error (EPS failure)." | - | LKA, ELK  
0x37E.EPS_SteeringTorque | Steering torque values: positive for left, negative for right; 4095 signifies "Invalid." | - | LKA, ELK  
0x37E.EPS_SteeringTorqueValid | Steering torque validity: 1 "Invalid," 0 "Valid." | - | LKA, ELK  
0x414.HOD_status | Hands On and Off Detection status, ranges from 15 "Reserved" to 0 "Init." | - | LKA, ELK  
0x37E.EPS_Steering_angle | Represents EPS steering wheel angle (positive: left; negative: right). | Detail refer to CAN matrix | LDW, LKA, ELK  
0x17E.SAS_SteerWhlRotSpd | Current rotation speed of the steering wheel. | Detail refer to CAN matrix | LDW, LKA, ELK  
0x17E.SAS_SteerWheelAngle | Current angle of steering wheel (positive: left; negative: right). | Detail refer to CAN matrix | LDW, LKA, ELK  
0x20D.ESC_VehicleStandstill | Vehicle stationary detected: 0 "NO_VEHICLE_STANDSTILL," 1 "VEHICLE_STANDSTILL." | - | LDW, LKA, ELK  
0x31C.EPS_TorqueLimitationState | Torque limitation state: 1 "Saturation effective," 0 "No saturation." | - | LKA, ELK  
0x483.TPMS_FLTirePressAlarm | Front left tire pressure signal: ranges from 7 "Reserved" to 2 "Low pressure." | - | LDW, LKA, ELK
</page>

<page number="21">
• The status of each bit follows this:  
   - Bit 0: Highway flashing right indicator status (0: Off, 1: ON).  
   - Bit 1: Flashing right indicator status (0: Off, 1: ON).  
   - Bit 2: Highway flashing left indicator status (0: Off, 1: ON).  
   - Bit 3: Flashing left indicator status (0: Off, 1: ON).  
   - Bit 4: High-beam light status (0: Off, 1: ON).  
   - Bit 5: High-beam light flashing status (0: Off, 1: ON).  
   - Bit 6: Reserved.  
   - Bit 7: Not used (this value is always ‘0’).  
   - 1111 1111: Signal Invalid.  

#### Signal Descriptions:

**0x37E.EPSAngRespSt**  
Electric steering mode:  
- 0: "Init (initialization)"  
- 1: "Ready (ready, can support)"  
- 2: "Active"  
- 3: "Error (EPS failure)"  

**0x37E.EPS_SteeringTorque**  
Steering torque (positive value denotes left; negative value denotes right):  
- 4095: "Invalid"  

**0x37E.EPS_SteeringTorqueValid**  
Validity of steering torque:  
- 1: "Invalid"  
- 0: "Valid"  

**0x414.HOD_status**  
Hands On and Off Detection:  
- 15: "Reserved"  
- 14: "Reserved"  
- 13: "Reserved"  
- 12: "Reserved"  
- 11: "Reserved"  
- 10: "Reserved"  
- 9: "Reserved"  
- 8: "Reserved"  
- 7: "Reserved"  
- 6: "Reserved"  
- 5: "Invalid value"  
- 4: "HOD error"  
- 3: "Energie_Save_Mode"  
- 2: "Hands ON"  
- 1: "Hands OFF"  
- 0: "Init"

**0x37E.EPS_Steering_angle**  
EPS steering wheel angle (positive value denotes left; negative value denotes right):  
- Value details are defined in CAN matrix.  

**0x37E.EPS_Steering_angle_spd**  
EPS steering angle speed:  
- Value details are defined in CAN matrix.  

**0x17E.SAS_SteerWhlRotSpd**  
Current rotation speed of the steering wheel:  
- Value details are defined in CAN matrix.  

**0x17E.SAS_SteerWheelAngle**  
Current angle of the steering wheel (positive value denotes left; negative value denotes right):  
- Values are defined in CAN matrix.  

**0x20D.ESC_VehicleStandstill**  
Vehicle stationary detected:  
- 0: "NO_VEHICLE_STANDSTILL"  
- 1: "VEHICLE_STANDSTILL"  

**0x31C.EPS_TorqueLimitationState**  
Torque limitation state:  
- 1: "Saturation effective"  
- 0: "No saturation"

**0x483.TPMS_FLTirePressAlarm**  
Front left tire pressure alarm signal:  
- 7: "Reserved"  
- 6: "Sensor failure"  
- 5: "Sensor battery low"  
- 4: "Lost Sensor"  
- 3: "Quick leakage"  
- 2: "Low pressure warning"  
- 1: "High pressure warning"  
- 0: "No warning"  

**0x483.TPMS_FRTirePressAlarm**  
Front right tire pressure alarm signal:  
- 7: "Reserved"  
- 6: "Sensor failure"  
- 5: "Sensor battery low"  
- 4: "Lost Sensor"  
- 3: "Quick leakage"  
- 2: "Low pressure warning"  
- 1: "High pressure warning"  
- 0: "No warning"  

**0x483.TPMS_RLTirePressAlarm**  
Rear left tire pressure alarm signal:  
- 7: "Reserved"  
- 6: "Sensor failure"  
- 5: "Sensor battery low"  
- 4: "Lost Sensor"  
- 3: "Quick leakage"  
- 2: "Low pressure warning"  
- 1: "High pressure warning"  
- 0: "No warning"  

**0x483.TPMS_RRTirePressAlarm**  
Rear right tire pressure alarm signal:  
- 7: "Reserved"  
- 6: "Sensor failure"  
- 5: "Sensor battery low"  
- 4: "Lost Sensor"  
- 3: "Quick leakage"  
- 2: "Low pressure warning"  
- 1: "High pressure warning"  
- 0: "No warning"  

**0x105.BCM_STAT_DoorAjarFL**  
Front left door status:  
- 3: "Signal invalid"  
- 2: "Reserved"  
- 1: "Opened"  
- 0: "Closed"
</page>

<page number="22">
Requirement ID: FS-225668  
Type: Information  
Status: New  

2.4.2 / 4.2 Outputs 输出  

Signal name 信号名称  
Description 描述  
Value range 取值范围  
Function related 关联功能  

0x105.BCM_STAT_DoorAjarFR  
Ajar Door Front Right Status:  
- 3: "Signal invalid"  
- 2: "Reserved"  
- 1: "Opened"  
- 0: "Closed"  
Function related: LDW, LKA, ELK  

0x105.BCM_STAT_DoorAjarRL  
Ajar Door Rear Left Status:  
- 3: "Signal invalid"  
- 2: "Reserved"  
- 1: "Opened"  
- 0: "Closed"  
Function related: LDW, LKA, ELK  

0x105.BCM_STAT_DoorAjarRR  
Ajar Door Rear Right Status:  
- 3: "Signal invalid"  
- 2: "Reserved"  
- 1: "Opened"  
- 0: "Closed"  
Function related: LDW, LKA, ELK  

0x105.BCM_STAT_TrunkAjar  
Trunk Ajar Door Status:  
- 3: "Signal invalid"  
- 2: "Reserved"  
- 1: "Opened"  
- 0: "Closed"  
Function related: LDW, LKA, ELK  

0x235.TowingDetected  
Towing status (reserved):  
- 3: "Invalid"  
- 1: "Towing detected"  
- 0: "Towing not detected"  
Function related: LDW, LKA, ELK  

0x105.BCM_STAT_BonnetAjar  
Bonnet Ajar Door Status:  
- 3: "Signal invalid"  
- 2: "Reserved"  
- 1: "Opened"  
- 0: "Closed"  
Function related: LDW, LKA, ELK  

0x235.TrailerDetected  
Trailer status:  
- 3: "Invalid"  
- 1: "Trailer detected"  
- 0: "Trailer not detected"  
Function related: LDW, LKA, ELK
</page>

<page number="23">
Requirement ID: FS-225668  
Type: Information  
Status: New  

Signal name 信号名称  
- **0x127.ADAS_LA_Mode_Feed:** Feedback of LA mode select (From MHU setting).  
  Value range 取值范围:  
  - 0: "OFF"  
  - 1: "Warning only"  
  - 2: "Warning & Steer"  
  - 3: "ELK"  
  - 4: "Signal invalid"  
  Function related 关联功能: LDW, LKA, ELK.  

- **0x127.ADAS_LA_sens_Feed:** Sensitivity Feedback.  
  Value range 取值范围:  
  - 0: "Early"  
  - 1: "Normal"  
  - 2: "Late"  
  - 3: "Reserved"  
  Function related 关联功能: LDW.  

- **0x127.ADAS_LKA_HOD_state:** Hands On and Off status.  
  Value range 取值范围:  
  - 1: "Hands Off Warning"  
  - 0: "Hands On"  
  Function related 关联功能: LKA, ELK.  

- **0x127.ADAS_ECU_check:** ADAS ECU fault.  
  Value range 取值范围:  
  - 2: "reserved"  
  - 1: "Fault"  
  - 0: "Available"  
  Function related 关联功能: LDW, LKA, ELK.  

- **0x127.ADAS_LKA_check:** Lane Keeping Assist Check.  
  Value range 取值范围:  
  - 0: "Available"  
  - 1: "Fault"  
  - 2: "reserved"  
  - 3: "reserved"  
  Function related 关联功能: LKA.  

- **0x127.ADAS_LDW_check:** Lane Departure Warning Check.  
  Value range 取值范围:  
  - 0: "Available"  
  - 1: "Fault"  
  - 2: "reserved"  
  - 3: "reserved"  
  Function related 关联功能: LDW.
</page>

<page number="24">
Requirement ID: FS-225668.
Type: Information.
Status: New.

Signal name: 0x127.ADAS_LA_Mode_Feed.
Description: Feedback of LA mode select (From MHU setting).
Value range: 
- 0: "OFF"
- 1: "Warning only"
- 2: "Warning & Steer"
- 3: "ELK"
- 4: "Signal invalid".
Function related: LDW, LKA, ELK.

Signal name: 0x127.ADAS_LA_sens_Feed.
Description: Sensitivity Feedback.
Value range:
- 0: "Early"
- 1: "Normal"
- 2: "Late"
- 3: "Reserved".
Function related: LDW.

Signal name: 0x127.ADAS_LKA_HOD_state.
Description: Hands On and Off status.
Value range:
- 1: "Hands Off Warning"
- 0: "Hands On".
Function related: LKA, ELK.

Signal name: 0x127.ADAS_ECU_check.
Description: ADAS ECU fault.
Value range:
- 2: "reserved"
- 1: "Fault"
- 0: "Available".
Function related: LDW, LKA, ELK.

Signal name: 0x127.ADAS_LKA_check.
Description: Lane Keeping Assist Check.
Value range:
- 0: "Available"
- 1: "Fault"
- 2: "reserved"
- 3: "reserved".
Function related: LKA.

Signal name: 0x127.ADAS_LDW_check.
Description: Lane Departure Warning Check.
Value range:
- 0: "Available"
- 1: "Fault"
- 2: "reserved"
- 3: "reserved".
Function related: LDW.

Signal name: 0x206.ADAS_ELK_check.
Description: Emergency Lane Keeping check.
Value range:
- 0: "Available"
- 1: "Fault"
- 2: "automatic deactivation"
- 3: "OFF-Manual deactivation".
Function related: ELK.

Signal name: 0x132.ADAS_HapWarning.
Description: Haptic device operation command.
Value range:
- 0: "Deactivation"
- 1: "Activation".
Function related: LDW.

Signal name: 0x37A.ADAS_EPS_StrWhe_AOLAct.
Description: Active AOL request for Angle overlay control.
Value range:
- 0: "Deactivate Angle Overlay"
- 1: "Activate Angle Overlay"
- 2: "Reserve"
- 3: "Reserve".
Function related: LKA, ELK.

Signal name: 0x37A.ADAS_EPS_AOLReq.
Description: Steering Angle Request for ADAS lateral control features.
Value range: Detail refer to CAN matrix.
Function related: LKA, ELK.

Signal name: 0x37A.ADAS_EPS_Torq_Fact_Req.
Description: Torque factor for EPS.
Value range: Detail refer to CAN matrix.
Function related: LKA, ELK.

Signal name: 0x206.ADAS_LA_Display.
Description: Lane assist function and lane display (include sound warning).
Value range:
- 0–13: "valid value"
- 14–15: "reserved".
Function related: LDW, LKA, ELK.

Signal name: 0x127.ADAS_LA_popup.
Description: Lane assist function popup message.
Value range:
- 7: "Lane assist unavailable"
- 6: "Emergency lane keep assist"
- 5: "Lane keep assist in intervention"
- 4: "Emergency lane keep assist".
Function related: LDW, LKA, ELK.
</page>

<page number="25">
Signal name 信号名称  
Description 描述  
Value range 取值范围  
Function related 关联功能  

0x127.ADAS_LA_veh_pos_left. Vehicle position to left lane. Detail refer to CAN matrix. LDW, LKA, ELK.  

0x127.ADAS_LA_veh_pos_right. Vehicle position to right lane. Detail refer to CAN matrix. LDW, LKA, ELK.  

0x206.ADAS_Lane_Line_Curva_Radius. Lane line curvature radius (minus for left curve, plus for right curve, radius > 1000m, display as straight curve). Detail refer to CAN matrix. LDW, LKA, ELK.  

0x204.L0_LINE_TYPE. Left lane line type (reserved only, no need to check).  
3 "Roadside"  
2 "Dashed Line"  
1 "Solid Line"  
0 "No display"  
LDW, LKA, ELK.  

0x33B.L0_ExistProbability. Host Lane left line exist probability (reserved only, no need to check). Detail refer to CAN matrix. LDW, LKA, ELK.  

0x203.R0_LINE_TYPE. Right lane line type (reserved only, no need to check).  
3 "Roadside"  
2 "Dashed Line"  
1 "Solid Line"  
0 "No display"  
LDW, LKA, ELK.  

0x33B.R0_ExistProbability. Host Lane right line exist probability (reserved only, no need to check). Detail refer to CAN matrix. LDW, LKA, ELK.
</page>

<page number="26">
Signal name 信号名称  
Description 描述  
Value range 取值范围  
Function related 关联功能  

0x33B.Camera_L1_Line_Type  
Left left lane line type.  
0 "Off"  
1 "Gray ICON"  
2 "Green ICON"  
3 "reserved"  
Function related: M2  

0x33B.L1_ExistProbability (reserved only, no need to check)  
Far right line exist probability.  
Detail refer to CAN matrix.  
Function related: M2  

0x33B.Camera_R1_Line_Type (reserved only, no need to check)  
Right right lane line type.  
3 "Roadside"  
2 "Dashed Line"  
1 "Solid Line"  
0 "No display"  
Function related: M2  

0x33B.R1_ExistProbability (reserved only, no need to check)  
Far right line exist probability.  
Detail refer to CAN matrix.  
Function related: M2  

0x134.ADAS_far_lane_info  
Status of far right and far left lane.  
0 "left and right not detected"  
1 "left detected & right not detected"  
2 "left not detected and right detected"  
3 "both detected"  
Function related: M2  

0x206.ADAS_handsoff_Warning_Mode_2  
Hands off warning level.  
0 "No Warning!"  
1 "Level 1"  
2 "Level 2"  
3 "Level 3"  
4 "reserved"  
5 "reserved"  
6 "reserved"  
7 "reserved"  
Function related: LKA, ELK  

### 2.5 / 5 Function States and Transitions 功能状态机  
Requirement ID: FS-225669  
Type: Condition  
Status: New
</page>

<page number="27">
2.5.1 / 5.1 LDW State Transition LDW 状态跳转.

Requirement ID: FS-225670.  
Type: Condition.  
Status: New.  

2.5.1.1 / 5.1.1 OFF --> Standby 关闭 --> 待定.

Requirement ID: FS-225671.  
Type: Functional.  
Status: Accepted.  

The system shall transfer from "System Off" state to "Standby" state, if all of below conditions are fulfilled:  
1. Ignition ON (running & cranking).  
2. Camera initialization is completed (less than 12s).  
3. LDW function is set enabled by HMI switch.  
4. No LDW system faults are detected. ADAS_LDW_check = 0.  

2.5.1.2 / 5.1.2 OFF --> FAULT 关闭 --> 故障.
</page>

<page number="28">
2.5.1 / 5.1 LDW State Transition LDW 状态跳转

Requirement ID: FS-225670  
Type: Condition  
Status: New  

---

2.5.1.1 / 5.1.1 OFF --> Standby 关闭 --> 待定

Requirement ID: FS-225671  
Type: Functional  
Status: Accepted  

The system shall transfer from "System Off" state to "Standby" state, if all of below conditions are fulfilled:  
1. Ignition ON (running & cranking);  
2. Camera initialization is completed (less than 12s);  
3. LDW function is set enabled by HMI switch;  
4. No LDW system faults are detected. ADAS_LDW_check = 0  

---

2.5.1.2 / 5.1.2 OFF --> FAULT 关闭 --> 故障  

Requirement ID: FS-225676  
Type: Functional  
Status: Accepted  

The system shall transfer from "off" state to "fault" state, if all of below conditions are fulfilled:  
1. Ignition ON (running & cranking);  
2. Camera initialization is completed;  
3. LDW function is set enabled by HMI switch;  
4. LDW system faults are detected ADAS_LDW_check = 1  

---

2.5.1.3 / 5.1.3 FAULT --> OFF 故障 --> 关闭  

Requirement ID: FS-225681  
Type: Functional  
Status: Accepted  

The system shall transfer from "fault" state to "off" state, if at least one of below conditions is fulfilled:  

2.5.1.3.1 / Ignition Off  

Requirement ID: FS-225682  
Type: Functional  
Status: Accepted  

---

2.5.1.3.2 / LDW function is off by HMI switch.  

Requirement ID: FS-225683  
Type: Functional  
Status: Accepted  

---

2.5.1.4 / 5.1.4 ON --> OFF 开启 --> 关闭  

Requirement ID: FS-225684  
Type: Functional  
Status: Accepted  

The system shall transfer from "standby" state to "off" state, if one of below conditions is fulfilled:
</page>

<page number="29">
2.5.1.4.1 / Ignition Off.

Requirement ID: FS-225685  
Type: Functional  
Status: Accepted  

--

2.5.1.4.2 / LDW function is off by HMI switch.

Requirement ID: FS-225686  
Type: Functional  
Status: Reopen  

-

2.5.1.5 / 5.1.5 ON --> FAULT 开启 --> 故障.

Requirement ID: FS-225687  
Type: Functional  
Status: Accepted  

The system shall transfer from "on" state to "fault" state, if below condition is fulfilled:  
LDW system faults are detected.  

2.5.1.6 / 5.1.6 FAULT --> ON 故障 --> 开启.

Requirement ID: FS-225689  
Type: Functional  
Status: Accepted  

The system shall transfer from "fault" state to "on" state, if below condition is fulfilled:  
LDW system faults are deleted.  

2.5.1.7 / 5.1.7 Standby --> Active 待定 --> 激活.

Requirement ID: FS-225691  
Type: Functional  
Status: Reopen
</page>

<page number="30">
The system shall transfer from "Standby" state to "Active" state, if all of the following conditions are fulfilled:
1. No LDW system fault is detected.
2. No Camera failsafe condition is set.
3. Cluster vehicle speed is within range (60kph-150kph) for 0.1 seconds.
4. Lateral acceleration absolute value must be within range (<2.5m/s²) for 3 seconds.
5. Longitudinal acceleration must be within range (<3m/s²) for 3 seconds.
6. Longitudinal deceleration absolute value must be within range for 3 seconds (below the threshold) as specified in the table below:

| Vehicle speed (km/h) | Longitudinal deceleration absolute value (m/s²) |
|-----------------------|-----------------------------------------------|
| 0                     | 5.0                                           |
| 5                     | 5.0                                           |
| 18                    | 5.0                                           |
| 72                    | 3.5                                           |
| 90                    | 3.5                                           |
| 100                   | 3.5                                           |
| 120                   | 3.5                                           |
| 140                   | 3.5                                           |

7. Detect both sides of lane boundary, and lane width is wider than the minimum limit (<2.5m), or detect only one side of the lane boundary.
8. Vehicle is within the non-warning zone (between the two EWLs). Note: EWL refers to "Early Warning Line" inside the lane, and the distance between EWL and the lane line is defined as LDWS_LIMIT_DIST_ACT_NORMAL (default: 0.1m; can be calibrated).
9. Lane curvature absolute value must be within range (below threshold) as specified in the table below:

| Vehicle speed (km/h) | Curvature absolute value (1/m) |
|-----------------------|-------------------------------|
| 50                    | 0.009                         |
| 65                    | 0.009                         |
| 70                    | 0.0077                        |
| 80                    | 0.0059                        |
| 90                    | 0.0047                        |
| 100                   | 0.0038                        |
| 120                   | 0.0026                        |
| 140                   | 0.0020                        |
| 150                   | 0.0014                        |
| 160                   | 0.0006                        |
</page>

<page number="31">
10. Vehicle is running in forward (Gear shift position is not in R).  
11. Hazard switch is off for 3 seconds.  
12. No tire alarm and doors open and towing detected for 0.8 seconds.  

### 2.5.1.8 / 5.1.8 Active --> Standby 激活 --> 待定  
**Requirement ID:** FS-225700  
**Type:** Functional  
**Status:** Accepted  

The system shall transfer from "Active" state to "Standby" state, if any of the below conditions is fulfilled:  

#### 2.5.1.8.1 Any camera failsafe condition is set.  
**Requirement ID:** FS-225701  
**Type:** Functional  
**Status:** Accepted  

---

#### 2.5.1.8.2 Cluster vehicle speed is out of range (<55kph or >155kph) for 0.1 seconds.  
**Requirement ID:** FS-225702  
**Type:** Functional  
**Status:** Accepted  

---

#### 2.5.1.8.3 Lateral acceleration absolute value is out of range (>3.0m/s²) for 0.1 seconds.  
**Requirement ID:** FS-225703  
**Type:** Functional  
**Status:** Reopen  

---

#### 2.5.1.8.4 Longitudinal acceleration is out of range (>3.5m/s²) for 0.1 seconds.  
**Requirement ID:** FS-225704  
**Type:** Functional  
**Status:** Reopen
</page>

<page number="32">
10. Vehicle is running in forward (Gear shift position is not in R).  
11. Hazard switch is off for 3s.  
12. No tire alarm, doors open, or towing detected for 0.8s.  

---

### 2.5.1.8 / 5.1.8 Active --> Standby 激活 --> 待定

**Requirement ID:** FS-225700  
**Type:** Functional  
**Status:** Accepted  

The system shall transfer from "Active" state to "Standby" state if any below condition is fulfilled:  

#### 2.5.1.8.1 / Any camera failsafe condition is set  
**Requirement ID:** FS-225701  
**Type:** Functional  
**Status:** Accepted  

#### 2.5.1.8.2 / Cluster vehicle speed is out of range (<55kph or >155kph) for 0.1s  
**Requirement ID:** FS-225702  
**Type:** Functional  
**Status:** Accepted  

#### 2.5.1.8.3 / Lateral acceleration absolute value is out of range (>3.0m/s²) for 0.1s  
**Requirement ID:** FS-225703  
**Type:** Functional  
**Status:** Reopen  

#### 2.5.1.8.4 / Longitudinal acceleration is out of range (>3.5m/s²) for 0.1s  
**Requirement ID:** FS-225704  
**Type:** Functional  
**Status:** Reopen  

#### 2.5.1.8.5 / Longitudinal deceleration absolute value is out of range for 0.1s (above threshold) as per below table  
**Requirement ID:** FS-225705  
**Type:** Functional  
**Status:** Reopen  

| Vehicle speed (km/h)      | 0   | 5   | 18  | 72  | 90  | 100 | 120 | 140 |
|---------------------------|-----|-----|-----|-----|-----|-----|-----|-----|
| Longitudinal deceleration absolute value (m/s²) | 5.5 | 5.5 | 5.5 | 4.0 | 4.0 | 4.0 | 4.0 | 4.0 |

#### 2.5.1.8.6 / Detect both sides of lane boundary but lane width is narrower than the minimum limit (<2.45m)  
**Requirement ID:** FS-225706  
**Type:** Functional  
**Status:** Accepted  

#### 2.5.1.8.7 / No lane boundary is detected  
**Requirement ID:** FS-225707  
**Type:** Functional  
**Status:** Accepted  

#### 2.5.1.8.8 / Vehicle exceeds LWL  
**Requirement ID:** FS-225708  
**Type:** Functional  
**Status:** Reopen  

**Note:** LWL is outside of lane, and the distance between LWL and the line inside is parameter value: 0.3m
</page>

<page number="33">
2.5.1.8.9 / Lane curvature radius absolute value is out of range (above the threshold).

Requirement ID: FS-456744  
Type: Functional  
Status: In progress  

**Vehicle speed (km/h):**  
50, 65, 70, 80, 90, 100, 120, 140, 150, 160  

**Curvature absolute value (1/m):**  
0.01, 0.01, 0.0086, 0.0066, 0.0052, 0.0042, 0.0029, 0.0022, 0.0015, 0.0007  

---

2.5.1.8.10 / Vehicle is not running in forward (Gear shift position is in R).

Requirement ID: FS-456747  
Type: Functional  
Status: In progress  

---

2.5.1.8.11 / Hazard switch is ON for 0.1s.

Requirement ID: FS-456748  
Type: Functional  
Status: In progress  

---

2.5.1.8.12 / Tire alarm or Doors open or towing or trailer detected is true.

Requirement ID: FS-456749  
Type: Functional  
Status: In progress  

---

2.5.1.9 / 5.1.9 Active 激活

Requirement ID: FS-225709  
Type: Condition  
Status: Accepted
</page>

<page number="34">
2.5.1.9.1 / 1. Active_NoWarning to Active_Warning (intervention state).

Requirement ID: FS-225710  
Type: Condition  
Status: reopen  

The system shall transfer from "Active_NoWarning" state to "Active_Warning" state, if one of below conditions is fulfilled:  

2.5.1.9.1.1 / Vehicle is within left warning zone (between left EWL and LWL) and left turn indicator is Off.

Requirement ID: FS-225711  
Type: Functional  
Status: Accepted  

2.5.1.9.1.2 / Vehicle is within right warning zone (between right EWL and LWL) and right turn indicator is Off.

Requirement ID: FS-225712  
Type: Condition  
Status: reopen  

2.5.1.9.2 / 2. Active_Warning to Active_NoWarning.

Requirement ID: FS-225713  
Type: Functional  
Status: Accepted  

The system shall transfer from "Active_Warning" state to "Active_NoWarning" state, if below condition is fulfilled:  
Vehicle is pulled back into the non-warning zone (between both EWL).

2.5.1.10 / 5.1.10 Active --> Override 激活 --> 接管.

Requirement ID: FS-225715  
Type: Functional  
Status: Accepted
</page>

<page number="35">
The system shall transfer from "Active" state to "Override" state, if one of below conditions is fulfilled:

2.5.1.10.1 / Vehicle is within left warning zone but left turn indicator is ON for 0.1s.
Requirement ID: FS-225716  
Type: Functional  
Status: reopen  

--

2.5.1.10.2 / Vehicle is within Right warning zone but right turn indicator is ON for 0.1s.
Requirement ID: FS-225717  
Type: Functional  
Status: reopen  

--

2.5.1.10.3 / Steer wheel angle is out of range (The limitation is a map based on vehicle speed) for 0.1s.
Requirement ID: FS-225718  
Type: Functional  
Status: reopen  

Speed map with corresponding maximum steering angle values:  
- Speed (km/h): 0, 20, 40, 60, 80, 100, 120, 150.  
- Maximum Angle Request (deg): 180, 90, 90, 60, 50, 40, 40, 40.  

--

2.5.1.10.4 / Steer wheel speed is out of range (>200°/s) for 0.1s.
Requirement ID: FS-241041  
Type: Functional  
Status: reopen
</page>

<page number="36">
2.5.1.11 / 5.1.11 Override --> Active 接管 --> 激活.

Requirement ID: FS-225719.  
Type: Functional.  
Status: reopen.  

The system shall transfer from "Override" state to "Active" state, if all below conditions are fulfilled when vehicle is within the warning zone:  
1. Turn indicator to the warning side is Off for 3s;  
2. Steer wheel angle is in range (The limitation is a map based on vehicle speed) for 2s;  
3. Steer wheel speed is in range (<150°/s) for 2s.  

---

2.5.1.12 / 5.1.12 Override --> Standby 接管 --> 待机.

Requirement ID: FS-225722.  
Type: Condition.  
Status: reopen.  

The system shall transfer from "Override" state to "Standby" state, if any below condition is fulfilled:  

2.5.1.12.1 / Any camera failsafe condition is set.  

Requirement ID: FS-225723.  
Type: Functional.  
Status: Accepted.  

2.5.1.12.2 / Cluster vehicle speed is out of range (<55kph or >155kph).  

Requirement ID: FS-225724.  
Type: Functional.  
Status: Accepted.  

2.5.1.12.3 / Lateral acceleration absolute value is out of range (>3.0m/s2).  

Requirement ID: FS-225725.  
Type: Condition.  
Status: reopen.
</page>

<page number="37">
1. (This also be a table after tuning);

2.5.1.12.4 / Longitudinal acceleration is out of range (>3.5m/s2);
Requirement ID: FS-225726  
Type: Condition  
Status: Accepted  

--

2.5.1.12.5 / Longitudinal deceleration absolute value is out of range (above the threshold) as below table:
Requirement ID: FS-225727  
Type: Condition  
Status: reopen  

Vehicle speed (km/h):  
- 0  
  Longitudinal deceleration absolute value (m/s2): 5.5  
- 5  
  Longitudinal deceleration absolute value (m/s2): 5.5  
- 18  
  Longitudinal deceleration absolute value (m/s2): 5.5  
- 72  
  Longitudinal deceleration absolute value (m/s2): 4.0  
- 90  
  Longitudinal deceleration absolute value (m/s2): 4.0  
- 100  
  Longitudinal deceleration absolute value (m/s2): 4.0  
- 120  
  Longitudinal deceleration absolute value (m/s2): 4.0  
- 140  
  Longitudinal deceleration absolute value (m/s2): 4.0  

--

2.5.1.12.6 / Detect both sides of lane boundary but lane width is narrow than the minimum limit (<2.45m);  
Requirement ID: FS-225728  
Type: Condition  
Status: Accepted  

--

2.5.1.12.7 / No lane boundary is detected;  
Requirement ID: FS-225729  
Type: Condition  
Status: Accepted
</page>

<page number="38">
--  

2.5.1.12.8 / Vehicle exceeds LWL.

Requirement ID: FS-225730  
Type: Condition  
Status: Accepted  

--  

2.5.1.12.9 / Lane curvature absolute value is out of range (above the threshold).

Requirement ID: FS-225731  
Type: Condition  
Status: reopen  

Vehicle speed (km/h):  
- 50: Curvature absolute value is 0.01  
- 65: Curvature absolute value is 0.01  
- 70: Curvature absolute value is 0.0086  
- 80: Curvature absolute value is 0.0066  
- 90: Curvature absolute value is 0.0052  
- 100: Curvature absolute value is 0.0042  
- 120: Curvature absolute value is 0.0029  
- 140: Curvature absolute value is 0.0022  
- 150: Curvature absolute value is 0.0015  
- 160: Curvature absolute value is 0.0007  

--  

2.5.1.12.10 / Vehicle is not running in forward (Gear shift position is in R).

Requirement ID: FS-225732  
Type: Condition  
Status: Accepted  

--  

2.5.1.12.11 / Hazard switch is ON.

Requirement ID: FS-225733  
Type: Condition  
Status: Accepted  

--
</page>

<page number="39">
2.5.1.12.12 / Tire alarm or Doors open or towing or trailer detected is true.

Requirement ID: FS-225734  
Type: Condition  
Status: reopen  

---

2.5.2 / 5.2 LKA/ELK State Transition LKA/ELK 状态跳转

Requirement ID: FS-225735  
Type: Condition  
Status: New  

2.5.2.1 / 5.2.1 OFF --> Standby 关闭 --> 待定  

Requirement ID: FS-225736  
Type: Functional  
Status: New  

The system shall transfer from "System Off" state to "Standby" state, if all of below conditions are fulfilled:
1. Ignition ON;  
2. LKA/ELK function is set enabled by HMI button;  
3. LKA/ELK function is switched default on in a new IGN cycle.
</page>

<page number="40">
2.5.2.2 / 5.2.2 ON --> OFF 开启 --> 关闭.

Requirement ID: FS-225737  
Type: Condition  
Status: New  

The system shall transfer from any of "On" state to "off" state, if any below condition is fulfilled:  

2.5.2.2.1 / Ignition Off.  

Requirement ID: FS-225738  
Type: Condition  
Status: New  

--  

2.5.2.2.2 / LKA/ELK function is switched off by HMI button.  

Requirement ID: FS-225739  
Type: Condition  
Status: New  

--  

2.5.2.3 / 5.2.3 OFF --> FAULT 关闭 --> 故障.

Requirement ID: FS-225740  
Type: Functional  
Status: New  

The system shall transfer from "off" state to "fault" state, if all of below conditions are fulfilled:  
1. Ignition ON;  
2. Camera initialization is completed;  
3. LKA function is switched on by LKA HMI button or default on in a new IGN cycle;  
4. LKA system faults are detected.  

2.5.2.4 / 5.2.4 ON --> FAULT 开启 --> 故障.

Requirement ID: FS-225745  
Type: Condition  
Status: New
</page>

<page number="41">
2.5.2.4.1 / LKA system faults are detected.

Requirement ID: FS-225746  
Type: Condition  
Status: New  

---

2.5.2.5 / 5.2.5 FAULT --> OFF 故障 --> 关闭

Requirement ID: FS-225747  
Type: Condition  
Status: New  

The system shall transfer from any of "fault" state to "off" state, if any below condition is fulfilled:  

2.5.2.5.1 / Ignition Off;  

Requirement ID: FS-225748  
Type: Condition  
Status: New  

---

2.5.2.5.2 / LKA/ELK function is switched off.  

Requirement ID: FS-225749  
Type: Condition  
Status: New  

---

2.5.2.6 / 5.2.6 FAULT --> ON 故障 --> 开启  

Requirement ID: FS-225750  
Type: Condition  
Status: New  

The system shall transfer from "fault" state to "on" state, if below condition is fulfilled:
</page>

<page number="42">
2.5.2.6.1 / LKA system faults are deleted.

Requirement ID: FS-225751  
Type: Condition  
Status: New  

---

2.5.2.7 / 5.2.7 Standby --> Active 待定 --> 激活

Requirement ID: FS-225752  
Type: Functional  
Status: New  

The system shall transfer from "Standby" state to "Active" state, if all of below conditions are fulfilled:  

1. No LKA fault is detected;  
2. No camera failsafe;  
3. Cluster vehicle speed is in range (60kph-150kph) for 0.1s;  
4. Lateral acceleration absolute value is in range (< 2.5m/s²) for 3s;  
5. Both lane boundaries are detected, and lane width is wider than the minimum limitation (> 2.5m), or only one lane boundary is detected;  
6. Vehicle is in Non-intervention zone (between left EKL and right EKL);  
7. Lane curvature absolute value is in range (below threshold):  

Vehicle speed (km/h): 50, 65, 70, 80, 90, 100, 120, 140, 150, 160  
Curvature absolute value (1/m): 0.009, 0.009, 0.0077, 0.0059, 0.0047, 0.0038, 0.0026, 0.0020, 0.0014, 0.0006  

8. ABS, TCS, and IDB (BEV)/ESC (ICE) are all inactive (NO ESC OFF) for 3s;  
9. Vehicle is running in forward (Gear shift position is not in R);  
10. Longitudinal acceleration is in range for 3s (below the threshold) as below table:  

Vehicle speed (km/h): 0, 5, 18, 72, 90, 100, 120, 140
</page>

<page number="43">
2.5.2.8.4 / Detects only one lane boundary but lane width is narrower than the minimum limit (<2.45m).

Requirement ID: 
FS-225770  
Type:  
Condition  
Status:  
New  

--

2.5.2.8.5 / No lane boundary detected.

Requirement ID:  
FS-225771  
Type:  
Condition  
Status:  
New  

--

2.5.2.8.6 / Vehicle exceeds LWL.

Requirement ID:  
FS-225772  
Type:  
Condition  
Status:  
New  

--

2.5.2.8.7 / Lane curvature absolute value is out of range (above the threshold).

Requirement ID:  
FS-225773  
Type:  
Condition  
Status:  
New  

Vehicle speed (km/h):  
50, 65, 70, 80, 90, 100, 120, 140, 150, 160  

Curvature absolute value (1/m):  
0.01, 0.01, 0.0086, 0.0066, 0.0052, 0.0042, 0.0029, 0.0022, 0.0015, 0.0007  

--

2.5.2.8.8 / Vehicle not running in forward (Gear shift position is in R).

Requirement ID:  
FS-225774  
Type:  
Condition  
Status:  
New  

--

2.5.2.8.9 / Hazard switch is ON.

Requirement ID:  
FS-225775  
Type:  
Condition  
Status:  
New  

--

2.5.2.8.10 / Tire alarm, Doors open, towing, or trailer detected is true.

Requirement ID:  
FS-225776  
Type:  
Condition  
Status:  
New
</page>

<page number="44">
(This also be a table after tuning);

2.5.2.8.4 / Both lane boundaries are detected and lane width is narrow than the minimum limitation (<2.45m).

Requirement ID: FS-225770  
Type: Condition  
Status: New  

--

2.5.2.8.5 / No lane boundary is detected.

Requirement ID: FS-225771  
Type: Condition  
Status: New  

--

2.5.2.8.6 / Vehicle exceeds LKL.

Requirement ID: FS-225772  
Type: Condition  
Status: New  

--

2.5.2.8.7 / Lane curvature radius absolute value is out of range (above the threshold).

Requirement ID: FS-225773  
Type: Condition  
Status: New  

Vehicle speed (km/h):  
50, 65, 70, 80, 90, 100, 120, 140, 150, 160  

Curvature absolute value (1/m):  
0.01, 0.01, 0.0086, 0.0066, 0.0052, 0.0042, 0.0029, 0.0022, 0.0015, 0.0007
</page>

<page number="45">
2.5.2.8.8 / ABS or TCS or IDB(BEV)/ESC(ICE) is active or ESC OFF.

Requirement ID: FS-225774  
Type: Condition  
Status: New  

---

2.5.2.8.9 / Vehicle is not running in forward (Gear shift position is in R).

Requirement ID: FS-225775  
Type: Condition  
Status: New  

---

2.5.2.8.10 / Longitudinal acceleration is out of range for 0.1s (above the threshold) as below table:

Requirement ID: FS-225776  
Type: Condition  
Status: New  

Vehicle speed(km/h):  
0, 5, 18, 72, 90, 100, 120, 140.  

Longitudinal deceleration absolute value(m/s2):  
5.5, 5.5, 5.5, 4.0, 4.0, 4.0, 4.0, 4.0.  

---

2.5.2.8.11 / Longitudinal deceleration absolute value is out of range (>3.5m/s2) for 0.1s.

Requirement ID: FS-225777  
Type: Condition  
Status: New  

---

2.5.2.8.12 / Hazard switch is on for 0.1s.

Requirement ID: FS-225778  
Type: Condition  
Status: New
</page>

<page number="46">
2.5.2.8.13 / LSS to EPS handshake is failed.

Requirement ID: FS-225779  
Type: Condition  
Status: New  

---

2.5.2.8.14 / Tire alarm or doors open or towing detected or trailer detected is true.

Requirement ID: FS-225780  
Type: Condition  
Status: New  

---

2.5.2.8.15 / LSS to EPS handshake is failed.

Requirement ID: FS-225781  
Type: Condition  
Status: New  

Note:  
1. When EPS status is “EPSAngRespSts = 1 Ready,” LKA/ELK will send “ADAS_EPS_StrWhe_AOLAct = 1” to start the handshake.  
2. After step 1, EPS sends “EPSAngRespSts = 2” during control by LKA/ELK; otherwise, the handshake is considered failed.  

Under ELK, the following conditions are specifically defined as “automatic deactivation,” and the system shall send out 0x206.ADAS_ELK_check = 2 “automatic deactivation”:  
1. ESC OFF (0x95.STAT_DSC == 1 "Track Mode" OR 2 "ESC OFF").  

---

2.5.2.9 / 5.2.9 Active 激活.

Requirement ID: FS-225782  
Type: Condition  
Status: New
</page>

<page number="47">
2.5.2.9.1 / Active_No_Intervention --> Active_Intervention 未介入 --> 介入.

Requirement ID: FS-225783  
Type: Condition  
Status: New  

The system shall also transfer from "Active_No_Intervention" state to "Active_Intervention" state if any below condition is fulfilled:

2.5.2.9.1.1 / For lane marking scenarios including lane marking, vehicle is within LKA intervention zone and turn indicator to the departure side is OFF.

Requirement ID: FS-225784  
Type: Condition  
Status: New  

If ELK is selected:

2.5.2.9.1.2 / For road edge scenario, vehicle is within ELK intervention zone when target is detected and turn indicator to the departure side is both ON and OFF.

Requirement ID: FS-225785  
Type: Functional  
Status: Accepted  

2.5.2.9.1.3 / For oncoming scenario, vehicle is within ELK intervention zone when target vehicle is detected.

Requirement ID: FS-225786  
Type: Functional  
Status: Accepted  

2.5.2.9.1.4 / For overtaking scenario, vehicle is within ELK intervention zone when target vehicle is detected.

Requirement ID: FS-225787  
Type: Functional  
Status: reopen  

Note: ELK will not be disabled (enter Fault status) if corner radar state is invalid, the overtaking use case will be disabled under SRR disable.
</page>

<page number="48">
2.5.2.9.2 / Active_Intervention --> Active_No_Intervention 介入 --> 未介入.

Requirement ID: FS-225788  
Type: Condition  
Status: New  

The system shall also transfer from any "Active_Intervention" state to "Active_No_Intervention" state if below condition is fulfilled: 

2.5.2.9.2.1 / Vehicle is pulled back into the non-intervention zone.  

Requirement ID: FS-225789  
Type: Condition  
Status: New  

---

2.5.2.10 / 5.2.10 Active --> Override 激活 --> 接管.  

Requirement ID: FS-225790  
Type: Condition  
Status: New  

The system shall transfer from any "Active" state to "Override" state, if any below condition is fulfilled:  

2.5.2.10.1 / Steer wheel angle is out of range (The limitation is a map based on vehicle speed) for 0.1s.  

Requirement ID: FS-225791  
Type: Condition  
Status: New  

---

2.5.2.10.2 / Steer wheel speed is out of range (>200°/s) for 0.1s.  

Requirement ID: FS-225792  
Type: Condition  
Status: New
</page>

<page number="49">
2.5.2.10.3 / Steer wheel torque is out of range (>3.5Nm) for 0.1s.

Requirement ID: FS-225793  
Type: Condition  
Status: New  

2.5.2.10.4 / Vehicle is within left intervention zone but left turn indicator is ON.

Requirement ID: FS-225794  
Type: Condition  
Status: New  

Only if LKA is selected:  

2.5.2.10.5 / Vehicle is within Right intervention zone but right turn indicator is ON.

Requirement ID: FS-512891  
Type: Condition  
Status: New  

Only if LKA is selected:  

2.5.2.10.6 / Vehicle is within left intervention zone but left turn indicator is ON without left target (oncoming and overtaking).

Requirement ID: FS-225795  
Type: Condition  
Status: New  

Only if ELK is selected:  

2.5.2.10.7 / Vehicle is within right intervention zone but right turn indicator is ON without right target (oncoming and overtaking).

Requirement ID: FS-225796  
Type: Condition  
Status: New  

If ELK is selected:
</page>

<page number="50">
2.5.2.11 / 5.2.11 Override --> Active 接管 --> 激活.

Requirement ID: FS-225797  
Type: Functional  
Status: New  

The system shall also transfer from "override" state to "Active" state if all below conditions are fulfilled when vehicle is within the intervention zone:  
1. Steer wheel angle is in range for 2s.  
2. Steer wheel speed is in range (<150°/s) for 2s.  
3. Steer wheel torque is in range (<3.0Nm) for 2s.  
4. Oncoming or Overtaking or Road edge target from the departure side is detected.  
5. Turn indicator to the warning side is Off for 3s.  

---

2.5.2.12 / 5.2.12 Override --> Standby 接管 --> 待定.

Requirement ID: FS-225802  
Type: Condition  
Status: New  

The system shall transfer from "Override" state to "Standby" state if any below condition is fulfilled:  

2.5.2.12.1 / Any LKA fault is detected.  
Requirement ID: FS-225803  
Type: Condition  
Status: New  

---

2.5.2.12.2 / Camera is in failsafe.  
Requirement ID: FS-225804  
Type: Condition  
Status: New  

---

2.5.2.12.3 / Cluster vehicle speed is out of range (<55kph or >155kph).  
Requirement ID: FS-225805  
Type: Condition  
Status: New
</page>

<page number="51">
2.5.2.12.4 / Lateral acceleration absolute value is out of range (>3.0m/s²).

Requirement ID: FS-225806  
Type: Condition  
Status: New  

2.5.2.12.5 / Both lane boundaries are detected and lane width is narrower than the minimum limitation (<2.45m).

Requirement ID: FS-225807  
Type: Condition  
Status: New  

2.5.2.12.6 / No lane boundary is detected.

Requirement ID: FS-225808  
Type: Condition  
Status: New  

2.5.2.12.7 / Vehicle exceeds LKL.

Requirement ID: FS-225809  
Type: Condition  
Status: New  

2.5.2.12.8 / Lane curvature absolute value is out of range (above the threshold):  

Requirement ID: FS-225810  
Type: Condition  
Status: New  

**Lane curvature threshold values:**  
- Vehicle speed (km/h): 50, 65, 70, 80, 90, 100, 120, 140, 150, 160  
- Curvature absolute value (1/m): 0.01, 0.01, 0.0086, 0.0066, 0.0052, 0.0042, 0.0029, 0.0022, 0.0015, 0.0007
</page>

<page number="52">
2.5.2.12.12 / Longitudinal deceleration absolute value is out of range (above the threshold).

Requirement ID: FS-225814  
Type: Condition  
Status: New  

Vehicle Speed (km/h) and Longitudinal Deceleration Absolute Value (m/s²):  
- At 0 km/h, the absolute value is 5.5 m/s².  
- At 5 km/h, the absolute value is 5.5 m/s².  
- At 18 km/h, the absolute value is 5.5 m/s².  
- At 72 km/h, the absolute value is 4.0 m/s².  
- At 90 km/h, the absolute value is 4.0 m/s².  
- At 100 km/h, the absolute value is 4.0 m/s².  
- At 120 km/h, the absolute value is 4.0 m/s².  
- At 140 km/h, the absolute value is 4.0 m/s².
</page>

<page number="53">
2.5.2.12.13 / Hazard switch is on.

Requirement ID: FS-225815  
Type: Condition  
Status: New  

--

2.5.2.12.14 / Hands-off reset.

Requirement ID: FS-225816  
Type: Condition  
Status: New  

--

2.5.2.12.15 / LSS to EPS hands shake is failed.

Requirement ID: FS-225817  
Type: Condition  
Status: New  

Note:  
(1) When EPS status is “EPSAngRespSts = 1 Ready”, LKA/ELK will send “ADAS_EPS_StrWhe_AOLAct = 1” to start the handshake.  
(2) After step 1, EPS sends “EPSAngRespSts = 2” during control by LKA/ELK; otherwise, handshaking fails.

2.6 / Hands-Off Warning Requirement 脱手报警需求.

Requirement ID: FS-225818  
Type: --  
Status: New  

LKA and ELK functions need to fulfill ECE R79 CSF hands-off warning requirements, and below are the detailed requirements:
</page>

<page number="54">
2.6.1 / 6.1 Hands Off Detection 脱手检测.

Requirement ID: FS-225819  
Type: --  
Status: New  

The hands-off detection can be provided by an external HOD unit if configured.  
若系统配置有 HOD 单元，则脱手检测由 HOD 完成。  

If there is no HOD configured, steer wheel torque input should be used for internal hands-off detection. The detection condition is as follows:  
If steer wheel torque is below K_handsoffTorque, which is speed-dependent for 0.3s (to be calibrated), hands-off is detected. If steer wheel torque is above K_handsoffTorque + K_handsoffTorque_Hysteresis for 0.3s (to be calibrated), hands-on is detected.

---

2.6.2 / 6.2 Hands Off Warning 脱手报警.

Requirement ID: FS-225820  
Type: Condition  
Status: New  

Hands-off requirements are as follows:  
脱手报警的需求如下：  

1. In the case of two or more consecutive interventions within a rolling interval of 180 seconds, and in the absence of a steering input by the driver during the intervention, starting with the third intervention (and subsequent interventions), the acoustic warning signal (0x206.ADAS_handsoff_Warning_Mode_2 = 0x2 Level2) shall continue for max {Tn-1interventions + 10s, Tn}, as depicted in the following picture:
</page>

<page number="55">
2.6.2 / 6.2 Hands Off Warning 脱手报警

Requirement ID: FS-225820  
Type: Condition  
Status: New  

Hands off requirements are below:  
脱手报警的需求如下：  

1. In the case of two or more consecutive interventions within a rolling interval of 180 seconds and in the absence of a steering input by the driver during the intervention, starting with the third intervention (and subsequent interventions), the acoustic warning signal (0x206.ADAS_handsoff_Warning_Mode_2 = 0x2 Level2) shall continue for max{Tn-1interventions+10s, Tn}, as illustrated in the provided figure.

1. In the case of two or more consecutive interventions within a rolling interval of 180 seconds and in the absence of a steering input by the driver during the intervention, if the driver holds the steering wheel during the acoustic warning, the acoustic warning shall interrupt. Refer to the provided figure for visualization.  

1. In the case of two or more consecutive interventions within a rolling interval of 180 seconds and in the absence of a steering input by the driver during the intervention, when the acoustic warning signal is active and a subsequent intervention occurs, the previous acoustic warning shall interrupt (previous acoustic warning timer cleared) and restart for the subsequent acoustic warning. Refer to the provided figure for visualization.
</page>

<page number="56">
2.6 / 6 Hands Off Warning Requirement 脱手报警需求.

LKA 和 ELK 功能需要满足 ECE R79 CSF 脱手报警需求，以下是具体的需求描述:

2.6.1 / 6.1 Hands Off Detection 脱手检测.

Requirement ID: FS-225819  
Type: --  
Status: New  

The hands off detection can be provided by an external HOD unit if configured. 若系统配置有 HOD 单元，则脱手检测由 HOD 完成。  
If there is no HOD configured, steer wheel torque input should be used for internal hands off detection. The detection condition is in below:  
If steer wheel torque is below K_handsoffTorque which is speed dependent for 0.3s (to be calibrated), hands off is detected; if steer wheel torque is above K_handsoffTorque+K_handsoffTorque_Hysteresis for 0.3s (to be calibrated), hands on is detected.

2.6.2 / 6.2 Hands Off Warning 脱手报警.

Requirement ID: FS-225820  
Type: Condition  
Status: New  

Hands off requirements are below: 脱手报警的需求如下:  

1. In the case of two or more consecutive interventions within a rolling interval of 180 seconds and in the absence of a steering input by the driver during the intervention, starting with the third intervention (and subsequent interventions) the acoustic warning signal (0x206.ADAS_handsoff_Warning_Mode_2 = 0x2 Level2) shall continue for max{Tn-1interventions+10s,Tn}, see the following picture.

---

1. In the case of two or more consecutive interventions within a rolling interval of 180 seconds and in the absence of a steering input by the driver during the intervention, if the driver holds the steering wheel when the acoustic warning, the acoustic warning shall interrupt. See the following pic.

1. In the case of two or more consecutive interventions within a rolling interval of 180 seconds and in the absence of a steering input by the driver during the intervention, when the acoustic warning signal is ongoing and the subsequent intervention happens, the previous acoustic warning shall interrupt (Tpreviousacousicwarning timer clear) and restart the subsequent acoustic warning. See the following pic.

---

1. If the driver holds the steering wheel during intervention within a rolling interval of 180 seconds, the acoustic warning shall interrupt and timer 180s shall reset.  
2. If the system enters active & the vehicle departs the lane & hands off, the system starts the monitoring timer (180s) timing.

2.6.2.1 / Note.

Requirement ID: FS-400225  
Type: Condition  
Status: New  

In the case of an intervention longer than 10 seconds, an acoustic warning signal (0x206.ADAS_handsoff_Warning_Mode_2 = 0x2 Level2) shall be provided until the end of the intervention unless there is a driver action which indicates an intention to depart from the lane.

2.7 / 7 HMI Requirements HMI 需求.

Requirement ID: FS-225821  
Type: Functional  
Status: New  

---

2.7.1 / 7.1 Button Design.

Requirement ID: FS-225822  
Type: Functional  
Status: New
</page>

<page number="57">
2.7.1.1 / 7.1.1 Receive Button Signals.

Requirement ID: FS-225823.  
Type: Functional.  
Status: New.  

Button Description:  

- Signal: 0x354.MHU_LA_Mode.  
  Function Description: Lane assist function select.  

- Signal: 0x354.MHU_LA_sens.  
  Function Description: Lane assist sensitivity select.  

The software button signals are received with type of “OnChange,” which means signals will be received with 3 cycles with 50ms cycle time when the button is pressed and signals will stop when the button is released or after 3 cycles.

---

2.7.1.2 / 7.1.2 Transmitted Button Signal.

Requirement ID: FS-225824.  
Type: Functional.  
Status: New.  

Button Description:  
- Signal: [Empty].  
  Function Description: [Empty].
</page>

<page number="58">
2.7.1.1 / Receive Button signals.

Requirement ID: FS-225823.  
Type: Functional.  
Status: New.  

Button Description:  
Signal: 0x354.MHU_LA_Mode.  
Function Description: Lane assist function select.  

Signal: 0x354.MHU_LA_sens.  
Function Description: Lane assist sensitivity select.  

The software button signals are received with type of “OnChange,” which means the signal will be received with 3 cycles, each with a 50ms cycle time when the button is pressed. The signals will stop when the button is released or after 3 cycles.  

---

2.7.1.2 / Transmitted Button Signal.

Requirement ID: FS-225824.  
Type: Functional.  
Status: New.

Button Description:  
Signal: 0x127.ADAS_LA_Mode_Feed.  
Function Description: Lane assist function select feedback.  

Signal: 0x127.ADAS_LA_sens_Feed.  
Function Description: Lane assist sensitivity select feedback.  

• All the button feedback signals are transmitted with a constant cycle time.  

ADAS_LA_Mode_Feed shall always be sent out with "0x3 ELK" after IGN ON.  

---

2.7.2 / Display Design.

Requirement ID: FS-225825.  
Type: Functional.  
Status: New.  

---

2.7.2.1 / Lane display 车道显示.  

Requirement ID: FS-225826.  
Type: Functional.  
Status: New.
</page>

<page number="59">
2.7.2.1.1 / 7.2.1.1 Lane line display signals 车道线显示信号.

Requirement ID:
FS-225827
Type:
Functional 
Status:
New.

Signal Description:
按键描述.

| Signal | Function Description |
|--------|-----------------------|
| 0x127.ADAS_LA_veh_pos_left | Distance of ego vehicle to left lane line 自车到左侧车道线距离 |
| 0x127.ADAS_LA_veh_pos_right | Distance of ego vehicle to right lane line 自车到右侧车道线距离 |
</page>

<page number="60">
2.7.2.1.1 / 7.2.1.1 Lane line display signals 车道线显示信号.

Requirement ID: FS-225827.  
Type: Functional.  
Status: New.  

**Signal Description**  
按键描述:  
- **Signal:** 0x127.ADAS_LA_veh_pos_left.  
  **Function Description:** Distance of ego vehicle to left lane line 自车到左侧车道线距离.  
- **Signal:** 0x127.ADAS_LA_veh_pos_right.  
  **Function Description:** Distance of ego vehicle to right lane line 自车到右侧车道线距离.  

2.7.2.1.2 / 7.2.1.2 BEV variant display BEV 车型显示.

Requirement ID: FS-225828.  
Type: Functional.  
Status: New.  

**Condition | Lane Color Display | ADAS_LA_Display Signal Coding | Warning Popup | ADAS_Hapwarning**  
1. **Manual drive or Mode1 or Mode2 no lane detected:**  
   - Left Lane Display: None.  
   - Right Lane Display: None.  
   - Coding: 0.  
   - Warning Popup: No.  
   - Haptic Warning: 0.  

2. **Only Lane detected left during Mode 1 active:**  
   - Left Lane Display: White.  
   - Right Lane Display: None.  
   - Coding: 1.  
   - Warning Popup: No.  
   - Haptic Warning: 0.  

3. **Only Lane detected right during Mode 1 active:**  
   - Left Lane Display: None.  
   - Right Lane Display: White.  
   - Coding: 2.  
   - Warning Popup: No.  
   - Haptic Warning: 0.  

4. **Lane detected both during Mode 1 active:**  
   - Left Lane Display: White.  
   - Right Lane Display: White.  
   - Coding: 3.  
   - Warning Popup: No.  
   - Haptic Warning: 0.
</page>

<page number="61">
2.7.2.1.2 / 7.2.1.2 BEV variant display BEV 车型显示

Requirement ID: FS-225828  
Type: Functional  
Status: New  

Condition/条件:  
- **Manual drive or Mode1 or Mode2 no lane detected:**  
  Lane color display: Left - None, Right - None  
  ADAS_LA_Display Signal coding: 0  
  Warning popup: No  
  ADAS_Hapwarning: 0  

- **Only Lane detected left during Mode 2 active:**  
  Lane color display: Left - Blue, Right - None  
  ADAS_LA_Display Signal coding: 4  
  Warning popup: no  
  ADAS_Hapwarning: 0  

- **Only Lane detected right during Mode 2 active:**  
  Lane color display: Left - None, Right - Blue  
  ADAS_LA_Display Signal coding: 5  
  Warning popup: No  
  ADAS_Hapwarning: 0  

- **Lane detected both during Mode 2 active:**  
  Lane color display: Left - Blue, Right - Blue  
  ADAS_LA_Display Signal coding: 6  
  Warning popup: no  
  ADAS_Hapwarning: 0  

- **Manual drive or Mode1 only detected right lane and LKA/ELK intervention on right lane or LDW on right lane:**  
  Lane color display: Left - None, Right - Red  
  ADAS_LA_Display Signal coding: 7  
  Warning popup: For LDW LKA ELK: ADAS_LA_popup  
  For ALCA: ADAS_ALC_txtpopup  
  ADAS_Hapwarning: 1 (when only LDW selected), 0 (other case)  

- **Manual drive or Mode1 only detected left lane and LKA/ELK intervention on left lane or LDW on left lane:**  
  Lane color display: Left - Red, Right - None  
  ADAS_LA_Display Signal coding: 8  
  Warning popup: No  
  ADAS_Hapwarning: 0  

- **Mode1 active and LKA/ELK intervention on right lane or Mode1 active and LDW on right lane:**  
  Lane color display: Left - White, Right - Red  
  ADAS_LA_Display Signal coding: 9  
  Warning popup: For LDW LKA ELK: ADAS_LA_popup  
  For ALCA: ADAS_ALC_txtpopup  
  ADAS_Hapwarning: 1 (when only LDW selected), 0 (other case)  

- **Mode1 active and LKA intervention on left lane or Mode1 active and LDW on left lane:**  
  Lane color display: Left - Red, Right - White  
  ADAS_LA_Display Signal coding: 10  
  Warning popup: No  
  ADAS_Hapwarning: 0
</page>

<page number="62">
2.7.2.1.2 / 7.2.1.2 BEV variant display BEV 车型显示.

Requirement ID: FS-225828.  
Type: Functional.  
Status: New.  

Condition:  
- Mode1 active and LDW on left lane.  
- Mode 2 active and LKA/ELK intervention on right lane or Mode 2 active and LDW on right lane.  
Lane color display:  
- Left: Blue.  
- Right: RED.  
ADAS_LA_Display Signal coding: 11.  
Warning popup: No.  
ADAS_Hapwarning: 0.  

Mode 2 active and LKA intervention on left lane or Mode 2 active and LDW on left lane.  
Lane color display:  
- Left: RED.  
- Right: Blue.  
ADAS_LA_Display Signal coding: 12.  
Warning popup: No.  
ADAS_Hapwarning: 0.  

Under M1, LSS not in active, with left lane detected.  
Lane color display:  
- Left: White.  
- Right: None.  
ADAS_LA_Display Signal coding: 13.  
Warning popup: None.  

Under M1, LSS not in active, with left lane detected.  
Lane color display:  
- Left: none.  
- Right: White.  
ADAS_LA_Display Signal coding: 14.  
Warning popup: None.  

Under M1, LSS not in active, both lanes detected.  
Lane color display:  
- Left: White.  
- Right: White.  
ADAS_LA_Display Signal coding: 15.  
Warning popup: None.  

Detail table see: ADAS_LA_display description.  

Note:  
1. When function intervention, the output signal of “ADAS_Hapwarning” lasts 0.5s (can be calibrated) for one trigger. Signal “ADAS_LA_Display” and “ADAS_LA_popup” send out the corresponding coding based on intervention.
</page>

<page number="63">
2. If the driver takes over the steering when the function is active, the LDW can still intervene when conditions are met.

3. The output signal of “ADAS_Hapwarning” will send out "Activation" when the LDW function is active under LDW-only function selected, or LKA/ELK function selected with LDW function active but LKA/ELK not in intervention (exception for LKA/ELK releasing the control of EPS in ramp down).

### 2.7.2.1.2.1 / Popup Message 弹窗信息
#### Requirement ID:
FS-225829  
#### Type:
Functional  
#### Status:
New  

| Item                     | ADAS_LA_popup coding | Sound                                                   |
|--------------------------|----------------------|--------------------------------------------------------|
| No popup                | ADAS_LA_popup = 0    | Disable                                                |
| Take control! Vehicle departing lane (text popup will appear for 4s if signal sends out less than 4s; if signal sends out >4s, MHU will follow duration sent out by ADAS) | ADAS_LA_popup = 1    | Enable: entering LDW intervention zone, Or LDW under LKA and entering LDW intervention zone, Or LDW under ELK and entering LDW intervention zone |
| Emergency steering was engaged for your safety | ADAS_LA_popup = 2    | Disable                                                |
</page>

<page number="64">
2. If the driver takes over the steering when the function is on, the LDW can still intervene when conditions are met.

3. The output signal of "ADAS_Hapwarning" will send out "Activation" when the LDW function is active under LDW-only function selected, OR LKA/ELK function selected, LDW function is active but LKA/ELK not in intervention (exception for LKA/ELK releasing the control of EPS in ramp down).

### 2.7.2.1.2.1 Popup message 弹窗信息

**Requirement ID:** FS-225829  
**Type:** Functional  
**Status:** New  

#### Popup Behavior

1. **No popup**  
   - **ADAS_LA_popup coding:** ADAS_LA_popup = 0  
   - **Sound:** Disable  

2. **Take control! Vehicle departing lane**  
   - **ADAS_LA_popup coding:** ADAS_LA_popup = 1  
   - **Sound:** Enable: entering LDW intervention zone, Or LDW under LKA and entering LDW intervention zone, Or LDW under ELK and entering LDW intervention zone.  

   *Text popup will appear for 4 seconds if the signal is sent out for less than 4 seconds. If signal is sent out for more than 4 seconds, MHU will follow the duration sent out by ADAS.*  

3. **Emergency steering was engaged for your safety**  
   - **ADAS_LA_popup coding:** ADAS_LA_popup = 2  
   - **Sound:** Disable  

4. **Lane keep assist is in intervention**  
   - **ADAS_LA_popup coding:** ADAS_LA_Popup = 3  
   - **Sound:** Disable: LKA intervention but not entering LDW warning zone  
   - *ADAS sends this out, but MHU will not display (New HMI strategy).*  

5. **"Lane Assist Unavailable. More info in fault details"**  
   - **ADAS_LA_popup coding:** ADAS_LA_popup = 7  
   - **Sound:** Enable: ADAS_LKA_check / ADAS_ELK_Check / ADAS_LDW_Check = 1 or 2 (fault state)  
   - *ADAS sends this out, but MHU will not display (New HMI strategy).*  

6. **Emergency Lane keep assist is in intervention**  
   - **ADAS_LA_popup coding:** ADAS_LA_popup = 4  
   - **Sound:** Enable: ELK intervention will issue level 1 warning. If the vehicle continues to cross the LDW zone, warning level 2 is issued.  

7. **Reserve**  
   - **ADAS_LA_popup coding:** ADAS_LA_popup = 5  
   - **Sound:** Reserve  

8. **Reserve**  
   - **ADAS_LA_popup coding:** ADAS_LA_popup = 6  
   - **Sound:** Reserve  

---

### Notes:
1. If ELK is selected and the scenario involves only lane marking lines to trigger lateral control (LKA under ELK), coding 3 will be sent out. Coding 4 will be sent out for ELK triggers on road edge, oncoming vehicles, or overtaking scenarios.

2. The only scenario for coding 2 is:
</page>

<page number="65">
## 2.7.2.1.2 Status Output and ICON Output

### Requirement ID: FS-308974  
**Type:** Functional  
**Status:** New  

If the HMI switch is set to "Emergency steering" (ELK), the status and ICON output are described as follows:

1. **Vehicle crossed point 1:**  
   - The ELK icon turns ON for ELK intervention.  
   - Signal `0x33B.Camera_L1_Line_Type == 2 ("Green")`.  
   - `ADAS_LA_Popup == 4 ("ELK is in intervention").`

2. **Vehicle crossed point 2:**  
   - Signal `ADAS_LA_Popup == 1 ("Vehicle departing lane").`  
   - Icon `0x33B.Camera_L1_Line_Type == 2 ("Green").`

3. **Vehicle goes back from the zone between point 1 and point 2:**  
   - ELK Icon remains ON.  
   - Signal `0x33B.Camera_L1_Line_Type == 2 ("Green").`  
   - `ADAS_LA_Popup == 4.`

4. **Vehicle returns to the no intervention zone:**  
   - ELK Icon remains ON.    
   - Signal `0x33B.Camera_L1_Line_Type == 0 ("Off").`  
   - `ADAS_LA_Popup == 2 ("Emergency steering was engaged for your safety").`
</page>

<page number="66">
2.7.2.1.2 / Lane Line Display Signals.

Requirement ID: FS-225827.  
Type: Functional.  
Status: New.

Signal Description:
- 0x127.ADAS_LA_veh_pos_left. Distance of ego vehicle to left lane line.
- 0x127.ADAS_LA_veh_pos_right. Distance of ego vehicle to right lane line.
- 0x206.ADAS_Lane_Line_Curva_Radius. Ego lane curvature radius.
- 0x134.ADAS_far_lane_info. Adjacent lane lines display.

The lane detected signals will output after ignition ON, with MHU displaying according to different functions.

---

2.7.2.1.2.1 / Popup Message.

Requirement ID: FS-225829.  
Type: Functional.  
Status: New.

Popup Message Coding and Output:
- **No popup**:
  - ADAS_LA_popup = 0.
  - Sound: Disabled.

- **Take control! Vehicle departing lane**:
  - ADAS_LA_popup = 1.
  - Text popup appears for up to 4 seconds based on signal duration (MHU follows ADAS duration if longer).
  - Enable: Entering LDW intervention zone, or LDW under LKA or ELK.

- **Emergency steering was engaged for your safety**:
  - ADAS_LA_popup = 2.
  - Sound: Disabled.

- **Lane keep assist is in intervention**:
  - ADAS_LA_popup = 3.
  - Disabled: LKA intervention in non-LDW zone.
  - ADAS sends signal but MHU will not display due to new HMI strategy.

- **Lane Assist Unavailable. More info in fault details**:
  - ADAS_LA_popup = 7.
  - Enable: Check faults (fault state displayed via ADAS).
  - ADAS sends signal but MHU will not display due to new HMI strategy.

- **Emergency Lane keep assist intervention**:
  - ADAS_LA_popup = 4.
  - Enable: ELK intervention displaying warnings at levels 1 and 2 based on vehicle position.

---

2.7.2.1.2.2 / Status Output and Icon Output.

Requirement ID: FS-308974.  
Type: Functional.  
Status: New.

ELK Status and Icon Output:
- **At ignition ON**:
  - Camera_L1_Line_Type = 0 ("Off").
  - ADAS_ELK_check = 0 ("Available") or 1 ("Fault").

- **Automatic deactivation**:
  - Camera_L1_Line_Type = 0 ("Off").
  - ADAS_ELK_check = 2 ("automatic deactivation").

- **Standby**:
  - Camera_L1_Line_Type = 0 ("Off").
  - ADAS_ELK_check = 0 ("Available").

- **Active_No_Intervention**:
  - Camera_L1_Line_Type = 0 ("Off").
  - ADAS_ELK_check = 0 ("Available").

- **Active_Intervention**:
  - Camera_L1_Line_Type = 2 ("Green ICON").
  - ADAS_ELK_check = 0 ("Available").

- **Override**:
  - Camera_L1_Line_Type = 0 ("Off").
  - ADAS_ELK_check = 0 ("Available").

- **Fault**:
  - Camera_L1_Line_Type = 0 ("Off").
  - ADAS_ELK_check = 1 ("Fault").

LKA Status Output When Selected:
- ELK always OFF during manual LKA deactivation:
  - Camera_L1_Line_Type = 0 ("Off").
  - ADAS_ELK_check = 3 ("OFF-Manual deactivation").
  - ADAS_LKA_check = 0 ("Available").

- **Active_No_Intervention**:
  - Camera_L1_Line_Type = 0 ("Off").
  - ADAS_ELK_check = 3 ("OFF-Manual deactivation").
  - ADAS_LKA_check = 0 ("Available").

- **Active_Intervention**:
  - Camera_L1_Line_Type = 2 ("Green ICON").
  - ADAS_ELK_check = 3 ("OFF-Manual deactivation").
  - ADAS_LKA_check = 0 ("Available").

- **Override**:
  - Camera_L1_Line_Type = 0 ("Off").
  - ADAS_ELK_check = 3 ("OFF-Manual deactivation").
  - ADAS_LKA_check = 0 ("Available").

- **Fault**:
  - Camera_L1_Line_Type = 0 ("Off").
  - ADAS_ELK_check = 3 ("OFF-Manual deactivation").
  - ADAS_LKA_check = 1 ("Fault").
</page>

<page number="67">
2.8 / 8 Typical Use Case.

Requirement ID: FS-225832.
Type: Functional.
Status: New.

---

2.8.1 / 8.1 LKA/LDW Function.

Requirement ID: FS-225833.
Type: Functional.
Status: New.

Typical Scenario:
典型场景.

Typical Scenario illustration:
场景图解.

Description:
描述.
</page>

<page number="68">
2.8 / 8 Typical Use Case 典型用例.

Requirement ID: FS-225832.  
Type: Functional.  
Status: New.

2.8.1 / 8.1 LKA/LDW Function.

Requirement ID: FS-225833.  
Type: Functional.  
Status: New.

Typical Scenario 典型场景:

Dash line:  
LKA/LDW will be triggered.  

Solid line:  
LKA/LDW will be triggered.  

Road Edge 路沿:  
LKA/LDW will be triggered.  
LKA/LDW 会被触发.

Note: Left and right LDW/LKA are independent.  
注：左侧和右侧的 LDW/LKA 触发是相互独立的.
</page>

<page number="69">
2.8.2 / 8.2 ELK Function.

Requirement ID: FS-225834.
Type: Functional.
Status: New.

**Typical Scenario:**
Road Edge 路沿.

**Typical Scenario Illustration:**
Road edge with/without dash/solid lane mark, without center line or with dash center line.
道路边沿有实线或虚线，无车道中心线或车道中心线是虚线。
ELK will be triggered. ELK 会被触发.
</page>

<page number="70">
2.8.2 / 8.2 ELK function.

**Requirement ID:** FS-225834.  
**Type:** Functional.  
**Status:** New.  

**Solid Line 实线.**  
Solid Line 实线 ELK will be triggered ELK 会被触发.
</page>

<page number="71">
2.9 / System Fault 系统故障.

Requirement ID: FS-225835.
Type: Information.
Status: New.

Dash line or solid line with oncoming vehicle 有对向来车，且车道线为实线或虚线.
ELK will be triggered ELK 会被触发.

Dash line or solid line with overtaking vehicle 后侧有车辆超车，且车道线为实线或虚线.
ELK will be triggered ELK会被触发.

DTC list refer to this file:
</page>

<page number="72">
2.10 / LDW/LKA

Requirement ID: FS-198287  
Type: --  
Status: New  

--Technical Agreement  

2.10.1 / Lane width to which the system adapts  

Requirement ID: FS-198288  
Type: --  
Status: New  

Lane width to which the system adapts: 2.5～4.4m.
LDW/LKA [andh2, 16/11] OK.  

2.10.2 / Curve radius to which the system adapts  

Requirement ID: FS-198289  
Type: --  
Status: New  

Curve radius to which the system adapts: ≥250m.
LDW/LKA [andh2, 16/11] OK.  

2.10.3 / Types of road marking lines that the system adapts to  

Requirement ID: FS-198290  
Type: --  
Status: New
</page>

<page number="73">
2.10 / LDW/LKA

Requirement ID: FS-198287  
Type: --  
Status: New  

--Technical Agreement  

2.10.1 / Lane width to which the system adapts  
Requirement ID: FS-198288  
Type: --  
Status: New  

Lane width to which the system adapts: 2.5～4.4m  
LDW/LKA [andh2, 16/11] OK  

2.10.2 / Curve radius to which the system adapts  
Requirement ID: FS-198289  
Type: --  
Status: New  

Curve radius to which the system adapts: ≥250m  
LDW/LKA [andh2, 16/11] OK  

2.10.3 / Types of road marking lines that the system adapts to  
Requirement ID: FS-198290  
Type: --  
Status: New  

Types of road marking lines that the system adapts to: Solid line/dash line, single line/double line, yellow line/white line, any combination of the three  
LDW/LKA [andh2, 16/11] OK, aligned  

2.10.4 / Earliest alarm line  
Requirement ID: FS-198291  
Type: --  
Status: New  

Earliest alarm line:  
Deviation speed（m/s） | Maximum distance to lane boundary（m）  
---------------------------------------------------------  
0<v≤0.5 | 0.75  
0.5<v≤1.0 | 1.5*v  
v>1.0 | 1.5  

LDW [andh2, 16/11] OK  

2.10.5 / Alarm line at the latest  
Requirement ID: FS-198292  
Type: --  
Status: New  

Alarm line at the latest: 0.3m outside the lane boundary, the system stops alarming at the latest outside the alarm line  
LDW/LKA [andh2, 16/11] OKEURO NCAP, EU 2021/646  

2.10.6 / Lateral acceleration of vehicle  
Requirement ID: FS-198293  
Type: --  
Status: New
</page>

<page number="74">
2.10.6 / Lateral acceleration of vehicle

Requirement ID: FS-198293  
Type: --  
Status: New  

Lateral acceleration of vehicle: The magnitude of the lateral acceleration which is induced by the lane keeping action shall not exceed 3m/s².  
Note: Refer ISO 11270.  
LDW/LKA [andh2, 16/11] OK ISO 11270  

2.10.7 / Vehicle lateral acceleration rate of change

Requirement ID: FS-198294  
Type: --  
Status: New  

Vehicle lateral acceleration rate of change: The moving average over half a second of the lateral jerk should be limited to: 5m/s³.  
Note: Refer ISO 11270.  
LDW/LKA [andh2, 16/11] OK ISO 11270  

2.10.8 / Longitudinal deceleration

Requirement ID: FS-198295  
Type: --  
Status: New  

Longitudinal deceleration: The longitudinal deceleration of the vehicle caused by the single intervention of the system ≤ 3m/s².  
Note: Refer ISO 11270.  
LKA [andh2, 16/11] OK ISO 11270  

2.10.9 / Vehicle speed reduction

Requirement ID: FS-198296  
Type: --  
Status: New  

Vehicle speed reduction: The vehicle speed reduction caused by the system's individual intervention is less than or equal to 5m/s.  
Note: Refer ISO 11270.  
LKA [andh2, 16/11]
</page>

<page number="75">
2.10.10 / The distance from the lane when the alarm was issued.

Requirement ID: FS-198297  
Type: --  
Status: New  

The maximum distance that the vehicle deviates from the outside of the lane when the system alarms is less than or equal to 0.2m.  
LDW  
[andh2, 16/11]  
OK  

2.10.11 / The distance off the lane when intervention.

Requirement ID: FS-198298  
Type: --  
Status: New  

The distance that the vehicle deviates from the outside of the lane line caused by the system's separate intervention is less than or equal to 0.2m.  
LKA  
[andh2, 16/11]  
OK  

2.10.12 / Range of vehicle speed range that can be calibrated by the system.

Requirement ID: FS-198299  
Type: --  
Status: New  

The speed range of the vehicle that can be calibrated by the system is between 60 and 150 km/h (cluster speed).  
LDW/LKA  
[andh2, 16/11]  
OK
</page>

<page number="76">
2.11 / ELK.

Requirement ID: FS-198368  
Type: --  
Status: New  

--Technical Agreement.

2.11.1 / Test Methods.

Requirement ID: FS-198369  
Type: --  
Status: New  

Test Methods: ENCAP 2020 (Overtaking, road edge, oncoming).  
ELK [andh2, 16/11] OK.

2.11.2 / Lane width of the system adapts.

Requirement ID: FS-198370  
Type: --  
Status: New  

Lane width of the system adapts: 2.5～4.4m.  
ELK [andh2, 16/11] OK.

2.11.3 / Curve radius to which the system adapts.

Requirement ID: FS-198371  
Type: --  
Status: New  

Curve radius to which the system adapts: ≥125m (The specific applicable curve radius can be based on the overall performance of the actual vehicle. If the system judges that the ELK cannot pull the vehicle back, it can be set as an alarm, but at least it can work normally at ≥250).  
ELK [andh2, 16/11] OK.
</page>

<page number="77">
2.11 / ELK.

Requirement ID: FS-198368.  
Type: --.  
Status: New.

--Technical Agreement.

2.11.4 / Types of road marking lines that the system adapts to.

Requirement ID: FS-198372.  
Type: --.  
Status: New.

Types of road marking lines that the system adapts to: Solid line, dashed line, single line, double line, yellow line, white line, road edge.  
ELK.  
[andh2, 16/11] OK.

2.11.5 / Range of vehicle speed range that can be calibrated by the system.

Requirement ID: FS-198373.  
Type: --.  
Status: New.

Range of vehicle speed range that can be calibrated by the system: Consistent with LKA, it is [60, 150]km/h (cluster speed).  
ELK.  
[andh2, 16/11] Ok.

2.11.6 / System control accuracy requirements.

Requirement ID: FS-198374.  
Type: --.  
Status: New.

System control accuracy requirements: Detect lane markings, road edges, and vehicles traveling in the same direction as the adjacent lanes. When the system detects that the vehicle deviates beyond the edge of the road, or the vehicle is about to deviate from its own lane and there is a danger of collision with oncoming vehicles in the same lane, the system uses steering intervention to drive the vehicle back into its own lane. For lane edge conditions, the system supports the intervention with a lateral speed of 2m/s, requiring the vehicle wheels to deviate from the outer edge of the lane line to less than 0.2m (tracking during calibration).  
ELK.  
[andh2, 16/11] OK.
</page>

<page number="78">
2.11 / ELK.

Requirement ID: FS-198368.  
Type: --.  
Status: New.  

--Technical Agreement.  

2.11.7 / System control accuracy requirements.

Requirement ID: FS-198375.  
Type: --.  
Status: New.  

System control accuracy requirements:  
For ENCP2020 roadside conditions, the vehicle should not exceed 0.1m outside the roadside.  
For ENCP2020 solid line conditions, the vehicle cannot exceed the inner edge of the lane line by 0.3m.  
For ENCP2020 overtaking conditions, collisions are not allowed.  
For ENCP2020 oncoming vehicle conditions, collisions are not allowed.  
ELK [andh2, 16/11] OK.  

2.11.8 / Lateral speed requirements.

Requirement ID: FS-198376.  
Type: --.  
Status: New.  

Lateral speed requirements:  
Lateral speed supported by the system ≤ 2m/s.  
ELK [andh2, 16/11] OK.  

2.11.9 / Function activation conditions.

Requirement ID: FS-198377.  
Type: --.  
Status: New.  

Function activation conditions:  
The vehicle deviates to the edge of the lane, or  
The vehicle deviates from the lane line, or  
For overtaking conditions in the same lane, there is a risk of collision between the rear edge of the vehicle and the front edge of the overtaking target in the same direction.  
For oncoming traffic conditions, there is a risk of collision between the front edge of the vehicle and the front edge of the oncoming vehicle target.  
ELK [andh2, 16/11] OK.
</page>

<page number="79">
2.11.13 / Vehicle speed reduction

Requirement ID: FS-198381  
Type: --  
Status: New  

Vehicle speed reduction  
The vehicle speed reduction caused by the system's separate interventions is ≤ 5m/s.  
ELK  
[andh2, 16/11]  
OK
</page>

<page number="80">
Vehicle speed reduction.  
The vehicle speed reduction caused by the system's individual intervention ≤ 5m/s.  

ELK [andh2, 16/11] OK.
</page>
</pages>
