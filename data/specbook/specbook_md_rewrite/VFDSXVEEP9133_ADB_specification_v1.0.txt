Page 1
FUNCTIONAL SPECIFICATION. Adaptive Driving Beam.

SCOPE: VF9.

Function owner: Vu Hoang Duong (v.duongvh3@vinfast.vn).
Page 2
Table of contents.

18 / APL_ADB .............................................................................................................................. 5  
18.1 / / Approvals .................................................................................................................... 5  
18.2 / / Document Management ........................................................................................... 5  
18.3 / / Purpose ........................................................................................................................ 7  
18.4 / / Glossary ....................................................................................................................... 7  
18.5 / / Function Overview .................................................................................................... 8  
18.6 / / Function Architecture .............................................................................................. 9  
18.7 / / Function Description .............................................................................................. 10  
  18.7.1 / / Ambient Light Condition ................................................................................ 10  
    18.7.1.1 / / The system shall output the ambient light activation condition according to the light level of the environment. This signal means if the vehicle shall open the high beam and LED beam automatically. ............................. 10  
    18.7.1.2 / / IFC shall output the condition to HC by signal CAM_AmbLi, the system shall act depending on the ambient light condition derived from camera detection. ....................................................................................................................... 11  
    18.7.1.3 / / CAM_AmbLi shall be Active for HighBeam when the ambient light level falls below a configurable value BS_OB_EXIT_THRESH_ADB. This means the highbeam is allowed to be open depending on the ambient condition. ........................................................................................................................ 11  
    18.7.1.4 / / CAM_AmbLi shall be Not Active for HighBeam when the ambient light level raises above a configurable value BS_OB_ENTER_THRESH_ADB. This means the highbeam is not allowed to be open depending on the ambient condition. ...................................................................................................................... 11  
    18.7.1.5 / / Note: This condition shall use BS_OB_EXIT_THRESH_ADB as the limit after the system is powered-up. ...................................................................... 11  
    18.7.1.6 / / High beam activation ............................................................................... 12  
  18.7.2 / / Streetlight Area Detection ............................................................................. 12  
    18.7.2.1 / / The system shall be capable of detecting streetlight regions comprised of common streetlights. Generally, if there are three or more streetlights in a region, the system regards it as a streetlight region ................... 13  
    18.7.2.2 / / Streetlights on separate roadways that are at least 100m from the host vehicle location shall be classified as irrelevant and shall not cause the current location to be classified as a streetlight region. ............................. 13  
  18.7.3 / / Traffic Style Detect .......................................................................................... 13
Page 3
Table of Contents

18 / APL_ADB  
18.1 / / Approvals  
18.2 / / Document Management  
18.3 / / Purpose  
18.4 / / Glossary  
18.5 / / Function Overview  
18.6 / / Function Architecture  
18.7 / / Function Description  
   - 18.7.1 / / Ambient Light Condition  
      - 18.7.1.1 / / The system shall output the ambient light activation condition according to the light level of the environment. This signal means if the vehicle should open the high beam and LED beam automatically.  
      - 18.7.1.2 / / IFC shall output the condition to HC by signal CAM_AmbLi, the system should act depending on the ambient light information from camera detection.  
      - 18.7.1.3 / / CAM_AmbLi shall be Active for HighBeam when the ambient light level falls below a configurable value BS_OB_EXIT_THRESH_ADB. This means the highbeam is allowed to be opened according to the ambient condition.  
      - 18.7.1.4 / / CAM_AmbLi shall be Not Active for HighBeam when the ambient light level raises above a configurable value BS_OB_ENTER_THRESH_ADB. This means the highbeam is not allowed to be opened according to the ambient condition.  
      - 18.7.1.5 / / Note: This condition shall use BS_OB_EXIT_THRESH_ADB as the limit after the system is powered-up.  
      - 18.7.1.6 / / High beam activation  

   - 18.7.2 / / Streetlight Area Detection  
      - 18.7.2.1 / / The system shall be capable of detecting streetlight regions comprised of common streetlights. Generally, if there are three or more streetlights around, the system regards it as a streetlight region.  
      - 18.7.2.2 / / Streetlights on separate roadways that are at least 100m from the host vehicle location shall be classed as irrelevant and not lead to the current location being classified as a streetlight region.  

   - 18.7.3 / / Traffic Style Detect  

   - 18.7.4 / / Light Object Detection  
      - 18.7.4.1 / / The system shall report the object type, position, distance, etc.  
      - 18.7.4.2 / / Number of Objects  

18.8 / / Function Interface  
   - 18.8.1 / / ADB Input Signal  
   - 18.8.2 / / ADB Output Signal  

18.9 / / State Machine  

18.10 / / Function Turning Parameters List  

18.11 / / Function Performance  
   - 18.11.1 / / Detection FOV  
      - 18.11.1.1 / / The system shall be able to detect vehicles within a minimum horizontal FOV of ± 25°.  
      - 18.11.1.2 / / The system shall be able to detect vehicles within a minimum vertical FOV of 5° above the horizon and 10° below the horizon.  

   - 18.11.2 / / Detection Distance  
      - 18.11.2.1 / / The minimum distance at which the system shall detect an oncoming vehicle with two headlamps is 800m.  
      - 18.11.2.2 / / The minimum distance at which the system shall detect an oncoming vehicle with one headlamp is 500m.  
      - 18.11.2.3 / / The minimum distance at which the system shall detect a preceding vehicle with two taillights is 500m.  
      - 18.11.2.4 / / The minimum distance at which the system shall detect a preceding vehicle with one taillight is 250m.  
      - 18.11.2.5 / / The minimum distance at which the system shall detect an oncoming bicycle with a headlamp is 75m.  

   - 18.11.3 / / Angle Accuracy  

   - 18.11.4 / / Urban Area Detection Accuracy  

   - 18.11.5 / / Detection Accuracy  
      - 18.11.5.1 / / Upon initial detection of an oncoming vehicle with two headlamps at a range of 0 - 500m, the system shall send the request to switch off the high beam in less than 900ms for 95% of the test cases.  
      - 18.11.5.2 / / Upon initial detection of an oncoming bicycle headlamp at a range less than 75m, the system shall send the request to switch off the high beam in less than 2 seconds for 95% of the test cases.
Page 4
18.11.5.3 / / Upon initial detection of a preceding vehicle with two taillamps at a range of 0 - 400m, the system shall send the request to switch off the high beam in less than 1 second for 90% of the test cases.

18.11.6 / / Distance Accuracy  
18.11.6.1 / / When the actual distance from the objects with two lights to the host vehicle is within the range of 0 - 100m.  
18.11.6.2 / / When the actual distance from the objects with twin lights to the host vehicle is within the range of 100 - 200m.  

18.11.7 / / Tunnel Detection Performance  

18.12 / / Regulations
Page 5
18 / APL_ADB

Requirement ID: FS-225899  
Type: --  
Status: New  

---

18.1 / / Approvals  

Requirement ID: FS-227034  
Type: --  
Status: New  

Name & Position:  
- Author: Zhao Jianzhou, System Engineer  
- ZF Review: Wang Qi, System Engineer  
- Customer Review: TBD  
- ZF Approve: TBD, Engineering Manager  
- Customer Approve: TBD  

Signed:  
- Dates for all signatures are TBD.  

---

18.2 / / Document Management  

Requirement ID: FS-227035  
Type: --  
Status: New
Page 6
18 / APL_ADB

Requirement ID: FS-225899  
Type: --  
Status: New  

---

18.1 / / Approvals  

Requirement ID: FS-227034  
Type: --  
Status: New  

Name & Position & Signed:  
Date:

**Author:**  
Zhao Jianzhou  
System Engineer  

**ZF Review:**  
Wang Qi  
System Engineer  

**Customer Review:**  
TBD  
TBD  

**ZF Approve:**  
TBD  
Engineering Manager  

**Customer Approve:**  
TBD  
TBD  

---

18.2 / / Document Management  

Requirement ID: FS-227035  
Type: --  
Status: New  

---

**VinFast Version**

**Version:**  
Change By: ECR60005557  
Change Description: Release for SOP phase  
Initiator: Duong Hoai An  
Approver: Ng Dennis Koon Siu  

**Revision History:**  
- **Revision:** 1.0  
  - **Date:** 19-Nov-2021  
  - **Prepared By:** Zhao Jianzhou  
  - **Reviewed By:** Wang Qi  
  - **Change Log:** Initial version for customer  

- **Revision:** 2.0  
  - **Date:** 15-Dec-2022  
  - **Prepared By:** Zhao Jianzhou  
  - **Reviewed By:** Wang Qi  
  - **Change Log:**  
    1. 7.2 Function state: update note for object ID  
    2. 9. Update parameters
Page 7
18 / APL_ADB  

Requirement ID:  
FS-225899  
Type: --  
Status: New  

---

18.1 / / Approvals  

Requirement ID:  
FS-227034  
Type: --  
Status: New  

**Name & Position** | **Signed:** | **Date:**  
--- | --- | ---  
**Author**: Zhao Jianzhou, System Engineer | --- | ---  
**ZF Review:** Wang Qi, System Engineer | --- | ---  
**Customer Review:** TBD | --- | TBD  
**ZF Approve:** TBD, Engineering Manager | --- | ---  
**Customer Approve:** TBD | --- | TBD  

---

18.2 / / Document Management  

Requirement ID:  
FS-227035  
Type: --  
Status: New  

---

**VinFast Version**  

**Version** | **Change by** | **Change Description** | **Initiator** | **Approver**  
--- | --- | --- | --- | ---  
1.0 | ECR60005557 | Release for SOP phase | Duong Hoai An | Ng Dennis Koon Siu  

---

**Revision History**  

**Revision** | **Date** | **Prepared By** | **Reviewed By** | **Change Log**  
--- | --- | --- | --- | ---  
1.0 | 19-Nov-2021 | Zhao Jianzhou | Wang Qi | Initial Version for customer  
2.0 | 15-Dec-2022 | Zhao Jianzhou | Wang Qi | 1. 7.2 Function state: update note for object ID  
--- | --- | --- | --- | 2. 9. update parameters  

---

**Purpose**  

Requirement ID:  
FS-227036  
Type: --  
Status: New  

This document is based on the ADB function discussion between ZF and VF. ZF creates the draft, VF reviews and confirms. This document is the ADB function development requirement after the final approval by VF and ZF.  

---

**Glossary**  

Requirement ID:  
FS-227037  
Type: --  
Status: New  

**Acronym** | **Full Form**  
--- | ---  
ADB | Adaptive Driving Beam LED  
DAS | Driver Assist Systems  
IFC | Intelligent Front Camera  
AHBA | Automatic High Beam Assist  
IHC | Intelligent High Beam Control  
HLB | High-low Beam  
BCM | Body Control Module  
FOV | Field of View
Page 8
18.5 / / Function Overview.

Requirement ID: FS-227038. Type: --. Status: New.

Adaptive Driving Beam (ADB), with the use of LED Matrix headlights, is a technology that adjusts the lighting area according to input from the camera signal to avoid dazzling light to oncoming or preceding vehicles while maintaining illumination on pedestrians, animals, and other objects.

When the user has activated this feature, it automatically turns off the high beams partially when the camera detects there are oncoming or preceding vehicles. The portion of the high beams that are turned off changes according to the direction and distance of the vehicle. The remaining high beams are on to illuminate the widest possible area. On the other hand, the low beams always illuminate a certain range to ensure visibility in front of the driver.  

Activation > 60 km/h. Deactivation < 50 km/h.  

This feature does not actively intervene in the dynamic driving task.

Automatic High Beam (AHB) is a driver assistance system that automatically switches from low to high beam when necessary. When the user has activated this feature, it will switch from low to high beam when driving in conditions with insufficient lighting. The high beam will be switched to low beam automatically to avoid blinding oncoming or preceding vehicles, as long as these vehicles emit enough light to remain properly visible in the low beam light, or when there is sufficient lighting from the environment (daylight, street lamps, etc.). This feature does not actively intervene in the dynamic driving task.

This functional specification is applicable for both VF9 US/CA with SAE Headlight system that ONLY supports Automatic High Beam, and VF9 EU/VN that supports ADB as listed in the table below. The control of the system is on the ADB Module, also known as LDM (LED Driver Module) instead of Adaptive Driving Beam (ADB) for EU & VN ECE Headlight systems.
Page 9
18 / APL_ADB

Requirement ID: FS-225899  
Type: --  
Status: New  

---

18.1 / / Approvals

Requirement ID: FS-227034  
Type: --  
Status: New

| Name & Position &    | Signed:  | Date:                           |
|-----------------------|----------|--------------------------------|
| **Author:**           |          |                                |
| Zhao Jianzhou         |          | System Engineer               |
| **ZF Review:**        |          |                                |
| Wang Qi               |          | System Engineer               |
| **Customer Review:**  | TBD      | TBD                            |
| **ZF Approve:**       | TBD      | Engineering Manager           |
| **Customer Approve:** | TBD      | TBD                            |

---

18.2 / / Document Management

Requirement ID: FS-227035  
Type: --  
Status: New  

---

VinFast Version

| Version | Change by   | Change Description      | Initiator         | Approver              |
|---------|-------------|-------------------------|-------------------|-----------------------|
| 1.0     | ECR60005557 | Release for SOP phase  | Duong Hoai An     | Ng Dennis Koon Siu    |

---

Revision Table:

| Revision | Date        | Prepared By     | Reviewed By | Change Log                              |
|----------|-------------|-----------------|-------------|-----------------------------------------|
| 1.0      | 19-Nov-2021 | Zhao Jianzhou   | Wang Qi     | Initial Version for customer            |
| 2.0      | 15-Dec-2022 | Zhao Jianzhou   | Wang Qi     | 1. Updated note for object ID and 2. Updated parameters |
| 3.0      | 24-Jan-2023 | VF              | VF          | Added note for spec applicable project  |

---

18.3 / / Purpose

Requirement ID: FS-227036  
Type: --  
Status: New  

This document is based on the ADB function discussion between ZF and VF. ZF creates the draft, and VF reviews and confirms. This document outlines the ADB function development requirement after final approval by VF and ZF.

---

18.4 / / Glossary

Requirement ID: FS-227037  
Type: --  
Status: New  

| Acronym | Full Form                          |
|---------|------------------------------------|
| ADB     | Adaptive Driving Beam LED          |
| DAS     | Driver Assist Systems              |
| IFC     | Intelligent Front Camera           |
| AHBA    | Automatic High Beam Assist         |
| IHC     | Intelligent High Beam Control      |
| HLB     | High-Low Beam                     |
| BCM     | Body Control Module                |
| FOV     | Field of View                      |
| AHL     | Automatic Hi-Low System           |
| VDC     | Vehicle Dynamics Controller        |
| ECU     | Electronic Control Unit            |

---

18.5 / / Function Overview

Requirement ID: FS-227038  
Type: --  
Status: New  

Adaptive Driving Beam (ADB), with the use of LED Matrix headlight, is a technology that adjusts the lighting area according to input from camera signals to avoid dazzling light to incoming or preceding vehicles while maintaining illumination on pedestrians, animals, and other objects.  

When the user activates this feature, it automatically turns off the high beams partially when the camera detects oncoming or preceding vehicles. The portion of the high beams turned off changes according to the direction and distance of the vehicle, while the remaining high beams illuminate the widest possible area. On the other hand, the low beams always illuminate a certain range to ensure visibility for the driver.

Activation >60 km/h  
Deactivation <50 km/h  

This feature does not actively intervene in dynamic driving tasks.

Automatic High Beam (AHB) is a driver assistance system that automatically switches from low to high beam when necessary. When activated, it switches from low beam to high beam under insufficient lighting conditions. The high beam automatically switches to low beam to avoid blinding oncoming or preceding vehicles, provided the vehicles emit enough light or there is sufficient environmental lighting.

This functional specification applies to VF9 US/CA with SAE Headlight system that only supports Automatic Highbeam, and VF9 EU/VN that supports ADB. The control system operates through the ADB Module, also known as LDM (LED Driver Module), instead of Adaptive Driving Beam (ADB) for EU & VN ECE Headlight systems.

---

Feature Table:

| Main System Controller       | VF8 (US/Canada/VN/EU) | VF9 (US/Canada) | VF9 EU/VN          |
|------------------------------|------------------------|------------------|--------------------|
| **Hella LDM**               | Not Applicable        | AHB             | Hella LDM          |
| **SCAM**                    | Not Applicable        | AHB             | Not Applicable     |

Only on VF9: SCAM sends signals to HELLA LDM Module as specified in the ADB output signals for AHB and Adaptive Driving Beam functionality.

---

18.6 / / Function Architecture

Requirement ID: FS-227039  
Type: --  
Status: New
Page 10
28-Jan-23  
Uncontrolled copy when printed  
10 | 23  
Print date.  

VinFast  
Management System  

VFDSXVEEP9133  

Fig. ADB Feature Architecture.  

18.7 // Function Description.  
Requirement ID: FS-227040  
Type: --  
Status: New  

18.7.1 // Ambient Light Condition.  
Requirement ID: FS-227041  
Type: --  
Status: New  

18.7.1.1 // The system shall output the ambient light activation condition according to the light level of the environment. This signal determines if the vehicle should open the high beam and LED beam automatically.  
Requirement ID: FS-227042  
Type: --  
Status: New
Page 11
18.7.1.2 / / IFC shall output the condition to HC by signal CAM_AmbLi. The system should act depending on the ambient light information from camera detection.

Requirement ID: FS-227043  
Type: --  
Status: New  

18.7.1.3 / / CAM_AmbLi shall be Active for HighBeam when the ambient light level falls below a configurable value `BS_OB_EXIT_THRESH_ADB`. This means the high beam is allowed to be open according to the ambient condition.

Requirement ID: FS-227044  
Type: --  
Status: New  

18.7.1.4 / / CAM_AmbLi shall be Not Active for HighBeam when the ambient light level raises above a configurable value `BS_OB_ENTER_THRESH_ADB`. This means the high beam is not allowed to be open according to the ambient condition.

Requirement ID: FS-227045  
Type: --  
Status: New  

18.7.1.5 / / Note: This condition shall use `BS_OB_EXIT_THRESH_ADB` as the limit after the system is powered up.

Requirement ID: FS-227046  
Type: --  
Status: New  

**Figure:** Illustration of ADB Activation and Deactivation Ambient Light Thresholds  

The figure presents the hysteresis curve showing valid and invalid ambient light activation conditions in relation to the thresholds `BS_OB_EXIT_THRESH` and `BS_OB_ENTER_THRESH`. These thresholds define when the automatic high beam activation and deactivation functions are applied.
Page 12
18.7.1.6 / / High beam activation.

Once the ambient light condition is satisfied (the ambient level falls below BS_OB_EXIT_THRESH_ADB), the system should have a delay period of DELAY_HMA_INACTIVE_TO_FULL_ADB seconds, and then convert the output signal (CAM_AmbLi switched to Active for HighBeam from Not Active for HighBeam). 

Note: The additional delay period allows for the system to filter out brief dips in ambient lighting, thereby ensuring that the ambient light has met the right conditions before operating. 

Note: This condition of ADB uses the same calibration parameters as the HMA function.

---

18.7.2 / / Streetlight Area Detection.

The system shall detect if the area is streetlight area by streetlight detection. An example is shown below:

Fig. Streetlight Area.
IFC shall output this condition to HC by signal CAM_RoadIllmn.
Page 13
18.7.2.1 / / The system shall be capable of detecting streetlight regions comprised of common streetlights. Generally, if there are three or more streetlights around, the system regards it as a streetlight region.

Requirement ID: FS-227049  
Type: --  
Status: New  

18.7.2.2 / / Streetlights on separate roadways that are at least 100m from the host vehicle location shall be classed as irrelevant and not lead to the current location being classified as a streetlight region.

Requirement ID: FS-227050  
Type: --  
Status: New  

18.7.3 / / Traffic Style Detect

Requirement ID: FS-227051  
Type: --  
Status: New  

IFC shall detect if the traffic style is right-hand or left-hand and output by signal CAM_Obj_TrfcStyle. This function is reserved and will not be used in the current project.

18.7.4 / / Light Object Detection

Requirement ID: FS-227052  
Type: --  
Status: New  

ADB system shall report lights from vehicles (cars, trucks, bicycles, etc.) and strong reflectors (traffic signs, smooth pillars, etc.) as light objects. The light objects are used to determine how the headlight controller adjusts the angle of the headlights and gives the driver the best view of the road ahead without dazzling other drivers and the host driver.

18.7.4.1 / / The system shall report the object type, position, distance, etc.

Requirement ID: FS-227053  
Type: --  
Status: New
Page 14
28-Jan-23  
Uncontrolled copy when printed  
14 | 23  
Print date.  

VinFast  
Management System  

VFDSXVEEP9133  

18.7.4.2 // Number of Objects  

Requirement ID: FS-227054  
Type: --  
Status: New  

The system shall transmit up to a maximum of MAX_NUM_MODELIF_VEHICLE_OBJECTS vehicle light objects that are either single light sources or two lights source or clusters of light sources in close proximity.  
If the system has detected more vehicle light objects than the maximum number that can be transmitted, the system shall group the closest (by angle) objects together into clusters in an iterative manner, to ensure that the final list of reported objects does not exceed MAX_NUM_MODELIF_VEHICLE_OBJECTS.  
The system shall transmit up to a maximum of MAX_NUM_MODELIF_REFLECTOR_OBJECTS strong reflector objects.  
If the system has detected more strong reflector objects than the maximum number that can be transmitted, the system shall group the closest (by angle) objects together into clusters in an iterative manner, to ensure that the final list of reported objects does not exceed MAX_NUM_MODELIF_REFLECTOR_OBJECTS.  

Fig. Iterative into Clusters  

18.8 // Function Interface  

Requirement ID: FS-227055  
Type: --  
Status: New  

This section defines the input and output signals.  

18.8.1 // ADB Input Signal
Page 15
Requirement ID: FS-227056  
Type: --  
Status: New  

IFC doesn’t need any input signals from other module for this function.  

### 18.8.2 / / ADB Output Signal  

Requirement ID: FS-227057  
Type: --  
Status: New  

| Signal Name          | Description                   | Value Range                                      |
|----------------------|------------------------------|------------------------------------------------|
| 0x181.CAM_CamSts    | Camera Status                | 0x0: Not Available for ADB  
                                                  0x1: Available for ADB  
                                                  0x2: Camera Fault  
                                                  0x3: Reserved                                  |
| 0x181.CAM_AmbLi     | Ambient Light                | 0x0: Not Active for HighBeam  
                                                  0x1: Active for HighBeam                      |
| 0x181.CAM_RoadIllmn | Road Illumination Condition  | 0x0: Road Illumination Not Detected  
                                                  0x1: Road Illumination Detected               |
| 0x181.CAM_Obj_TrfcStyle* | Traffic Style          | 0x0: Unknown  
                                                  0x1: RightHandTraffic  
                                                  0x2: LeftHandTraffic  
                                                  0x3: Not Available                            |
| CAM_Obj1_ID*        | ID of Spots 1               | ID: 1~255                                      |
| CAM_Obj1_Valid*     | Spots 1 Valid               | 0x0: Invalid  
                                                  0x1: Valid                                     |
Page 16
18.7.4.2 / / Number of Objects.

Requirement ID: FS-227054  
Type: --  
Status: New  

The system shall transmit up to a maximum of MAX_NUM_MODELIF_VEHICLE_OBJECTS vehicle light objects that are either single light sources or two lights source or clusters of light sources in close proximity.  
If the system has detected more vehicle light objects than the maximum number that can be transmitted, the system shall group the closest (by angle) objects together into clusters in an iterative manner, to ensure that the final list of reported objects does not exceed MAX_NUM_MODELIF_VEHICLE_OBJECTS.  
The system shall transmit up to a maximum of MAX_NUM_MODELIF_REFLECTOR_OBJECTS strong reflector objects.  
If the system has detected more strong reflector objects than the maximum number that can be transmitted, the system shall group the closest (by angle) objects together into clusters in an iterative manner, to ensure that the final list of reported objects does not exceed MAX_NUM_MODELIF_REFLECTOR_OBJECTS.  

Fig. Iterative into Clusters.  

---

18.8 / / Function Interface.

Requirement ID: FS-227055  
Type: --  
Status: New  

This section defines the input and output signals.  

---

18.8.1 / / ADB Input Signal.

Requirement ID: FS-227056  
Type: --  
Status: New  

IFC doesn’t need any input signals from other module for this function.  

---

18.8.2 / / ADB Output Signal.

Requirement ID: FS-227057  
Type: --  
Status: New  

**Signal name:**  
- **Description:**  
- **Value range:**  

**0x181.CAM_CamSts**  
Camera status  
- 0x0: Not Available for ADB  
- 0x1: Available for ADB  
- 0x2: Camera Fault  
- 0x3: Reserved  

**0x181.CAM_AmbLi**  
Ambient light  
- 0x0: Not Active for HighBeam  
- 0x1: Active for HighBeam  

**0x181.CAM_RoadIllmn**  
Road illumination condition  
- 0x0: Road illumination Not detected  
- 0x1: Road illumination detected  

**0x181.CAM_Obj_TrfcStyle***  
Traffic style  
- 0x0: Unknown  
- 0x1: RightHandTraffic  
- 0x2: LeftHandTraffic  
- 0x3: Not Available  

**CAM_Obj1_ID***  
ID of spots 1  
- ID: 1~255  

**CAM_Obj1_Valid***  
Spots1 Valid  
- 0x0: Invalid  
- 0x1: Valid  

**CAM_Obj1_HozlDst***  
Spots1 position distance  
- 0~510 m  

**CAM_Obj1_Typ***  
Spots1 type  
- 0x0: Unknown  
- 0x1: Oncoming object  
- 0x2: Preceding object  
- 0x3: Reflective object  

**CAM_Obj1_HozlPosnRi***  
Spots1 horizontal position right angle  
- -40~40 degree  

**CAM_Obj1_HozlPosnLe***  
Spots1 horizontal position left angle  
- -40~40 degree  

**CAM_Obj1_VertPosn***  
Spots1 vertical position  
- -12~12 degree  

**CAM_Obj1_HozlSpdLe***  
Spots1 horizontal position left angle speed  
- -64~63.5 degree/s  

**CAM_Obj1_HozlSpdRi***  
Spots1 horizontal position right angle speed  
- -64~63.5 degree/s  

---

**Notes:**
1. Traffic style detection is not available currently. IFC will output default value (0x0).  
2. There are totally 8 spots. So, the signals of spots have 8 groups in message 0x191, 0x194, 0x196, 0x19A, 0x19C, 0x19D, 0x19E and 0x19F.  
3. Object ID should not change during detected object’s life cycle, and 0x0 represents object invalid.
Page 17
18.9 / / State Machine.

Requirement ID: FS-227058.  
Type: --.  
Status: New.  

After IFC is powered up and during initialization, the system shall enter Not Available for ADB state. If the system detects that it is in daytime, the system shall also enter Not Available for ADB. In this condition, CAM_CamSts shall be Not Available for ADB, and all other outputs shall be in default values.  

If IFC finishes initialization and night condition is detected, the system shall enter Available for ADB status. In this condition, CAM_CamSts shall be Available for ADB, and the function is operated normally.  

If related faults are detected, the system shall enter ADB Fault status. CAM_CamSts shall be Camera Fault, and other outputs shall output default values.  

If the function is not configured by the configuration DID, the system shall enter ADB not Configured status, and IFC shall send default values for related signals.  

Note: Related faults include self-glare, sunray, splash, dark, out-of-focus, block, rain, snow, fog, and misalignment. Details will be defined after DTC and faults are clarified.  

---

18.10 / / Function Turning Parameters List.

Requirement ID: FS-227059.  
Type: --.  
Status: New.
Page 18
18.11 / / Function Performance.

Requirement ID: FS-227060.  
Type: --  
Status: New.  

18.10 / / Function Turning Parameters List.

1. **DELAY_HMA_INACTIVE_TO_FULL_ADB**: Delay period for ambient light condition valid. Value: 3000 milliseconds.  
3. **BS_OB_EXIT_THRESH_ADB**: Limit to valid ambient light condition without ambient light sensor. Value: 6 lux.  
5. **BS_OB_ENTER_THRESH_ADB**: Limit to invalid ambient light condition without ambient light sensor. Value: 8 lux.  
10. **MAX_NUM_MODELIF_VEHICLE_OBJECTS**: Max number of the vehicle-object output. Value: 8.  
11. **MAX_NUM_MODELIF_REFLECTOR_OBJECTS**: Max number of the reflector-object output. Value: 0.
Page 19
All the performance requirements should be decided and tested by OEM and ZF together. The following performance requirements data are just for reference. Actual performance should be according to the validation results.

18.11.1 Detection FOV.

Requirement ID: FS-227061  
Type: --  
Status: New  

18.11.1.1 The system shall be able to detect vehicles within a minimum horizontal FOV of ± 25°.

Requirement ID: FS-227062  
Type: --  
Status: New  

18.11.1.2 The system shall be able to detect vehicles within a minimum vertical FOV of 5° above the horizon and 10° below the horizon.

Requirement ID: FS-227063  
Type: --  
Status: New
Page 20
18.11.2 / / Detection Distance.

Requirement ID: FS-227064.  
Type: --  
Status: New.  

The range requirements below are applicable as long as the host vehicle is on an even straight road, when limitation of the maximum detection range of the system is not active and the target is in motion.

18.11.2.1 / The minimum distance at which the system shall detect an oncoming vehicle with 2 headlamps is 800m.  

Requirement ID: FS-227065.  
Type: --  
Status: New.  

18.11.2.2 / The minimum distance at which the system shall detect an oncoming vehicle with 1 headlamp is 500m.  

Requirement ID: FS-227066.  
Type: --  
Status: New.  

18.11.2.3 / The minimum distance at which the system shall detect a preceding vehicle with 2 taillights is 500m.  

Requirement ID: FS-227067.  
Type: --  
Status: New.  

18.11.2.4 / The minimum distance at which the system shall detect a preceding vehicle with 1 taillight is 250m.  

Requirement ID: FS-227068.  
Type: --  
Status: New.
Page 21
18.11.2.5 / / The minimum distance at which the system shall detect an oncoming bicycle with headlamp is 75m.

Requirement ID: FS-227069  
Type: --  
Status: New  

18.11.3 / / Angle Accuracy.

Requirement ID: FS-227070  
Type: --  
Status: New  

The angles used for the HMA shall have an accuracy of at least 0.1 degrees assuming a correctly calibrated camera.

18.11.4 / / Urban Area Detection Accuracy.

Requirement ID: FS-227071  
Type: --  
Status: New  

Based on the total number of urban areas available on the test route, the incorrect deactivation of the high beam due to the false detection of urban areas shall occur at a rate less than or equal to 5%.

18.11.5 / / Detection Accuracy.

Requirement ID: FS-227072  
Type: --  
Status: New  

18.11.5.1 / / Upon initial detection of an oncoming vehicle with two headlamps at a range of 0 - 500m, the system shall send the request to switch off the high beam in less than 900ms for 95% of the test cases.

Requirement ID: FS-227073  
Type: --  
Status: New
Page 22
18.11.5.2 / / Upon initial detection of an oncoming bicycle headlamp at a range less than 75m, the system shall send the request to switch off the high beam in less than 2 seconds for 95% of the test cases.

Requirement ID: FS-227074  
Type: --  
Status: New  

18.11.5.3 / / Upon initial detection of a preceding vehicle with two taillamps at a range of 0 - 400m, the system shall send the request to switch off the high beam in less than 1 second for 90% of the test cases.

Requirement ID: FS-227075  
Type: --  
Status: New  

18.11.6 / / Distance Accuracy  

Requirement ID: FS-227076  
Type: --  
Status: New  

18.11.6.1 / / When the actual distance from the objects with two lights to the host vehicle is within the range of 0 - 100m, the measure of the distance shall have an accuracy of maximum 10% for at least 97% of the measured values.

Requirement ID: FS-227077  
Type: --  
Status: New  

18.11.6.2 / / When the actual distance from the objects with twin lights to the host vehicle is within the range of 100 - 200m, the measure of the distance shall not exceed 20% for at least 97% of the measured values.

Requirement ID: FS-227078  
Type: --  
Status: New
Page 23
18.11.7 / / Tunnel Detection Performance.

Requirement ID: FS-227079.  
Type: --.  
Status: New.  

The system shall detect that the host vehicle is no longer within a tunnel within 2 seconds or 50m (whichever occurs first) of exiting the tunnel with a Detection Rate of at least 95%.  
The system shall achieve a False Positive Rate for detecting that the host vehicle is in a tunnel of less than 1/150 km.

18.12 / / Regulations.

Requirement ID: FS-227080.  
Type: --.  
Status: New.  

The system shall be fully compliant to the ECE-R-48 regulations for automatically controlled headlamps.