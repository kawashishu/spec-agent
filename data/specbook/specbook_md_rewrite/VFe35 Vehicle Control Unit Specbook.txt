Page 1
VEHICLE CONTROL UNIT Spec book (SPB).
Page 2
Release.

Version: 1.0.  
Date: January 2023.

Updated by:

- Developing Engineer: Devanath Sivakumar.  
- VF Engineer Leader: Veerandra Sahani (ttl.veerandra.sahani).  
- ESP Engineer Leader: Đỗ Văn Hiệp (hiepdv5@vinfast.vn).  
- VF I&S Lead Engineer: Emiliano Agnoletto (v.emilianoa@vinfast.vn).  
- VF Quality: Hitendra (v.hitendrak@vinfast.vn).  
- VF T&V: Luiz Augusto Cellio Soares (v.luizs@vinfast.vn).  
- VF CE: Schoenherr Christian (v.christians@vinfast.vn).  

Revisions since previous version change:

Version V0.9. Document received from FEV.  
Signature: Tasar, Helin; Caglayan, Ebru.  
Date: November 2022.  

Version V1.0.  
- Updated VCU diagram.  
- Updated the Cybersecurity, Fusa, Testing Validation and Compatibility, DVP Topics.  
- Updated the indexing sequence of the document.  
Signature: Devanath Sivakumar.  
Date: January 2023.
Page 3
Scope and purpose.

VinFast (VinFast Trading and Production Limited Liability Company) have started to design and develop a new C-SUV vehicle in both BEV and ICE (PREM). Environmental impact and sustainability of the program are taken into account as essential target features. This SPB shall provide details for all components for mass production of the PREM Program.

Figure: A detailed diagram showcasing the Vehicle Control Unit (VCU) designed for the PREM Program, featuring its intricate connectors and structural elements essential for integration into the vehicle system.
Page 4
The reproduction, distribution, and utilization of this document as well as the communication of its contents to others without express authorization is prohibited. Offenders will be held liable for payment of damages. All rights are reserved in the event of a grant of patent, utility model, or design. Nothing in this standard supersedes applicable laws and regulations.
Page 5
PART NUMBERS.

FRS 8.6 - to be used for VN SOP5 (VFe365):

- Part Number: SOW30050021. Version: 1. Part Name: VCU_CALIBRATION_SW_VN_ECO_E2E_disabled. DID: 0xF102.
- Part Number: SOW30050020. Version: 1. Part Name: VCU_CALIBRATION_SW_VN_PLUS__E2E_disabled. DID: 0xF102.
- Part Number: EEP30038001. Version: 2. Part Name: VEHICLE_CONTROL_UNIT. DID: 0xF103.
- Part Number: SOW30038006. Version: 1. Part Name: VCU_ASW_1. DID: 0xF104.
- Part Number: SOW30038008. Version: 1. Part Name: VCU_BSW. DID: 0xF105.
- Part Number: SOW30038007. Version: 1. Part Name: VCU_VN_XML.
- Part Number: SOW30038009. Version: 1. Part Name: VCU_ASW_0. DID: 0xF188.
- Part Number: 2000695. Part Name: SYSTEM SUPPLIER IDENTIFIER. DID: 0xF18A.
- Part Number: EEP30009023. Version: 2. Part Name: VCU_HW. DID: 0xF191.

VF36 FRS8.0:

- Part No.: EEP80038000. Revision: 1. Name: VEHICLE_CONTROL_UNIT_ASSEMBLY. DID: 0xF103.
- Part No.: EEP30009023. Revision: 2. Name: VCU_HW. DID: 0xF191.
- Part No.: SOW30038009. Revision: 1. Name: VCU_ASW_0. DID: 0xF188.
- Part No.: SOW30038006. Revision: 1. Name: VCU_ASW_1. DID: 0xF104.
- Part No.: SOW30038008. Revision: 1. Name: VCU_BSW. DID: 0xF105.
- Part No.: SOW80038001. Revision: 1. Name: VCU_XML.
- Part No.: SOW80016001. Revision: 1. Name: VCU_CALIBRATION_SW_VN_ECO. DID: 0xF102.
- Part No.: SOW80016002. Revision: 1. Name: VCU_CALIBRATION_SW_VN_PLUS. DID: 0xF102.
- Part No.: 2000695. Name: SYSTEM SUPPLIER IDENTIFIER. DID: 0xF18A.
Page 6
Table of contents.

1 General Document Guidelines ........................................................................................11  
   1.1 Purpose.........................................................................................................................11  
   1.2 Language ......................................................................................................................11  
   1.3 Obligation of Requirement Wording .............................................................................11  
   1.4 Abbreviations ................................................................................................................11  

2 VFe35 Variant Gaps ..........................................................................................................13  

3 Component Flow Charts ....................................................................................................14  
   3.1 EDS..............................................................................................................................14  
   3.2 OBC .............................................................................................................................15  
   3.3 DCDC...........................................................................................................................16  
   3.4 PTC ..............................................................................................................................17  
   3.5 VCU LIN Wakeup .........................................................................................................18  
   3.6 eVCU State Diagram ....................................................................................................19  
   3.7 PLC Sequence..............................................................................................................20  

4 Process Flow Charts..........................................................................................................21  
   4.1 HV On/Off ....................................................................................................................21  
       4.1.1 Power Up .............................................................................................................21  
       4.1.2 Power Down ........................................................................................................21  
       4.1.3 Wake up for AC Charge .....................................................................................21  
       4.1.4 DC Charge .........................................................................................................21  

5 Functional Architecture Descriptions ...............................................................................22  
   5.1 Pedal Acquisition Function ...........................................................................................22  
       5.1.1 Design Level Requirements ................................................................................22  
       5.1.2 Topology Diagram ...............................................................................................25  
       5.1.3 Signal I/O ............................................................................................................26  
   5.2 Driver Interpretation ......................................................................................................27  
       5.2.1 Design Level Requirements ................................................................................27  
       5.2.2 Topology Diagram ...............................................................................................35  
       5.2.3 Signal I/O ............................................................................................................37  
   5.3 High Voltage System Coordination ..............................................................................39  
       5.3.1 Design Level Requirements ................................................................................39  
       5.3.2 Topology Diagram ...............................................................................................51  
       5.3.3 Signal I/O ............................................................................................................53
Page 7
5.4 Torque Management ............................................................................................................. 60  
5.4.1 Design Level Requirements ......................................................................................... 60  
5.4.2 Topology Diagram .......................................................................................................... 67  
5.4.3 Signal I/O ........................................................................................................................ 68  
5.5 Charge Management ............................................................................................................. 72  
5.5.1 Design Level Requirements ......................................................................................... 72  
5.5.2 Topology Diagram .......................................................................................................... 79  
5.5.3 Signal I/O ........................................................................................................................ 80  
5.6 Energy Management ........................................................................................................... 104  
5.6.1 Design Level Requirements ....................................................................................... 104  
5.6.2 Topology Diagram ........................................................................................................ 111  
5.6.3 Signal I/O ...................................................................................................................... 112  
5.7 High Voltage Safety ............................................................................................................. 118  
5.7.1 Design Level Requirements ....................................................................................... 118  
5.7.2 Topology Diagram ........................................................................................................ 120  
5.7.3 Signal I/O ...................................................................................................................... 121  
5.8 Thermal Management & Air Shutter Control ....................................................................... 123  
5.8.1 Design Level Requirements ....................................................................................... 123  
5.8.2 Topology Diagram ........................................................................................................ 133  
5.8.3 Signal I/O ...................................................................................................................... 134  
5.9 Creep Control ...................................................................................................................... 149  
5.9.1 Design Level Requirements ....................................................................................... 149  
5.9.2 Topology Diagram ........................................................................................................ 151  
5.9.3 Signal I/O ...................................................................................................................... 152  
5.10 Adaptive Cruise Control ...................................................................................................... 153  
5.10.1 Design Level Requirements ....................................................................................... 153  
5.11 ADAS ................................................................................................................................... 154  
5.11.1 Design Level Requirements ....................................................................................... 154  
5.11.2 Topology Diagram ........................................................................................................ 159  
5.11.3 Signal I/O ...................................................................................................................... 160  
5.12 Immobilizer Authentication .................................................................................................. 164  
5.12.1 Design Level Requirements ....................................................................................... 164  
5.12.2 Signal I/O ...................................................................................................................... 168  
5.13 Driving Information and HMI................................................................................................ 169  
5.13.1 Design Level Requirements ....................................................................................... 169  
5.13.2 Topology Diagram ........................................................................................................ 179  
5.13.3 Signal I/O ...................................................................................................................... 180  
5.14 Fault Diagnostics ................................................................................................................. 182  
5.14.1 Design Level Requirements ....................................................................................... 182  
5.15 Smart Features .................................................................................................................... 185
Page 8
5.15.1 Design Level Requirements. 

5.15.2 Topology Diagram. 

5.15.3 Signal I/O. 

5.16 Valet Mode – Vehicle Speed Control. 

5.16.1 Design Level Requirements. 

5.16.2 Signal I/O. 

5.17 Flashing Precondition and Diagnosis Precondition. 

5.17.1 Design Level Requirements. 

5.17.2 Signal I/O. 

5.18 6SO. 

5.18.1 Design Level Requirements. 

5.19 Variant Management. 

6 Network Management. 

7 Serial Data. 

7.1 CAN/LIN Matrix. 

8 Diagnostic. 

8.1 Services. 

8.2 BSW Diagnostics (DIDs). 

8.3 BSW/ASW Diagnostics (IOC, RID). 

8.4 DTC List. 

9 Functional Safety, Homologation & Safety regulations, and Cyber security Requirements.

9.1 Functional Safety. 

9.2 Environmental reliability tests. 

9.3 EMI/EMC Standards. 

9.4 General Electric System Tests. 

9.5 Cyber-Security Standards. 

9.6 Thermal Standards. 

10 Further Applicable Documents.
Page 9
Table of Figures.

Figure 2-1 Variant Gaps.  
Figure 3-1 EDS.  
Figure 3-2 OBC.  
Figure 3-3 DCDC.  
Figure 3-4 PTC.  
Figure 3-5 VCU LIN Wake Up.  
Figure 3-6 eVCU State Diagram.  
Figure 3-7 PLC Sequence.  
Figure 5-1 Accelerator Pedal.  
Figure 5-2 Brake Pedal.  
Figure 5-3 Topology Diagram - Pedal Acquisition Function.  
Figure 5-4 Drive Mode Function.  
Figure 5-5 Gear Management.  
Figure 5-6 EPP Flow Diagram.  
Figure 5-7 Topology Diagram - Drive Mode Control.  
Figure 5-8 Topology Diagram - Gear Management.  
Figure 5-9 Topology Diagram - HV System Coordination.  
Figure 5-10 Topology Diagram - HV System Coordination.  
Figure 5-11 Torque Path Architecture.  
Figure 5-12 Sum Torque Determination.  
Figure 5-13 Torque Split Determination.  
Figure 5-14 Front-Rear IDB Intervention.  
Figure 5-15 Front IDB Limitation.  
Figure 5-16 Front / Rear Electric Motor.  
Figure 5-17 Rear EM-Arbitration.  
Figure 5-18 Topology Diagram - Torque Management.  
Figure 5-19 Charge Management.  
Figure 5-20 CCS System Interface.  
Figure 5-21 PLC Sequence.  
Figure 5-22 Topology Management - Charge Management.  
Figure 5-23 DCDC Control.  
Figure 5-24 Regenerative Braking.  
Figure 5-25 Coast Mode Request.  
Figure 5-26 Topology Diagram – Energy Management.  
Figure 5-27 High Voltage Interlock Monitoring (HVIL).  
Figure 5-28 Crash Handling.  
Figure 5-29 Topology Diagram - HV Safety.  
Figure 5-30 Thermal Management.  
Figure 5-31 Thermal Management System Control Diagram.  
Figure 5-32 Cabin & Battery Heating with eHTR.  
Figure 5-33 Cabin Heating with eHTR & Battery Cooling.  
Figure 5-34 Cabin A/C & Battery Cooling.  
Figure 5-35 Water Pumps Speed Determination.  
Figure 5-36 Old and New 3 Way Valve Position Determination.  
Figure 5-37 Fan Speed Determination.  
Figure 5-38 HVAC Compressor Speed Determination.  
Figure 5-39 E-Motor Active Heating Strategy.  
Figure 5-40 AGS Control.
Page 10
Table of Figures.

Figure 5-41 Topology Diagram - Thermal Management .................................................................. 133.
Figure 5-42 Creep Control ................................................................................................................ 149.
Figure 5-43 Topology Diagram - Creep Control ............................................................................... 151.
Figure 5-44 ADAS Handshake.......................................................................................................... 154.
Figure 5-45 ADAS Activation ............................................................................................................ 155.
Figure 5-46 ADASs Functional Architectures ................................................................................... 156.
Figure 5-47 ADAS VCU Interaction .................................................................................................. 157.
Figure 5-48 Topology Diagram - ADAS ............................................................................................ 159.
Figure 5-49 Immo Authentication ...................................................................................................... 165.
Figure 5-50 Immo - AES ................................................................................................................... 165.
Figure 5-51 VCU & BCM Check ....................................................................................................... 166.
Figure 5-52 Immo Status Sequence ................................................................................................. 167.
Figure 5-53 MHU View ...................................................................................................................... 172.
Figure 5-54 Drive Status View for MHU............................................................................................ 173.
Figure 5-55 HV Battery on MHU for charging and not scheduled..................................................... 173.
Figure 5-56 HV Battery on MHU for not charging and not scheduled.............................................. 173.
Figure 5-57 HV Battery on MHU for charging and not scheduled.................................................... 174.
Figure 5-58 HV Battery on MHU for charging and car locked .......................................................... 175.
Figure 5-59 EV Settings .................................................................................................................... 175.
Figure 5-60 Cruise Control on MHU ................................................................................................. 176.
Figure 5-61VCU - -MHU Scope ........................................................................................................ 177.
Figure 5-62 Topology Diagram - Driving Info and HMI..................................................................... 179.
Figure 5-63 Fault Diagnostics ............................................................................................................ 182.
Figure 5-64 Diagnostic Function ........................................................................................................ 183.
Figure 5-65 Topology Diagram - Smart Features ............................................................................. 185.
Page 11
1 General Document Guidelines.

1.1 Purpose.  
This document belongs to VFDSXXEEP5046 part number.  
This document consists of Vehicle Control Unit (VCU) working concept explanation with respect to the signals communicated with other ECUs at different conditions. Currently, this document is made by considering the scope of requirements and the overall architecture discussed with the customer. This document aims to explain VCU functional architecture in detail (not white box algorithms).

1.2 Language.  
This document is written in English.

1.3 Obligation of Requirement Wording.  
The following wording rules are used throughout this document.  

| No | Term       | Definition                                                                                   |
|----|------------|-----------------------------------------------------------------------------------------------|
| 1  | MAY        | Denotes a non-binding or “nice to have” requirement (truly optional).                        |
| 2  | SHALL NOT  | Denotes an absolute prohibition.                                                             |
| 3  | SHALL      | To denote a mandatory requirement except of legally binding requirements. Departure from such a requirement is not permissible without formal agreement. |
| 4  | MUST       | To denote legally binding requirements.                                                      |
| 5  | SHOULD     | Means that there may exist valid reasons in particular circumstances where the specified behavior is ignored. |

1.4 Abbreviations.

| Name | Definition                           |
|------|---------------------------------------|
| VCU  | Vehicle Control Unit                 |
| BCM  | Body Control Module                  |
| ESC  | Electronic Stability Control         |
| XGW  | Gateway Controller                   |
| PDU  | Power Distribution Unit              |
| EDS  | Motor Control Unit                   |
| CCU  | Climate Control Unit                 |
| EDS  | Electrical Distribution System       |
| ACC  | Adaptive Cruise Control              |
| MFS  | Multifunction Switches               |
| ISA  | Intelligent Speed Adaptation         |
| BMS  | Battery Management System            |
| LIN  | Local Interconnect Network           |
| CAN  | Controller Area Network              |
Page 12
# 1 General Document Guidelines

## 1.1 Purpose
This document belongs to VFDSXXEEP5046 part number.  
This document consists of Vehicle Control Unit (VCU) working concept explanation with respect to the signals communicated with other ECUs at different conditions. Currently, this document is made by considering the scope of requirements and the overall architecture discussed with the customer. This document aims to explain VCU functional architecture in detail (not white box algorithms).

## 1.2 Language
This document is written in English.

## 1.3 Obligation of Requirement Wording
The following wording rules are used throughout this document.

### Obligation Rules Table
| No | Term        | Definition                                                                                                                                     |
|----|-------------|-------------------------------------------------------------------------------------------------------------------------------------------------|
| 1  | **MAY**     | Denotes a non-binding or "nice to have" requirement (truly optional).                                                                           |
| 2  | **SHALL NOT** | Denotes an absolute prohibition.                                                                                                              |
| 3  | **SHALL**   | To denote a mandatory requirement except for legally binding requirements. Departure from such a requirement is not permissible without formal agreement. |
| 4  | **MUST**    | To denote legally binding requirements.                                                                                                        |
| 5  | **SHOULD**  | Means that there may exist valid reasons in particular circumstances where the specified behavior is ignored.                                   |

## 1.4 Abbreviations
| Name | Definition                               |
|------|-----------------------------------------|
| VCU  | Vehicle Control Unit                   |
| BCM  | Body Control Module                    |
| ESC  | Electronic Stability Control           |
| XGW  | Gateway Controller                     |
| PDU  | Power Distribution Unit                |
| EDS  | Motor Control Unit                     |
| CCU  | Climate Control Unit                   |
| EDS  | Electrical Distribution System         |
| ACC  | Adaptive Cruise Control                |
| MFS  | Multifunction Switches                 |
| ISA  | Intelligent Speed Adaptation           |
| BMS  | Battery Management System              |
| LIN  | Local Interconnect Network             |
| CAN  | Controller Area Network                |

---

### Additional Abbreviations (Continued)
| Name  | Definition                                         |
|-------|---------------------------------------------------|
| BMS   | Battery Control Unit                             |
| TCS   | Traction Control System                         |
| ABS   | Antilock Braking System                         |
| OBC   | On Board Charger                                |
| EAC   | Electric Air Conditioning Compressor            |
| HVAC  | Heating, Ventilation and Air Conditioning       |
| TXV   | Thermal Expansion Valve                         |
| OBD   | On Board Diagnostic                             |
| PTC   | Positive Temperature Coefficient               |
| GS    | Gear Shifter                                    |
| HMI   | Human Machine Interface                        |
| IPC   | Instrument Panel Cluster                        |
| EVSE  | Electric Vehicle Service Equipment             |
| SESAM | Secure Entrance and Start Authorization Module |
| ACM   | Airbag Control Module                          |
| SOV   | Solenoid Valve                                  |
| WCC   | Water Cooled Condenser                         |
| COMP  | Compressor                                      |
| LTR   | Low Temperature Radiator                       |
| eHTR  | Electronic Heater                               |
| POD   | 3-in-1 module: PDU + OBC + DCDC                |
| CRBS  | Cooperative Regenerative Braking System        |
| TBD   | To be done                                     |
Page 13
## 2 VFe35 Variant Gaps
Variant gaps for VFe35 are provided as follows:

### Features:
1. **EDS:**  
   - **PLUS:**  
     - US/CAN Premium/Plus: 2x150kW  
     - EU Premium/Plus: 2x150kW  
     - VN Premium/Plus: 2x150kW  
   - **ECO:**  
     - US/CAN Smart: 2x150kW (Limit by SW 2x130kW)  
     - EU Smart: 2x150kW  
     - VN Smart: 2x150kW  

2. **Charging Standard:**  
   - **PLUS:**  
     - CCS1  
   - **ECO:**  
     - CCS1  

3. **OBC:**  
   - **PLUS:**  
     - US/CAN Premium/Plus: AC 240V 1 phase, 11kW  
     - EU Premium/Plus: AC 380V 3 phases, 11kW  
     - VN Premium/Plus: AC 380V 3 phases, 11kW  
   - **ECO:**  
     - US/CAN Smart: AC 240V 1 phase, 11kW  
     - EU Smart: AC 380V 3 phases, 11kW  
     - VN Smart: AC 380V 3 phases, 11kW  

4. **HV Compressor:**  
   - Sanden Compressor with LIN communication  
   - Wake up by LIN wake-up signal (LIN 2.1)  
   - Wake up automatically when 12V power supplied. As wiring harness design, this EAC is sharing 12V relay with VCU, so it will wake up/sleep along with VCU.

5. **HV Heater, AGS, 3-way E-Valve, and AVAS:**  
   - Shall be applied for all variants.
Page 14
### 2 VFe35 Variant Gaps
Variant gaps for VFe35 are given as follows:

1. **EDS**:  
   - **PLUS Variant**: US/CAN Premium/Plus – 2x150kW, EU Premium/Plus – 2x150kW, VN Premium/Plus – 2x150kW.  
   - **ECO Variant**: US/CAN Smart – 2x150kW (Limit by SW 2x130kW), EU Smart – 2x150kW (Limit by SW 2x130kW), VN Smart – 2x150kW (Limit by SW 2x130kW).  

2. **Charging Standard**:  
   - **PLUS Variant**: US/CAN Premium/Plus – CCS1, EU Premium/Plus – CCS2, VN Premium/Plus – CCS2.  
   - **ECO Variant**: US/CAN Smart – CCS1, EU Smart – CCS2, VN Smart – CCS2.  

3. **OBC**:  
   - **PLUS Variant**: AC 380V 3 phases, 11kW.  
   - **ECO Variant**: AC 380V 3 phases, 11kW.  

4. **HV Compressor**:  
   - **PLUS Variant**: AutoCar Compressor, LIN communication, wake up automatically when 12V power supplied. With VCU it will wake up/sleep along with LIN communication and harness design.  
   - **ECO Variant**: Sanden Compressor, LIN communication, wake up automatically when 12V power supplied. With VCU, it will wake up/sleep along with LIN communication and harness design.  

5. **HV Heater, AGS, 3-way E-valve, and AVAS**:  
   - **Application**: Shall be applied for all variants.

---

### 3 Component Flow Charts
#### 3.1 EDS
The Electric Drive System (EDS) is represented by a detailed flow chart describing operational states:

1. **Initial**: System initializes on KL15 ON or CAN wake-up.  
   - If initialization is successful, it progresses to StandBy; otherwise, failure mode is triggered.

2. **StandBy**: EDS enters StandBy state, verifying conditions like voltage, status, and motor thresholds.  
   - Successfully moving forward transitions to Precharge; could also enter failure mode if conditions aren’t met.

3. **Precharge**: Ensures proper bus voltage ratio, cell thresholds, and EDS system power readiness.  
   - Upon successful establishment, transitions to HV Ready; else goes to failure mode.

4. **HV Ready**: Precharge is complete; motor thresholds evaluated, and full system readiness ensured.  
   - Operational state either leads to NORMAL mode or 6SO depending on conditions.

5. **NORMAL & 6SO**: Normal operational state or transitions to 6SO for specific operational demands.

6. **Discharge/Shutdown**: Active discharge, shutdown signals, and system stabilization. Progresses to After Run if successful.  
   - Failure mode initiates if discharge fails.

7. **After Run**: Ensures final data saving before Power Off.  
   - Triggered when KL15 is OFF and all thresholds are met.

8. **Power Off**: System completes shutdown sequence.

9. **Failure**: Any unresolvable error or failure results in a complete halt of operations.

**Figure 3-1 EDS** illustrates the detailed transitions associated with the above functional states.
Page 15
3 Component Flow Charts.

3.2 OBC.

The On-Board Charger (OBC) process flow consists of multiple states. The initial state begins with the OBC being enabled. The OBC enters the "Ready to Charge" state within a maximum of 2 seconds after activation. If the voltage and current requirements for charging are met (VCU_OBC_ChgVoltage_REQ > TBD V and VCU_OBC_ChgCurrent_REQ > TBD A), the OBC transitions to the "Charge" state. Conversely, the process moves to "Failure" if the system status is set at "OBC_SystemStatus = 6". Charging ceases when voltage and current values become zero (VCU_OBC_ChgVoltage_REQ = 0 V or VCU_OBC_ChgCurrent_REQ = 0 A). Upon fulfilling these conditions, the OBC enters its "POWER OFF" state.
Page 16
3 Component Flow Charts

3.1 EDS  
The flowchart represents the operational states of the Electrical Distribution System (EDS), including initialization, standby, precharge, HV ready, normal operation, and failure conditions. Specific triggers and system checks guide transitions between states.

3.2 OBC  
The flowchart outlines the operational states of the On-Board Charger (OBC). It begins with an initial state, transitions to "ready to charge," and then either proceeds to "charge" or a failure state based on voltage and current conditions. 

3.3 DCDC  
This flowchart shows the DCDC converter states, transitioning from "initial and standby" to either "start output" or "stop output" based on enable command conditions. System failures and power-off states are also represented.
Page 17
3 Component Flow Charts

3.4 PTC.

Figure 3-4 shows the state transitions for the Positive Temperature Coefficient (PTC) system. It begins at the "StartUp Check" state, which occurs when `HV_PTC_ON_REQ = 1`. Once conditions are met, the PTC moves to the "Ready" state. If `HV_PTC_Heating_Req > 0%`, the system transitions to the "Operating" state. In cases where `HV_PTC_Heating_Req = 0%`, the system returns to the "Ready" state. Failure conditions will lead directly to the "Failure" state. Once the system is powered off (`HV_PTC_ON_REQ = 0`), it reaches the "Power Off" state.

Figure 3-4 PTC.
Page 18
### 3 Component Flow Charts

#### 3.5 VCU LIN Wakeup.

The VCU LIN wakeup process begins with initialization, where the vehicle high voltage is switched on, and the compressor speed request is set to a specified rpm (CompSpdReq = xxx rpm). The initialization phase lasts up to a maximum of three seconds.

Following initialization, the system transitions to the operating phase, where it actively processes LIN messages. If a go-to-sleep command is received, or communication is lost for more than four seconds, the system moves to the standby phase.

In the standby phase, the VCU will transition to power off mode upon receiving LIN commands to shut down. Finally, the system enters the power-off state.

**Figure 3-5** illustrates the VCU LIN Wake Up process.
Page 19
3.6 eVCU State Diagram.

The eVCU State Diagram illustrates the transitions between different operational states of the electronic Vehicle Control Unit (eVCU). The diagram includes the following major states:

1. **Standby:**
   - Represents the initial state before activating any system components.

2. **Charge Power Up:**
   - Requests power from the battery.
   - Engages the DCDC system.
   - Activates the EDS.
   - Enters Charging Mode.

3. **Normal Power Up:**
   - Requests power from the battery and DCDC system.
   - Activates the EDS and HV systems.
   - Transition to Drive Ready Mode.

4. **PowerDown:**
   - Executes EDS checks and current monitoring.
   - Initiates battery and active discharge processes.
   - Completes HV Termination Mode before going into ECU Sleep.

Each block details associated conditions and the flow of enabling and disabling high-voltage components during different power states.

Figure 3-6 eVCU State Diagram explains the comprehensive control logic for managing the eVCU in various operational scenarios.
Page 20
3.6 eVCU State Diagram.

Figure 3-6 illustrates the state diagram of the eVCU, showing transitions between states such as "Standby," "Charge Power Up," and "Normal Power Up." During "Charge Power Up," requests are sent to the battery, DCDC, EDS, and OBC, leading to charging mode when the plug is inserted. In normal power up, the process includes requesting components such as the battery and EDS while switching to drive-ready mode after HV activation. The transition to "Power Down" is triggered by an EDS check, current check, active discharge, and HV termination mode, eventually leading to ECU sleep. The diagram comprehensively captures state management for charge, drive, and shutdown sequences.

3.7 PLC Sequence.

Figure 3-7 represents the PLC sequence, detailing flow paths for charging-related commands. Inputs include activation, voltage levels, and current requests, leading to state transitions such as charging enable and emergency shutdown. The sequence outlines key operational controls and safety mechanisms for seamless charging operations within the system.
Page 21
4 Process Flow Charts.

Following flow charts shall be included in "Habang_SwimlaneDiagrams_C_BEV_FRS4_v3.2.pdf."

4.1 HV On/Off.

4.1.1 Power Up.
- Power Up.

4.1.2 Power Down.
- Power Down on Emergency Shut Down.
- Power Down with VCU Staying On.
- Power Down on KL15 OFF or NM Sleep.
- Power Down-Wake up for Drive AC Charge.

4.1.3 Wake up for AC Charge.
- Wake up for AC Charging.

4.1.4 DC Charge.
- Wake up for DC Fast Charge.
Page 22
5 Functional Architecture Descriptions.

5.1 Pedal Acquisition Function.

5.1.1 Design Level Requirements.

5.1.1.1 Accelerator Pedal.  
The actual acceleration pedal percentage shall be calculated based on analog inputs of the acceleration pedal.

Figure 5-1 Accelerator Pedal.  
The figure illustrates the Accelerator Pedal Function, which includes the following stages:  
- Acceleration Sensor 1 [V].  
- Accelerator Pedal Input Function.  
- Accelerator Pedal Arbitration Function.  
- Accelerator Pedal Diagnostics.  
- Acceleration Pedal Percentage (%).

a. Accelerator Pedal Input Function.  
1. The Vehicle Control Unit (VCU) shall acquire the voltage information of accelerator pedal 1 and accelerator pedal 2.  
2. The raw accelerator percentage values of each acceleration sensor shall be calculated.

b. Accelerator Pedal Diagnostics Function.  
- The diagnostics of the acceleration pedal sensors shall be done.  
- The component error level state shall be calculated, and invalid inputs shall be detected.

c. Accelerator Pedal Arbitration Function.  
1. The resultant acceleration pedal percentage shall be calculated by taking the individual raw percentage acceleration values from the accelerator pedal input function.  
2. The actual percentage of the accelerator pedal shall be the minimum of the values from the individual accelerator pedal sensors.
Page 23
5 Functional Architecture Descriptions.

5.1 Pedal Acquisition Function.

5.1.1 Design Level Requirements.

5.1.1.1 Accelerator Pedal.  
The actual acceleration pedal percentage shall be calculated based on analog Inputs of acceleration pedal.  

Figure 5-1 Accelerator Pedal.  

a. Accelerator Pedal Input Function.  
1. The VCU shall acquire the voltage information of accelerator pedal 1 and accelerator pedal 2.  
2. The raw accelerator percentage values of each acceleration sensor shall be calculated.  

b. Accelerator Pedal Diagnostics Function.  
The diagnostics of the acceleration pedal sensors shall be done.  
The component error level state shall be calculated, and invalid Inputs shall be detected.  

c. Accelerator Pedal Arbitration Function.  
1. The resultant acceleration pedal percentage shall be calculated by taking the individual raw percentage acceleration values from the accelerator pedal Input function.  
2. The actual percentage of the accelerator pedal shall be the minimum of the values from the individual accelerator pedal sensors.  
3. The accelerator pedal signal shall be arbitrated (limited values, limited gradient/replacement values) in case of e.g., sensor errors.  

5.1.1.2 Brake Pedal.  
The actual brake pedal percentage and pressed status shall be calculated.  

Figure 5-2 Brake Pedal.  

a. Brake Pedal Input Function.  
The raw braking values from IDB shall be considered for brake pedal percentage and brake pedal status.  

b. Brake Pedal Diagnostics Function.  
The diagnostics of brake pedal functionality shall be done.  
The component error level state shall be calculated, and invalid inputs shall be detected.  

c. Brake Pedal Arbitration Function.  
1. The resultant brake pedal percentage and brake pedal applied status shall be calculated.  
2. If there is no hold and brake pedal is above a threshold, then the status shall be applied.  
3. The brake pedal position shall be equal to brake pedal position CAN signal.  
4. The brake pedal signal shall be arbitrated (limited values, limited gradient/replacement values).
Page 24
5 Functional Architecture Descriptions  
5.1 Pedal Acquisition Function  

5.1.1 Design Level Requirements  

5.1.1.1 Accelerator Pedal.  
The actual acceleration pedal percentage shall be calculated based on analog inputs of the acceleration pedal.  

**Figure 5-1 Accelerator Pedal:**  
a. Accelerator Pedal Input Function.  
1. The VCU shall acquire the voltage information of accelerator pedal 1 and accelerator pedal 2.  
2. The raw accelerator percentage values of each acceleration sensor shall be calculated.  

b. Accelerator Pedal Diagnostics Function.  
The diagnostics of the acceleration pedal sensors shall be done.  
The component error level state shall be calculated, and invalid inputs shall be detected.  

c. Accelerator Pedal Arbitration Function.  
1. The resultant acceleration pedal percentage shall be calculated by taking the individual raw percentage acceleration values from the accelerator pedal input function.  
2. The actual percentage of the accelerator pedal shall be the minimum of the values from the individual accelerator pedal sensors.  
3. The accelerator pedal signal shall be arbitrated (limited values, limited gradient/replacement values) in case of, e.g., sensor errors.  

5.1.1.2 Brake Pedal.  
The actual brake pedal percentage and pressed status shall be calculated.  

**Figure 5-2 Brake Pedal:**  
a. Brake Pedal Input Function.  
The raw braking values from IDB shall be considered for brake pedal percentage and brake pedal status.  

b. Brake Pedal Diagnostics Function.  
The diagnostics of brake pedal functionality shall be done.  
The component error level state shall be calculated, and invalid inputs shall be detected.  

c. Brake Pedal Arbitration Function.  
1. The resultant brake pedal percentage and brake pedal applied status shall be calculated.  
2. If there is no hold and the brake pedal is above a threshold, then the status shall be applied.  
3. The brake pedal position shall be equal to the brake pedal position CAN signal.  
4. The brake pedal signal shall be arbitrated (limited values, limited gradient/replacement values).  

### Pedal Acquisition Architecture  

The architecture includes the VCU acquiring the voltage information of both the accelerator and brake pedals. It calculates the percentage of each signal and determines diagnostics and arbitration for function control. Accelerator sensor 1 and 2 voltage data are processed in the VCU, while the IDB handles brake pedal position, status, and switch signals.
Page 25
5.1.2 Topology Diagram. 

Topology diagram of the pedal acquisition function is given below.

Figure 5-3 Topology Diagram - Pedal Acquisition Function.
Page 26
## 5.1.3 Signal I/O

### Name: PT_VCU_HV_DrvSys_status_VCU_ACPD_Percent  
**Description:** Alive counter rolling counter of the message. If it's over 14, it will swap back to 0 and increase again. Invalid Value = F.  
**I/O:** Output  
**Min:** 4  
**Max:** 11  
**Value Description:** n.a.  
**Sender:** VCU  
**Receiver:** IDB  

### Name: ALIV_VCU_HV_DRV_SYS_STATUS  
**Description:** Checksum calculation according to CAN Specification (ALGO SAE J 1850).  
**I/O:** Output  
**Min:** 0  
**Max:** 14  
**Value Description:** n.a.  
**Sender:** VCU  
**Receiver:** IDB  

### Name: VCU_ACPD_Percent  
**Description:** The signal contains the actual angle of the accelerator pedal. 100% pedal position shall only be provided in case of kickdown. Without kickdown, the maximum value shall be 99.  
**I/O:** Output  
**Min:** 0  
**Max:** 100  
**Value Description:** n.a.  
**Sender:** VCU  
**Receiver:** IDB, XGW  

### Name: CRC_VCU_HV_DrvSys_status  
**Description:** n.a.  
**I/O:** Output  
**Min:** 0  
**Max:** 255  
**Value Description:** n.a.  
**Sender:** VCU  
**Receiver:** IDB  

### Name: IDB_Brake_Pedal_position  
**Description:** Brake Pedal Position.  
**I/O:** Input  
**Min:** 0  
**Max:** 100  
**Value Description:** n.a.  
**Sender:** IDB  
**Receiver:** VCU  

### Name: IDB_Brake_Pedal_position_sts  
**Description:** Brake Pedal Applied Status.  
**I/O:** Input  
**Min:** n/a  
**Max:** n/a  
**Value Description:**  
- 0: Invalid  
- 1: Valid  
**Sender:** IDB  
**Receiver:** VCU  

### Name: BCM_STAT_BrakeSwitch  
**Description:** Brake Switch Signal.  
**I/O:** Input  
**Min:** 0  
**Max:** 3  
**Value Description:**  
- 3: "Signal invalid"  
- 2: "Reserved"  
- 1: "Brake Pressed"  
- 0: "Brake not pressed"  
**Sender:** XGW  
**Receiver:** VCU
Page 27
5.2 Driver Interpretation  

5.2.1 Design Level Requirements  

5.2.1.1 Drive Mode Control.  

Figure 5-4 depicts the Drive Mode Function.  

a. Drive Mode Input Function.  
Drive mode input signals shall be calculated as follows:  
1. If the drive mode change is triggered, the actual drive mode shall be set as the IPC/HMI interface input drive mode.  
2. If the drive mode change is not triggered, the actual drive mode shall be kept as the last value.  
3. If the VCU is turned off, the drive mode shall be memorized.  
4. If the VCU is turned on, the memory drive mode shall be set based on whether the IPC/HMI interface mode memory is configured by the driver.  

b. Drive Mode Determination Function.  
1. The drive mode shall be calculated based on mapping as follows and default "Comfort/Normal":  
   - Eco.  
   - Comfort/Normal.  
   - Sport.  
2. The maximum torque and maximum speed shall vary for Eco, Comfort/Normal, and Sport modes.  
   - Sport mode shall have the highest maximum pedal torque and speed.  
   - Eco mode shall have the slowest throttle response and selectable energy recovery level.  
   - Sport mode shall have the quickest response and selectable energy recovery level.  
   - The vehicles' throttle response shall be different based on the drive mode.  
VinFast Released.
Page 28
5.2 Driver Interpretation.

5.2.1 Design Level Requirements.

5.2.1.1 Drive Mode Control.

- Comfort/normal mode shall have medium throttle response and selectable energy recovery level.

Figure 5-4 Drive Mode Function.

a. Drive Mode Input Function.
1. If the drive mode change is triggered, the actual drive mode shall be set as the IPC/HMI interface input drive mode.
2. If the drive mode change is not triggered, the actual drive mode shall be kept as the last value.
3. If VCU is ignition off, the drive mode shall be memorized.
4. If VCU is ignition on, the memory drive mode shall be set based on if the IPC/HMI interface mode memory is set by driver.

b. Drive Mode Determination Function.
1. The drive mode shall be calculated based on mapping as follows with default “Comfort/Normal”:
   - Eco.
   - Comfort/Normal.
   - Sport.
2. The maximum torque and maximum speed are different for Eco, Comfort/Normal and Sport modes. Maximum pedal torque for sport mode shall be the biggest. The vehicles respond to the throttle shall be different:
   - Eco mode shall have the slowest response and selectable energy recovery level.
   - Sport mode shall have the quickest response and selectable energy recovery level.
   - Comfort/Normal mode shall have medium throttle response and selectable energy recovery level.

5.2.1.2 Gear Management.

The gear is composed of 4 states including P, R, N, D. VCU shall manage the states of gear shift as described in the following functions:

Figure 5-5 Gear Management Function.

a. Gear Mode Input Function.
1. The gear mode target state signal shall be converted by mapping based on the input signal with the default gear mode “P” and following states:
   - Sensor fault.
   - Gear P.
   - Gear R.
   - Gear N.
   - Gear D.
   - No target.
2. The gear mode fault signal shall be forwarded based on the input signal. VCU shall set the target gear input to the GS gear request after 0.7s from the previous GS gear request. VCU shall ignore the GS gear request if the period time of the request is less than 0.7sec.

b. Gear Mode Diagnostics Function.
1. The diagnostics of gear mode signals shall be done.
2. If the target gear error is confirmed, the target fault shall be set.
Page 29
5.2 Driver Interpretation.

5.2.1 Design Level Requirements.

5.2.1.1 Drive Mode Control.  
Drive mode input signals shall be calculated as follows:  
1. If the drive mode change is triggered, the actual drive mode shall be set as the IPC/HMI interface input drive mode.  
2. If the drive mode change is not triggered, the actual drive mode shall be kept as the last value.  
3. If VCU is ignition off, the drive mode shall be memorized.  
4. If VCU is ignition on, the memory drive mode shall be set based on if the IPC/HMI interface mode memory is set by driver.  

- The drive mode shall be calculated based on mapping as follows with default “Comfort/Normal”:  
  - Eco  
  - Comfort/Normal  
  - Sport  
- The maximum torque and maximum speed are different for Eco, Comfort/Normal, and Sport modes.  
- Maximum pedal torque for sport mode shall be the biggest. The vehicles respond to the throttle shall be different:  
  - Eco mode shall have the slowest response and selectable energy recovery level.  
  - Sport mode shall have the quickest response and selectable energy recovery level.  
  - Comfort/Normal mode shall have medium throttle response and selectable energy recovery level.  

5.2.1.2 Gear Management.  
The gear is composed of 4 states including P, R, N, D.  
VCU shall manage the states of gear shift as described in the following functions:  

a. Gear Mode Input Function.  
1. The gear mode target state signal shall be converted by mapping based on the input signal with the default gear mode “P” and following states:  
  - Sensor fault.  
  - Gear P.  
  - Gear R.  
  - Gear N.  
  - Gear D.  
  - No target.  

2. The gear mode fault signal shall be forwarded based on the input signal.  
VCU shall set the target gear input to the GS gear request after 0.7s from the previous GS gear request.  
VCU shall ignore the GS gear request if the period time of the request is less than 0.7sec.  

b. Gear Mode Diagnostics Function.  
1. The diagnostics of gear mode signals shall be done.  
2. If the target gear error is confirmed, the target fault shall be set.  

c. Gear Mode Determination Function.  
1. If the first-time high voltage main relay is closed, and VCU authentication result is passed and the gear mode is selected any of four modes (P, R, N, D), the gear mode target shall be set to corresponding status.  
2. If the first-time high voltage main relay is closed and VCU authentication result is not passed and the gear mode is selected any of two modes (P, N), the gear mode target shall be set to corresponding status, the selected gear mode R or D shall not be set.  
3. If the VCU drive ready inhibit request is not occurred and the gear mode is selected any of four modes (P, R, N, D), the gear mode target shall be set to corresponding status.  
4. If the VCU drive ready inhibit request is happened, the gear mode is selected any of two modes (P, N) and the gear mode target shall be set to corresponding status, the selected gear mode R or D shall not be set.  
5. After the gear mode target is set to any of four modes (P, R, N, D) and the actual gear is not synchronized with the gear mode target in calibration time (2s), the gear mode target shall be set to the actual gear.  
6. Otherwise, the gear mode target shall be set to the last value.  
The gear mode target output shall be converted by mapping based on the gear mode target signal.  
7. If the HV is off and EPP error state is normal, the gear mode is set to P. If the HV is off and EPP error state is error the gear mode is set to N.  
8. If Charge is active and EPP error state is normal, the gear mode is set to P. If the Charge is active and EPP error state is error the gear mode is set to N.  
9. If emergency shutdown is active the gear mode is set to N.  
10. If the gear mode target is P and EPP error state is error the gear mode is set to N.  
11. If the actual gear mode is P and EPP state is not locked/locking in calibratable time, the gear mode is set to N.  
12. If the actual gear mode is N, R, D and EPP state is not unlocked for calibratable time, the gear mode is set to P.  
13. If ADAS is active, VCU shall follow ADAS target gear request ADAS_VCU_GearReq.  
14. If ADAS state ADAS_VCU_State is 7 “failed” during ADAS_VCU_ControlReq set, VCU shall set the target gear to P.  
15. If ST_KL_KEY_VLD is 1 "Key invalid", VCU shall set the target gear to P.
Page 30
### Gear Management State Transitions

#### P State Transitions

**Condition:** VCU_ActualGear = ‘N’ to VCU_ActualGear = ‘P’  
**Signals:**  
- (EDS_EparkSts_FWD = “Lock” || GS_TargetGearRq = ‘P’ || Towing Mode OFF || EBPParkingStatus=1) &&  
- EDS_EPARK_ERR_FWD = “Normal”  

**Condition:** VCU_ActualGear = ‘R’ to VCU_ActualGear = ‘P’  
**Signals:**  
- (GS_TargetGearRq = ‘P’ || HV OFF || BCM_STAT_DoorAjarFL = “Opened” &&  
- ACM_Seat_Belt_Status_Driver = “Not buckled” && Brake released && AccPed released ||  
- VCU_AcChgGunIn = 1) && CarSpeed <= TBC kph &&  
- EDS_EPARK_ERR_FWD = “Normal” && ...  

**Condition:** VCU_ActualGear = ‘D’ to VCU_ActualGear = ‘P’  
**Signals:**  
- (GS_TargetGearRq = ‘P’ || HV OFF || BCM_STAT_DoorAjarFL = “Opened” &&  
- ACM_Seat_Belt_Status_Driver = “Not buckled” && Brake released && AccPed released ||  
- VCU_AcChgGunIn = 1) && CarSpeed <= TBC kph &&  
- EDS_EPARK_ERR_FWD = “Normal” && ...
Page 31
### 5.2 Driver Interpretation

#### 5.2.1 Design Level Requirements

##### 5.2.1.1 Drive Mode Control

**Figure 5-4 Drive Mode Function**

**a. Drive Mode Input Function**  
Drive mode input signals shall be calculated as follows:  
1. If the drive mode change is triggered, the actual drive mode shall be set as the IPC/HMI interface input drive mode.  
2. If the drive mode change is not triggered, the actual drive mode shall be kept as the last value.  
3. If VCU is ignition off, the drive mode shall be memorized.  
4. If VCU is ignition on, the memory drive mode shall be set based on if the IPC/HMI interface mode memory is set by driver.  

**b. Drive Mode Determination Function**  
1. The drive mode shall be calculated based on mapping as follows with default “Comfort/Normal”:  
   - Eco  
   - Comfort/Normal  
   - Sport  
2. The maximum torque and maximum speed are different for Eco, Comfort/Normal and Sport modes. Maximum pedal torque for sport mode shall be the biggest. The vehicles respond to the throttle shall be different:  
   - Eco mode shall have the slowest response and selectable energy recovery level.  
   - Sport mode shall have the quickest response and selectable energy recovery level.  
   - Comfort/Normal mode shall have medium throttle response and selectable energy recovery level.  

##### 5.2.1.2 Gear Management

The gear is composed of 4 states including P, R, N, D.  
VCU shall manage the states of gear shift as described in the following functions:  

**Figure 5-5 Gear Management**

**a. Gear Mode Input Function**  
1. The gear mode target state signal shall be converted by mapping based on the input signal with the default gear mode “P” and following states:  
   - Sensor fault.  
   - Gear P.  
   - Gear R.  
   - Gear N.  
   - Gear D.  
   - No target.  
2. The gear mode fault signal shall be forwarded based on the input signal.  
VCU shall set the target gear input to the GS gear request after 0.7s from the previous GS gear request.  
VCU shall ignore the GS gear request if the period time of the request is less than 0.7 seconds.  

**b. Gear Mode Diagnostics Function**  
1. The diagnostics of gear mode signals shall be done.  
2. If the target gear error is confirmed, the target fault shall be set.  

**c. Gear Mode Determination Function**  
1. If the first-time high voltage main relay is closed, and VCU authentication result is passed and the gear mode is selected in any of four modes (P, R, N, D), the gear mode target shall be set to the corresponding status.  
2. If the first-time high voltage main relay is closed and VCU authentication result is not passed and the gear mode is selected in any of two modes (P, N), the gear mode target shall be set to the corresponding status, the selected gear mode R or D shall not be set.  
3. If the VCU drive-ready inhibit request does not occur and the gear mode is selected in any of four modes (P, R, N, D), the gear mode target shall be set to the corresponding status.  
4. If the VCU drive-ready inhibit request occurs, the gear mode is selected in any of two modes (P, N) and the gear mode target shall be set to the corresponding status, the selected gear mode R or D shall not be set.  
5. After the gear mode target is set to any of four modes (P, R, N, D) and the actual gear is not synchronized with the gear mode target in calibration time (2s), the gear mode target shall be set to the actual gear.  
6. Otherwise, the gear mode target shall be set to the last value. The gear mode target output shall be converted by mapping based on the gear mode target signal.  
7. If the HV is off and EPP error state is normal, the gear mode is set to P. If the HV is off and EPP error state is error, the gear mode is set to N.  
8. If Charge is active and EPP error state is normal, the gear mode is set to P. If the Charge is active and EPP error state is error, the gear mode is set to N.  
9. If emergency shutdown is active, the gear mode is set to N.  
10. If the gear mode target is P and EPP error state is error, the gear mode is set to N.  
11. If the actual gear mode is P and EPP state is not locked/locking within calibratable time, the gear mode is set to N.  
12. If the actual gear mode is N, R, D and EPP state is not unlocked for calibratable time, the gear mode is set to P.  
13. If ADAS is active, VCU shall follow ADAS target gear request ADAS_VCU_GearReq.  
14. If ADAS state ADAS_VCU_State is “failed” during ADAS_VCU_ControlReq set, VCU shall set the target gear to P.  
15. If ST_KL_KEY_VLD is “Key invalid,” VCU shall set the target gear to P.  

##### 5.2.1.3 Gear Management State Transitions

**d. Gear Management State Transitions**

**i. P state transitions**  

- **Condition:** VCU_ActualGear = 'N' to VCU_ActualGear = 'P'  
  **Signals:** EDS_EParkSts_FWD = “Lock” || GS_TargetGearRq = ‘P’ || Towing Mode OFF || EBPParkingStatus=1 && EDS_EPARK_ERR_FWD = “Normal”  

- **Condition:** VCU_ActualGear = 'R' to VCU_ActualGear = 'P'  
  **Signals:** GS_TargetGearRq = 'P' || HV OFF || BCM_STAT_DoorAjarFL = “Opened” && ACM_Seat_Belt_Status_Driver = “Not buckled” && Brake released && AccPed released || VCU_AcChgGunIn = 1 && CarSpeed ≤ TBC kph && EDS_EPARK_ERR_FWD = “Normal”  

- **Condition:** VCU_ActualGear = 'D' to VCU_ActualGear = 'P'  
  **Signals:** GS_TargetGearRq = 'P' || HV OFF || BCM_STAT_DoorAjarFL = “Opened” && ACM_Seat_Belt_Status_Driver = “Not buckled” && Brake released && AccPed released || VCU_AcChgGunIn = 1 && CarSpeed ≤ TBC kph && EDS_EPARK_ERR_FWD = “Normal”  

**ii. N state transitions**  

- **Condition:** VCU_ActualGear = 'P' to VCU_ActualGear = 'N'  
  **Signals:** No EDS_EParkSts_FWD = “Lock” after timeout of TBC ms || EDS_EPARK_ERR_FWD = “Error” || GS_TargetGearRq = ‘N’ || Towing Mode ON  

- **Condition:** VCU_ActualGear = 'R' to VCU_ActualGear = 'N'  
  **Signals:** GS_TargetGearRq = ‘N’ && … || Emergency Shutdown || (GS_TargetGearRq = ‘P’ || HV OFF || BCM_STAT_DoorAjarFL = “Opened” && ACM_Seat_Belt_Status_Driver = “Not buckled” && Brake released && AccPed released || VCU_AcChgGunIn = 1) && EDS_EPARK_ERR_FWD = “Error”  

- **Condition:** VCU_ActualGear = 'D' to VCU_ActualGear = 'N'  
  **Signals:** GS_TargetGearRq = ‘N’ && … || Emergency Shutdown || (GS_TargetGearRq = ‘P’ || HV OFF || BCM_STAT_DoorAjarFL = “Opened” && ACM_Seat_Belt_Status_Driver = “Not buckled” && Brake released && AccPed released || VCU_AcChgGunIn = 1) && EDS_EPARK_ERR_FWD = “Error”
Page 32
### Vehicle Control Unit  
### VinFast Management System  

#### Version: 1.0  
#### Page Status: 32 of 208  

---

### iii. R State Transitions  

#### **Condition: VCU_ActualGear = ‘D’ to VCU_ActualGear = ‘R’**  
**Signals:**  
- GS_TargetGearRq = ‘R’  
- CarSpeed <= TBC  
- Brake Pressed  
- HV ON  

---

#### **Condition: VCU_ActualGear = ‘N’ to VCU_ActualGear = ‘R’**  
**Signals:**  
- GS_TargetGearRq = ‘R’  
- CarSpeed <= TBC  
- Brake Pressed  
- HV ON  
- Cond2 = 0  

---

#### **Condition: VCU_ActualGear = ‘P’ to VCU_ActualGear = ‘R’**  
**Signals:**  
- GS_TargetGearRq = ‘R’  
- CarSpeed <= TBC kph  
- Brake Pressed  
- HV ON  
- Cond2 = 0
Page 33
### 4. D State Transitions

1. **Condition:** `VCU_ActualGear = 'P' to VCU_ActualGear = 'D'`  
   **Signals:**  
   - `GS_TargetGearRq = 'D'`  
   - `CarSpeed <= TBC`  
   - `Brake Pressed && HV ON`  
   - `Cond2 = 0 && ...`
   
2. **Condition:** `VCU_ActualGear = 'R' to VCU_ActualGear = 'D'`  
   **Signals:**  
   - `GS_TargetGearRq = 'D'`  
   - `CarSpeed < TBC`  
   - `Brake Pressed && HV ON && ...`
   
3. **Condition:** `VCU_ActualGear = 'N' to VCU_ActualGear = 'D'`  
   **Signals:**  
   - `GS_TargetGearRq = 'D'`  
   - `CarSpeed <= TBC`  
   - `Brake Pressed && HV ON`  
   - `Cond2 = 0 && ...`
Page 34
e. EPP.

EPP control diagram shall be given as below.

Figure 5-6 EPP Flow Diagram.

The diagram illustrates the flow logic for EPP control:
- If the VCU actual gear equals 'P':
   - The command `VCU_EDS_EPP_cmd_FWD` is set to 'Lock.'
   - The function ends.
- If the VCU actual gear is not 'P':
   - The command `VCU_EDS_EPP_cmd_FWD` is set to 'Unlock.'
   - The function ends.
Page 35
5.2.2 Topology Diagram.

5.2.2.1 Drive Mode Control Topology.

The VCU shall have a drive mode control function. The topology diagram is given as follows:

**Figure 5-7 Topology Diagram - Drive Mode Control**

This diagram illustrates the connectivity between the Vehicle Control Unit (VCU) and other components. The VCU communicates with the XGW, which is further linked to the Human Machine Interface (HMI) and Body Control Module (BCM).
Page 36
5.2.2 Topology Diagram

5.2.2.2 Gear Management Topology.

The VCU shall manage the states of gear shift. The topology diagram is given as follows:

Figure 5-8 Topology Diagram - Gear Management.
Page 37
5.2.3 Signal I/O

5.2.3.1 Drive Mode Control Signal I/O

- **VCU_ACT_DriveMode**: The drive mode of the vehicle.  
  - **I/O**: Output  
  - **Min**: 0  
  - **Max**: 7  
  - **Value Description**:  
    - 7 = "Invalid"  
    - 6 = "Reserved"  
    - 5 = "Reserved"  
    - 4 = "Reserved"  
    - 3 = "Reserved"  
    - 2 = "Sport mode"  
    - 1 = "ECO mode"  
    - 0 = "Normal mode"  
  - **Sender**: VCU  
  - **Receiver**: XGW_PT_BEV, IDB_PT
Page 38
5.2.3 Signal I/O

5.2.3.2 Gear Management Signal I/O

- **VCU_HVsystem_status:** 
  - Description: The HV state of Vehicle.
  - I/O: Output.
  - Min: 0.
  - Max: 7.
  - Value Description: 0 "Not ready", 1 "HV On", 2 "ReadyToDrive", 3 "Charging", 4 "Error", 5 "Reserved", 6 "Reserved", 7 "Reserved".
  - Sender: VCU.
  - Receiver: XGW.

- **VCU_ACTGear:** 
  - Description: Gear position (except manual transmission).
  - I/O: Output.
  - Min: 0.
  - Max: 7.
  - Value Description: 7 "Fault", 6 "Reserved", 5 "Reserved", 4 "Reserved", 3 "D", 2 "N", 1 "R", 0 "P".
  - Sender: VCU.
  - Receiver: ESC-XGW.

- **VCU_ACTGearValid:** 
  - Description: Gear position status.
  - I/O: Output.
  - Min: 0.
  - Max: 1.
  - Value Description: 1 "Invalid", 0 "Valid".
  - Sender: VCU.
  - Receiver: ESC-XGW.

- **EDS_EPARK_ERR_FWD:** 
  - Description: E-Park error.
  - I/O: Input.
  - Min: 0.
  - Max: 1.
  - Value Description: 1 "Error", 0 "Normal".
  - Sender: EDS_F.
  - Receiver: VCU.

- **EDS_EPARK_STS_FWD:** 
  - Description: E-Park status.
  - I/O: Input.
  - Min: 0.
  - Max: 3.
  - Value Description: 3 "Locking", 2 "Lock", 1 "Unlocking", 0 "Unlock".
  - Sender: EDS_F.
  - Receiver: VCU.

- **EDS_EPARK_ERR_RWD:** 
  - Description: E-Park error.
  - I/O: Input.
  - Min: 0.
  - Max: 1.
  - Value Description: 1 "Error", 0 "Normal".
  - Sender: EDS_R.
  - Receiver: VCU.

- **EDS_EPARK_STS_RWD:** 
  - Description: E-Park status.
  - I/O: Input.
  - Min: 0.
  - Max: 3.
  - Value Description: 3 "Locking", 2 "Lock", 1 "Unlocking", 0 "Unlock".
  - Sender: EDS_R.
  - Receiver: VCU.

- **EDS_Spd_FR:** 
  - Description: The motor speed.
  - I/O: Input.
  - Min: -20000.
  - Max: 20000.
  - Value Description: Range from -20000 to 20000.
  - Sender: EDS_F.
  - Receiver: VCU.

- **EDS_SpdValid_FR:** 
  - Description: Indicate the valid flag of current front motor speed.
  - I/O: Input.
  - Min: 0.
  - Max: 1.
  - Value Description: 1 "Valid", 0 "Invalid".
  - Sender: EDS_F.
  - Receiver: VCU.

- **EDS_Spd_RR:** 
  - Description: The motor speed.
  - I/O: Input.
  - Min: -20000.
  - Max: 20000.
  - Value Description: Range from -20000 to 20000.
  - Sender: EDS_R.
  - Receiver: VCU.

- **EDS_SpdValid_RR:** 
  - Description: Indicate the valid flag of current rear motor speed.
  - I/O: Input.
  - Min: 0.
  - Max: 1.
  - Value Description: 1 "Valid", 0 "Invalid".
  - Sender: EDS_F.
  - Receiver: VCU.

- **GS_TargetGearReq:** 
  - Description: Target gear request.
  - I/O: Input.
  - Min: 0.
  - Max: 7.
  - Value Description: 7 "Fault", 6 "Reserved", 5 "Reserved", 4 "Reserved", 3 "D", 2 "N", 1 "R", 0 "P".
  - Sender: GS.
  - Receiver: VCU.
Page 39
5.3 High Voltage System Coordination.

5.3.1 Design Level Requirements.

5.3.1.1 Power Up Process.
VCU shall wake up and shall go to "Initialization" state if KL15 is on.

Initial Condition:
KL15 wake up.

Results:
VCU shall pass “Initialization state”.

When the initialization is complete, VCU shall go from "Initialization" to "Standby" state.

HV Activation Mode.

Trigger condition:
- BMS_Sys_STS = Self Check passes, can be HV.
- BMS_HVOnOff_STS = 0 (HV off).
- EDS_Work_STS_FR = 2 (Standby).
- EDS_Work_STS_RR = 2 (Standby).
- POD_statusDCDC = 0 (OFF).
- GS_TargetGearReq = P or N.
- If one of the following conditions is met; (OR Gate):
  - STAT_Terminal_BEV = 2 (ON).
  - LV Battery Charging Requested By BCM.
  - BMS_HeatPwrDemand > 0.
  - BMS_CoolPwrDemand > 0.
  - CCU_EcompOnOffRequest = 1 (On).
  - CCU_HtrOnOffRequest = 1 (On).

Results:
If all the conditions are met, VCU shall go from “Standby” to “HV Activation Mode”.
Page 40
Driving Mode.

**Trigger condition:**
- BMS_HVOnOff_STS = 1 (HV Precharge).
- BMS_HVOnOff_STS = 2 (HV On).
- BMS_Sys_STS = Successful High Voltage Power Up.
- POD_statusDCDC = 1 (DCDC ON).
- POD_statusHVIL = 1 (EMS_HVIL_OK).
- EDS_Work_STS_FR = 5 (HV Ready).
- EDS_Work_STS_RR = 5 (HV Ready).
- GS_VCU_Current_Gear = R or D.

**Results:**
If all the conditions are met, VCU shall go from "HV Activation Mode" to "Driving Mode".

HV Activation Mode.

**Trigger condition:**
- EDS_EPARK_STA_FWD = 0 (EPP Unlock).
- EDS_Work_STS_FR = 4 (Normal).
- EDS_Work_STS_RR = 4 (Normal).
- GS_TargetGearReq = P or N.

**Results:**
If all the conditions are met, VCU shall go from "Driving Mode" to "HV Activation Mode".

Driving Mode.

**Trigger condition:**
- EDS_Work_STS_FR = 5 (HV Ready).
- EDS_Work_STS_RR = 5 (HV Ready).
- EDS_EPARK_STA_FWD = 2 (EPP Lock).
- GS_TargetGearReq = D or R.
- EDS_FailGrade_ERR_FWD = 4 or EDS_FailGrade_ERR_RWD = 4.
- Error Level 4 on 1 or both of EDS.
- IGBTStatus Checking on Failed EDS:
  - EDS_IGBTStatus_FWD.
  - EDS_IGBTStatus_RWD.

    *If IGBTStatus = ASCon 1 of the EDS:*
    - Then No Driving Mode Allowed And Gear stayed at P or N And Stay in HV activation mode.

    *If Error Level 4 on 1 of EDS AND No ASC on any EDS:*
    - Then Driving Mode upon EDS Error Level & IGBT Status.

- EDS_EPARK_STA_FWD = 0 (EPP Unlock).

**Results:**
If all the conditions are met, VCU shall go from "HV Activation Mode" to "Driving Mode".
Page 41
5.3 High Voltage System Coordination

5.3.1 Design Level Requirements.

5.3.1.2 Power Down on Emergency Shutdown.
VCU shall detect an Emergency Shut Down or a Crash Signal from PWM or ACM, or crash status is detected (or ACM_Crash_Sts = 1). VCU shall receive EDS_FailGrade_ERR_FWD = 5, or EDS_FailGrade_ERR_RWD = 5 signals. After this, VCU shall go to HV Termination Mode from Driving Mode.

### HV Activation Mode.
**Trigger Condition:**
- POD_statusDCDC = 0 (DCDC OFF).
- BMS_Sys_STS = 4 (Powerdown Process).
- BMS_HVOnOff_STS = 0 (HV Off).
- BMS_Sys_STS = 3 (Successful Power Down Of HV).
- EDS_Work_STS_FR = 11 (Shutdown).
- EDS_Work_STS_RR = 11 (Shutdown).
- BMS_Sys_STS = 5 (Successful Power Down).
- EDS_Work_STS_FR = 2 (Standby).
- EDS_Work_STS_RR = 2 (Standby).
- EDS_Work_STS_FR = 5 (Failure).
- EDS_Work_STS_RR = 5 (Failure).

**Results:**
If all the conditions are met, VCU shall go from "HV Termination Mode" to "HV Activation Mode."

5.3.1.3 VCU Staying ON.
### HV Termination Mode.
**Trigger Condition:**
1. All the following conditions are met (AND Gate):
   - STAT_Terminal_BEV = 0 or 1 (OFF or ACC).
   - LV Battery Not Charging Requested By BCM.
   - BMS_HeatPwrDemand = 0.
   - BMS_CoolPwrDemand = 0.
   - CCU_EcompOnOffRequest = 0 (OFF).
   - CCU_HtrOnOffRequest = 0 (OFF).
2. One of the conditions is met (OR Gate):
   - EDS_FailGrade_ERR_FWD = 5 (Error).
   - EDS_FailGrade_ERR_RWD = 5 (Error).
   - ACM_Crash_Sts = 1 (Crash detected).
   - Emergency SD Or Crash Signal From PWM.

**Results:**
If condition 1 and condition 2 above are satisfied, VCU shall go from "HV Activation Mode" to "HV Termination Mode."
Page 42
5.3 High Voltage System Coordination.

5.3.1 Design Level Requirements.

5.3.1.4 Power Down on KL15 Off or NM Sleep.

VCU shall go from “HV Activation Mode” to “HV Termination Mode” if the KL15 is off and STAT_Terminal_BEV = 0 or 1 (OFF or ACC) signal is received.

**HV Activation Mode.**

- **Trigger condition:**
  - POD_statusDCDC = 0 (DCDC OFF).
  - BMS_Sys_STS = 4 (Powerdown Process).
  - BMS_HVOnOff_STS = 0 (HV Off).
  - BMS_Sys_STS = 3 (Successful Power Down Of HV).
  - EDS_Work_STS_FR = 11 (Shutdown).
  - EDS_Work_STS_RR = 11 (Shutdown).
  - BMS_Sys_STS = 5 (Successful Powerdown).
  - EDS_Work_STS_FR = 12 (Afterrun).
  - EDS_Work_STS_RR = 12 (Afterrun).

- **Results:**
  - If all the conditions are met, VCU shall go from “HV Termination Mode” to “Standby IG Off Mode”.
Page 43
**5.3.1.5 Wake up for Drive – AC Charge Power Down**

VCU shall wake up if the KL15 ON / NM Wake-Up. VCU shall go Initialization to Standby Mode.

**HV Activation Mode**

Trigger condition:
- BMS_Sys_STS = Self Check passes, can be HV
- BMS_HVOnOff_STS = 0 (HV off)
- EDS_Work_STS_FR = 3 (Precharge)
- EDS_Work_STS_RR = 3 (Precharge)
- GS_TargetGearReq = P or N
- POD_statusDCDC = 0 (OFF)
- POD_statusOBC = 0 (OFF)

VCU will stay in this mode until HV activation or plug is connected. If one of the conditions is met (OR gate):
- STAT_Terminal_BEV = 2 (ON)
- LV Battery Charging Requested by BCM
- BMS_HeatPwrDemand > 0
- BMS_CoolPwrDemand > 0
- CCU_EcompOnOffRequest = 1 (On)
- CCU_HtrOnOffRequest = 1 (On)

Results:  
If all the conditions are met, VCU shall go from “Standby” to “HV Activation Mode.”

**Driving Mode**

Trigger condition:
- BMS_HVOnOff_STS = 1 (HV Precharge)
- BMS_HVOnOff_STS = 2 (HV On)
- BMS_Sys_STS = Successful High Voltage Power Up
- POD_statusDCDC = 1 (DCDC ON)
- POD_statusHVIL = 1 (EMS_HVIL_OK)
- EDS_Work_STS_FR = 5 (HV Ready)
- EDS_Work_STS_RR = 5 (HV Ready)
- GS_TargetGearReq = R or D

VCU will stay in this mode until gear is R / D or plug is connected.

Results:  
If all the conditions are met, VCU shall go from “HV Activation Mode” to “Driving Mode.”
Page 44
5.3.1.5 Wake up for Drive – AC Charge Power Down

VCU shall wake up if the KL15 ON / NM Wake-Up. VCU shall go Initialization to Standby Mode.

**HV Activation Mode**

- **Trigger condition:**
  - BMS_Sys_STS = Self Check passes, can be HV
  - BMS_HVOnOff_STS = 0 (HV off)
  - EDS_Work_STS_FR = 3 (Precharge)
  - EDS_Work_STS_RR = 3 (Precharge)
  - GS_TargetGearReq = P or N
  - POD_statusDCDC = 0 (OFF)
  - POD_statusOBC = 0 (OFF)

  VCU will stay in this mode until HV activation or Plug is connected. If one of the conditions is met (OR Gate):
  - STAT_Terminal_BEV = 2 (ON)
  - LV Battery Charging Requested By BCM
  - BMS_HeatPwrDemand > 0
  - BMS_CoolPwrDemand > 0
  - CCU_EcompOnOffRequest = 1 (On)
  - CCU_HtrOnOffRequest = 1 (On)

- **Results:**  
  If all the conditions are met, VCU shall go from "Standby" to "HV Activation Mode."

**Driving Mode**

- **Trigger condition:**
  - BMS_HVOnOff_STS = 1 (HV Precharge)
  - BMS_HVOnOff_STS = 2 (HV On)
  - BMS_Sys_STS = Successful High Voltage Power Up
  - POD_statusDCDC = 1 (DCDC ON)
  - POD_statusHVIL = 1 (EMS_HVIL_OK)
  - EDS_Work_STS_FR = 5 (HV Ready)
  - EDS_Work_STS_RR = 5 (HV Ready)

  VCU will stay in this mode until Gear is R / D or Plug is connected.
  - GS_TargetGearReq = R or D

- **Results:**  
  If all the conditions are met, VCU shall go from "HV Activation Mode" to "Driving Mode."

5.3.1.6 HV Activation Mode and Charging Mode

**HV Activation Mode**

- **Trigger condition:**
  - VCU_EDS_StsModeReq_FWD = 4 (Normal)
  - VCU_EDS_StsModeReq_RWD = 4 (Normal)
  - EDS_Work_STS_FR = 4 (Normal)
  - EDS_Work_STS_RR = 4 (Normal)
  - GS_TargetGearReq = P or N

- **Results:**  
  If all the conditions are met, VCU shall go from "Driving Mode" to "HV Activation Mode."

**Charging Mode**

- **Trigger condition:**
  - EDS_Work_STS_FR = 5 (HV Ready)
  - EDS_Work_STS_RR = 5 (HV Ready)

  VCU will stay in this mode until Gear is R / D or Plug is connected.
  - GS_TargetGearReq = P
  - EDS_EPARK_STA_FWD = 2 (EPP Lock)
  - MHU_ChgPort_Open_req = 1 (ON)

  Unlock Charge Port Flap Lock.

- **Initial Condition:**  
  Plug Connected

- **Results:**  
  If all the conditions are met, VCU shall go from "HV Activation Mode" to "Charging Mode."
Page 45
### 5.3.1.5 Wake up for Drive – AC Charge Power Down

VCU shall wake up if KL15 is ON or NM Wake-Up. VCU shall go from “Initialization” state to “Standby” mode.

#### HV Activation Mode  
**Trigger Condition:**  
- BMS_Sys_STS = Self Check passes, can be HV  
- BMS_HVOnOff_STS = 0 (HV off)  
- EDS_Work_STS_FR = 3 (Precharge)  
- EDS_Work_STS_RR = 3 (Precharge)  
- GS_TargetGearReq = P or N  
- POD_statusDCDC = 0 (OFF)  
- POD_statusOBC = 0 (OFF).  

VCU will stay in this mode until HV activation or Plug is connected.  

If one of the conditions is met (OR gate):  
- STAT_Terminal_BEV = 2 (ON)  
- LV Battery Charging Requested By BCM  
- BMS_HeatPwrDemand > 0  
- BMS_CoolPwrDemand > 0  
- CCU_EcompOnOffRequest = 1 (On)  
- CCU_HtrOnOffRequest = 1 (On).  

**Results:**  
If all conditions are met, the VCU shall go from “Standby” to “HV Activation Mode”.

---

#### Driving Mode  
**Trigger Condition:**  
- BMS_HVOnOff_STS = 1 (HV Precharge)  
- BMS_HVOnOff_STS = 2 (HV On)  
- BMS_Sys_STS = Successful High Voltage Power Up  
- POD_statusDCDC = 1 (DCDC ON)  
- POD_statusHVIL = 1 (EMS_HVIL_OK)  
- EDS_Work_STS_FR = 5 (HV Ready)  
- EDS_Work_STS_RR = 5 (HV Ready)  
- GS_TargetGearReq = R or D.  

VCU will stay in this mode until Gear is R / D or Plug is connected.  

**Results:**  
If all conditions are met, the VCU shall go from “HV Activation Mode” to “Driving Mode”.
Page 46
5.3.1.6 Wake Up AC Charging.

VCU shall wake up if the KL15 ON / NM Wake-Up. VCU shall go Initialization to Standby Mode.

**HV Activation Mode**  

**Trigger condition:**  
- BMS_Sys_STS = Self Check passes, can be HV.  
- BMS_HVOnOff_STS = 0 (HV off).  
- EDS_Work_STS_FR = 2 (Standby).  
- EDS_Work_STS_RR = 2 (Standby).  
- GS_TargetGearReq = P or N.  
- POD_statusDCDC = TBD (Standby).  
- POD_statusDCDC = TBD (Standby).  

VCU will stay in this mode until HV activation or Plug is connected.  
- GS_TargetGearReq = P.  
- VCU_EPARKCMD_FWD = 1 (EPP Lock).  
- EDS_EPARK_STA_FWD = 2 (EPP Lock).  
- MHU_ChgPort_Open_req = 1 (ON).  

**Initial Condition:**  
- Plug Connected.  

**Results:**  
- If all the conditions are met, VCU shall go from “Standby” to “HV Activation Mode”.

---

**Charging Mode**

**Trigger condition:**  
- BMS_HVOnOff_STS = 1 (HV Precharge).  
- BMS_HVOnOff_STS = 2 (HV On).  
- BMS_HVOnOff_STS = 2 (HV On).  
- POD_statusDCDC = 1 (DCDC ON).  
- POD_statusHVIL = 1 (EMS_HVIL_OK).  
- EDS_Work_STS_FR = 5 (HV Ready).  
- EDS_Work_STS_RR = 5 (HV Ready).  

**Results:**  
- If all the conditions are met, VCU shall go from “HV Activation Mode” to “Charging Mode”.
Page 47
## HV Activation Mode

### Trigger Condition:
- Control Pilot PWM Value: 9.5% < PWM < 96.5%
- S2 relay locked.
- **Parameters:**
  - BMS_ChgCurrent_REQ = XX A
  - BMS_ChgVoltage_Req = XX V
  - POD_iACInput = YY A
  - POD_vACInput = YY V
- Max charge current calculated using CP PWM duty cycle and OBC AC signals.
- POD_statusOBC = 1 (Normal Charging).
- BMS_RemainChargeTime = XX min.
- **Behavior:**
  VCU will stay in this mode until the battery is full or user ends the request:
    1. [BMS_SOCActual_Est > TBD OR BMS_PackVol_MEAS > TBD V]
    2. BMS_PackCur_MEAS > TBD A OR MHU_Charging_Stop_req = 1 (ON).
    3. BMS_RemainChargeTime = 0.
- **Transition:**
  - BMS_ChgCurrent_REQ = 0 A.
  - BMS_ChgVoltage_REQ = 0 V.
  - POD_statusOBC = 0 (OFF).
  - S2 relay opened.

### Results:
If all the conditions are met, VCU shall go from “Charging Mode” to “HV Activation Mode”.

---

## HV Termination Mode

### Trigger Condition:
VCU will stay in this mode until:
- Gear is R / D, or
- Gun unplugged, or
- HV OFF, or
- KL15 is OFF, or
- NM Sleep.

#### AND Gate Conditions:
1. STAT_Terminal_BEV = 0 or 1 (OFF or ACC).
2. LV Battery not charging requested by BCM.
3. BMS_HeatPwrDemand = 0.
4. BMS_CoolPwrDemand = 0.

#### OR Gate Conditions:
1. MHU_VCU_HVOff_req = 1 (HV OFF request).

### Results:
If all the conditions are met, VCU shall go from “HV Activation Mode” to “HV Termination Mode”.
Page 48
### 5.3.1.7 DC Charging
VCU shall wake up if the KL15 ON / NM Wake-Up. VCU shall go from Initialization to Standby Mode.

#### HV Activation Mode
**Trigger condition:**
- BMS_Sys_STS = Self Check passes, can be HV.
- BMS_HVOnOff_STS = 0 (HV off).
- EDS_Work_STS_FR = 3 (Precharge).
- EDS_Work_STS_RR = 3 (Precharge).
- GS_TargetGearReq = P or N.
- POD_statusDCDC = 0 (OFF).
- VCU will stay in this mode until HV activation or Plug is connected.
- GS_TargetGearReq = P.
- VCU_EPARKCMD_FWD = 1 (EPP Lock).
- EDS_EPARK_STA_FWD = 2 (EPP Lock).
- MHU_ChgPort_Open_req = 1 (ON).

**Initial condition:**
Plug Connected.

**Results:**
If all the conditions are met, VCU shall go from “Standby” to “HV Activation Mode.”
Page 49
Charging Mode.

**Trigger condition:**
- BMS_HVOnOff_STS = 1 (HV Precharge).
- BMS_HVOnOff_STS = 2 (HV On).
- BMS_Sys_STS = Successful High Voltage Power Up.
- POD_statusDCDC = 1 (DCDC ON).
- POD_statusHVIL = 1 (EMS_HVIL_OK).
- EDS_Work_STS_FR = 3 (Standby).
- EDS_Work_STS_RR = 3 (Standby).

**Results:**
If all the conditions are met, VCU shall go from "HV Activation Mode" to "Charging Mode”.

HV Termination Mode.

**Trigger condition:**
- BMS_VCU_Insulation_Mon_Sts = 0 (Insulation Monitor OFF).
- PLC Communication Handshake & Exchange parameters.
  - S2 relay Locked.
  - Status to Ready with Cable Check Response after successful isolation check.
- POD_StatusFCContactors = 2 (FC_CONTACTORS_CLOSED).
- BMS_ChgCurrent_REQ = XX A.
- BMS_ChgVoltage_Req = XX V.
  - Max Ch current calculated using PLC and BMS Signals.
  - Ready for energy transfer Feedback.
  - Current/Voltage adjustment.
- BMS_RemainChargeTime = XX min.
  - VCU will stay until Battery is full or user end request:
     - [BMS_SOCActual_Est > TBD OR
       BMS_PackVol_MEAS > TBD V OR
       BMS_PackCur_MEAS > TBD A OR
       MHU_Charging_Stop_req = 1 (ON) OR
       BMS_RemainChargeTime = 0].
  - BMS_ChgCurrent_REQ = 0 A.
  - BMS_ChgVoltage_REQ = 0 V.
  - POD_StatusFCContactors = 0 (FC_CONTACTORS_OPEN).
    - S2 relay Opened.
    - BMS_VCU_Insulation_Mon_Sts = 1 (Insulation Monitor ON).

**Results:**
If all the conditions are met, VCU shall go from "Charging Mode" to "HV Termination Mode”.
Page 50
Vehicle Control Unit  
Vinfast Management System  

VFDSXXEEP5046  

Version: 1.0  
Print date  
Uncontrolled copy when printed  
Status 50 of 208  

### HV Activation Mode

- **Trigger condition:**  
  - `POD_statusDCDC = 0 (DCDC OFF)`  
  - `BMS_Sys_STS = 4 (Powerdown Process)`  
  - `BMS_HVOnOff_STS = 0 (HV Off)`  
  - `BMS_Sys_STS = 3 (Successful Power Down Of HV)`  
  - `EDS_Work_STS_FR = 11 (Shutdown)`  
  - `EDS_Work_STS_RR = 11 (Shutdown)`  
  - `BMS_Sys_STS = 5 (Successful Powerdown)`  
  - `EDS_Work_STS_FR = 2 (Standby)`  
  - `EDS_Work_STS_RR = 2 (Standby)`  

- **Results:**  
  If all the conditions are met, VCU shall go from "HV Termination Mode" to "HV Activation Mode".

---

### Standby IG Off Mode

VCU will stay in this mode until Unplug Gun or HV ON or KL15 is OFF or NM Sleep.

- **Initial Condition:**  
  - Gun Unplugged  
  - `KL15 OFF / NM Sleep`  

- **Trigger Condition:**  
  - `EDS_Work_STS_FR = 12 (Afterrun)`  
  - `EDS_Work_STS_RR = 12 (Afterrun)`  

- **Results:**  
  If all the conditions are met, VCU shall go from "HV Activation Mode" to "Standby IG Off Mode".
Page 51
5.3.2 Topology Diagram.

5.3.2.1 Power Up and Power Down Process.

The VCU shall support power up and power down process. The topology diagram is given as follows:

Figure 5-9 Topology Diagram - HV System Coordination.

This figure illustrates the coordination between the VCU, XGW, BMS, DCDC, GearShift, and the EDS_R and EDS_F systems, connected through the CAN BUS network.
Page 52
5.3.2 Topology Diagram.

5.3.2.2 Power Up to AC Charge and Wakeup for AC Charge Process.
The VCU shall support power up to AC Charge and Wakeup for AC Charge process. The topology diagram is given as follows:

Figure 5-10 shows the Topology Diagram for HV System Coordination, illustrating the connections between the VCU, EVSE, MCU_F, XGW, MCU_R, DCDC, GearShift, OBC, and BMS through the CAN BUS.
Page 53
5.3.3 Signal I/O  
5.3.3.1 Power Up and Power Down Process.  
The following details provide information on signal input and output parameters during the power-up and power-down process:  

**VCU_HVsystem_status:**  
- Description: Vehicle High Voltage Ready State.  
- I/O: Output.  
- Min: 0.  
- Max: 7.  
- Value Description:  
  - 0 "Not ready".  
  - 1 "HV On".  
  - 2 "ReadyToDrive".  
  - 3 "Charging".  
  - 4 "Error".  
  - 5 "Reserved".  
  - 6 "Reserved".  
  - 7 "Reserved".  
- Sender: VCU.  
- Receiver: XGW.  

**VCU_enableDCDC:**  
- Description: DCDC enable command.  
- I/O: Output.  
- Min: 0.  
- Max: 255.  
- Value Description:  
  - 170 "Start".  
  - 85 "Stop".  
- Sender: VCU.  
- Receiver: DCDC.  

**VCU_EDS_StsModeReq_FWD:**  
- Description: EDS Status Request.  
- I/O: Output.  
- Min: 0.  
- Max: 15.  
- Value Description:  
  - 0 "default".  
  - 1 "init".  
  - 2 "standby".  
  - 3 "precharge".  
  - 4 "normal".  
  - 5 "HVReady".  
  - 11 "shutdown".  
  - 12 "after run".  
  - 13 "Failure".  
  - 14 "power off".  
  - 15 "invalid".  
- Sender: VCU.  
- Receiver: EDS_F.  

**VCU_EDS_StsModeReq_RWD:**  
- Description: EDS Status Request.  
- I/O: Output.  
- Min: 0.  
- Max: 15.  
- Value Description:  
  - 0 "default".  
  - 1 "init".  
  - 2 "standby".  
  - 3 "precharge".  
  - 4 "normal".  
  - 5 "HVReady".  
  - 11 "shutdown".  
  - 12 "after run".  
  - 13 "Failure".  
  - 14 "power off".  
  - 15 "invalid".  
- Sender: VCU.  
- Receiver: EDS_R.  

**EDS_Work_STS_FR:**  
- Description: EDS Work Status.  
- I/O: Input.  
- Sender: EDS_F.  
- Receiver: VCU.
Page 54
5.3.3 Signal I/O  
5.3.3.1 Power Up and Power Down Process  

### Table of Signals  

#### Signal 1: EDS_Work_STS_RR  
- **Name:** EDS_Work_STS_RR  
- **Description:** EDS Work Status.  
- **I/O:** Input.  
- **Sender:** EDS_R.  
- **Receiver:** VCU.  

---

#### Signal 2: POD_statusDCDC  
- **Name:** POD_statusDCDC.  
- **Description:** DCDC Operating mode, DCDC working state.  
- **I/O:** Input.  
- **Min:** 0.  
- **Max:** 7.  
- **Value Description:**  
  - 0: DCDC_OFF.  
  - 1: DCDC_STANDBY.  
  - 2: DCDC_ON.  
  - 3: DCDC_RESERVED.  
  - 4: DCDC_DEGRADED.  
  - 5: DCDC_FAULT_SHUTDOWN.  
  - 6: DCDC_EMERGENCY_SHUTDOWN.  
  - 7: DCDC_STS_SNA.  
- **Sender:** DCDC.  
- **Receiver:** VCU.  

---

#### Signal 3: BMS_HVOnOff_STS  
- **Name:** BMS_HVOnOff_STS.  
- **Description:** BMS High Voltage Status. Fail to HV on.  
- **I/O:** Output.  
- **Min:** 0.  
- **Max:** 3.  
- **Value Description:**  
  - 3: Fail to HV on.  
  - 2: HV On.  
  - 1: Precharge.  
  - 0: HV Off.  
- **Sender:** BMS.  
- **Receiver:** VCU.  

---

#### Signal 4: VCU_BMS_HVOnOff_REQ  
- **Name:** VCU_BMS_HVOnOff_REQ.  
- **Description:** BMS decides whether to close or disconnect the primary and negative relays by judging this command.  
- **I/O:** Input.  
- **Min:** 0.  
- **Max:** 1.  
- **Value Description:**  
  - 1: Allow.  
  - 0: Forbid.  
- **Sender:** VCU.  
- **Receiver:** BMS.
Page 55
5.3.3 Signal I/O

5.3.3.1 Power Up and Power Down Process.

- **Name:** BMS_Sys_STS  
  **Description:** BMS_Status (Self-test after BMS wake-up).  
  **I/O:** Input.  
  **Min:** 0.  
  **Max:** 15.  
  **Value Description:**  
    - 8: "Invalid".  
    - 6: "BMS Sleep mode".  
    - 5: "Successful Power Down".  
    - 7: "Failure, unable to operate".  
    - 4: "Power Down process".  
    - 3: "Successful Power Down of HV".  
    - 2: "Successful High Voltage Power Up".  
    - 1: "Self-check passes, can be high-voltage".  
    - 0: "Initialization of power on, self-checking".  
  **Sender:** BMS.  
  **Receiver:** VCU.
Page 56
### 5.3.3.2 Power Up to AC Charge and Wakeup for AC Charge Process

#### Signal I/O Table:

1. **VCU_HVsystem_status**  
   - Description: Vehicle High voltage Ready State  
   - I/O: Output  
   - Min: 0  
   - Max: 7  
   - Value Description:  
     - 0 = "Not ready"  
     - 1 = "HV On"  
     - 2 = "ReadyToDrive"  
     - 3 = "Charging"  
     - 4 = "Error"  
     - 5 = "Reserved"  
     - 6 = "Reserved"  
     - 7 = "Reserved"  
   - Sender: VCU  
   - Receiver: XGW  

2. **VCU_enableDCDC**  
   - Description: DCDC enable command  
   - I/O: Output  
   - Min: 0  
   - Max: 255  
   - Value Description:  
     - 170 = "Start"  
     - 85 = "Stop"  
   - Sender: VCU  
   - Receiver: DCDC  

3. **VCU_EDS_StsModeReq_FWD**  
   - Description: EDS Status Request  
   - I/O: Output  
   - Min: 0  
   - Max: 15  
   - Value Description:  
     - 15 = "Invalid"  
     - 14 = "Power off"  
     - 13 = "Failure"  
     - 12 = "After run"  
     - 11 = "Shut down"  
     - 5 = "HVReady"  
     - 4 = "Normal"  
     - 3 = "Precharge"  
     - 2 = "Standby"  
     - 1 = "Init"  
     - 0 = "Default"  
   - Sender: VCU  
   - Receiver: EDS_F  

4. **VCU_EDS_StsModeReq_RWD**  
   - Description: EDS Status Request  
   - I/O: Output  
   - Min: 0  
   - Max: 15  
   - Value Description:  
     - 15 = "Invalid"  
     - 14 = "Power off"  
     - 13 = "Failure"  
     - 12 = "After run"  
     - 11 = "Shut down"  
     - 5 = "HVReady"  
     - 4 = "Normal"  
     - 3 = "Precharge"  
     - 2 = "Standby"  
     - 1 = "Init"  
     - 0 = "Default"  
   - Sender: VCU  
   - Receiver: EDS_R  

5. **EDS_Work_STS_FR**  
   - Description: EDS Work Status  
   - I/O: Input  
   - Sender: EDS_F  
   - Receiver: VCU  

6. **EDS_Work_STS_RR**  
   - Description: EDS Work Status  
   - I/O: Input  
   - Sender: EDS_R  
   - Receiver: VCU
Page 57
5.3.3.2 Power Up to AC Charge and Wakeup for AC Charge Process

### Name: POD_statusDCDC  
**Description:** DCDC Operating mode, DCDC working state  
**I/O:** Input  
**Min:** 0  
**Max:** 7  
**Value Description:**  
- 0: "DCDC_OFF"  
- 1: "DCDC_STANDBY"  
- 2: "DCDC_ON"  
- 3: "DCDC_RESERVED"  
- 4: "DCDC_DEGRADED"  
- 5: "DCDC_FAULT_SHUTDOWN"  
- 6: "DCDC_EMERGENCY_SHUTDOWN"  
- 7: "DCDC_STS_SNA"  
**Sender:** DCDC  
**Receiver:** VCU  

### Name: BMS_HVOnOff_STS  
**Description:** BMS High Voltage Status - Fail to HV on  
**I/O:** Output  
**Min:** 0  
**Max:** 3  
**Value Description:**  
- 3: "Fail to HV on"  
- 2: "HV On"  
- 1: "Precharge"  
- 0: "HV Off"  
**Sender:** BMS  
**Receiver:** VCU  

### Name: VCU_BMS_HVOnOff_REQ  
**Description:** BMS decides whether to close or disconnect the primary and negative relays by judging this command  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:**  
- 1: "allow"  
- 0: "forbid"  
**Sender:** VCU  
**Receiver:** BMS
Page 58
## 5.3.3.2 Power Up to AC Charge and Wakeup for AC Charge Process

### Table of Signals
| Name                      | Description                            | I/O    | Min        | Max       | Value Description                                                                        | Sender | Receiver       |
|---------------------------|----------------------------------------|--------|------------|-----------|----------------------------------------------------------------------------------------|--------|----------------|
| BMS_Sys_STS              | BMS_Status (Self-test after BMS wake-up) | Input  | 0          | 15        | 8 "Invalid", 6 "BMS Sleep Mode", 5 "Successful Power Down", 7 "Failure, Unable to Operate", 4 "Power Down Process", 3 "Successful Power Down of HV", 2 "Successful High Voltage Power Up", 1 "Self-check passes, Can be high-voltage", 0 "Initialization of Power On, Self-checking" | BMS    | VCU            |
| BMS_ChgVoltage_REQ       | OnBoard Charge Voltage                | Input  | 0          | 800       | n.a.                                                                                  | BMS    | VCU            |
| BMS_ChgCurrent_REQ       | OnBoard Charge Current                | Input  | 0          | 1500      | n.a.                                                                                  | BMS    | VCU            |
| BMS_RemainChargeTime     | Remain Charge Time sent to other ECU (XGW – IPC/HMI) | Input  | 0          | 16383     | 1023 "Invalid"                                                                        | BMS    | VCU            |
| BMS_SocActual_EST        | Actual SOC                            | Input  | n.a.       | n.a.      | n.a.                                                                                  | BMS    | VCU            |
| BMS_PackCur_MEAS         | Battery Pack Total Current            | Input  | -3276.8    | 3276.8    | n.a.                                                                                  | XGW    | VCU, POD       |
| BMS_HVPackVol_MEAS       | Battery Pack Total Voltage            | Input  | 0          | 800       | n.a.                                                                                  | BMS    | VCU            |
Page 59
### POD_statusOBC
The POD_statusOBC signal indicates the operational status of the Onboard Charger (OBC) system. It is an input signal with a range of values from 0 to 15:
- 0: "Init"
- 1: "Standby"
- 2: "Constant current charging"
- 3: "Constant voltage charging"
- 4: "Charging completed"
- 5: "Sleep"
- 6: "Failure"  
The sender is the OBC system, and the receiver is the Vehicle Control Unit (VCU).

### POD_iACInput
The POD_iACInput signal represents the AC input current. It is an input signal with a minimum value of 0 and a maximum value of 6553.5. The sender is the OBC system, and the receiver is the Vehicle Control Unit (VCU). The value description is marked as "n.a.".

### POD_vACInput
The POD_vACInput signal represents the AC input voltage. It is an input signal with a minimum value of 0 and a maximum value of 6553.5. The sender is the OBC system, and the receiver is the Vehicle Control Unit (VCU). The value description is marked as "n.a.".
Page 60
5.4 Torque Management.

5.4.1 Design Level Requirements.
General torque path functional architecture shall be given as below:

Figure 5-11 Torque Path Architecture.

Figure 5-11 illustrates the Torque Path Architecture, which includes the following components:
- Sum Torque Request Determination.
- Torque Split Determination.
- Rear ESC Intervention linked with Rear EM Torque Request.
- Front ESC Intervention linked with Front EM Torque Request.

5.4.1.1 Sum Torque Determination.

Figure 5-12 Sum Torque Determination.

Figure 5-12 provides a detailed layout for Sum Torque Determination, encompassing multiple input and output interactions, such as:
- Accelerator and brake pedal inputs triggering pedal map torque or creep torque requests.
- Torque enable state impacts both Resultant Torque Calculation and Driver Torque Filter outputs.
- External torque requests from ADAS ACC/CC feeding into Torque Manager State.
- Additional outputs include:
  - Actual Wheel Torque and Rear Axle Wheel Torque Percentage.
  - Regen Brake Calculation influencing Regeneration Activation.
  - CRBS Torque Requests for Front and Rear wheels.
  - Filtered torque requests ensuring proper torque limitation and coordination during operation.
Page 61
5.4 Torque Management.

5.4.1 Design Level Requirements. 
General torque path functional architecture shall be given as below.

Figure 5-11 Torque Path Architecture.
The diagram outlines the flow of torque management starting from Sum Torque Request Determination to Torque Split Determination, Rear ESC Intervention, Rear EM Torque Request, Front ESC Intervention, and Front EM Torque Request. This architecture illustrates how torque management components interact for both rear and front torque processing.

5.4.1.1 Sum Torque Determination.
Figure 5-12 Sum Torque Determination.
This diagram demonstrates the detailed process flow of torque determination. It involves components such as Pedal Map Torque Request, Creep Torque Request, External Torque Request, and Resultant Torque Calculation. It further elaborates on how torque values are calculated and filtered using various inputs including wheel torque percentages, regen brake calculation, and torque manager state.

a. Pedal Map Request.
1. Based on driving mode, the resultant propulsion torque request by acceleration pedal position shall be calculated.
2. If electronic park brake is engaged, based on the acceleration pedal position, pedal map shall be recalculated.
3. The torque shall be limited by coasting torque limitation maps.
4. If the brake pedal is pressed, the calculated pedal map torque request shall decrease based on brake pedal percentage.
5. Last drive mode is stored in non-volatile memory; therefore, during key-on, the last drive mode will be activated.

b. Creep Torque Request.
1. The driver creep torque request shall be calculated and filtered as follows:
   - If there is a hold by ESC, the creep torque shall be zero.
   - If the brake pedal is pressed, creep speed setpoint shall be reduced based on the brake pedal position.
   - Otherwise, based on vehicle speed, steering, and gear status, the creep torque shall be calculated.

c. External Torque Request.
1. All external sum torque requests, not directly requested by the driver, shall be determined.
2. Sign shall be applied on the external sum torque request based on the actual gear.
3. Sum torque requests shall be arbitrated (active/inactive).
4. Sum torque requests shall be gradient-limited.
   - External torque requests include ADAS, Creep, ACC/CC, and ESC.

d. Resultant Torque Calculation.
1. The resultant torque request at the vehicle level shall be calculated based on pedal, creep, cruise, and IDB intervention torque requests.
2. Driver and external sum torque requests shall be arbitrated.

e. Resultant Torque Limitation.
1. Minimum and maximum torque limits shall be calculated. The torque limits shall be compared to the values of the torque limit tables for motor overspeed protection. When WD mode changes, the limit shall follow the change.
2. Torque limitation shall be obtained from different tables fed by the vehicle ground speed.
3. Minimum torque limits shall be estimated using tables fed by the vehicle ground speed.
4. Slow torque request limitations shall be implemented through dynamic limits.

f. Actual Wheel Torque.
The actual propulsion torque at the wheels shall be calculated based on the current torque manager mode and e-motor torque.

g. Torque Manager State.
It shall be determined by a torque state machine if the torque shall be enabled or disabled. The state machine has the following states:
   - Not Active.
Page 62
### 5.4 Torque Management

#### 5.4.1 Design Level Requirements
General torque path functional architecture shall be given as below:

**Figure 5-11 Torque Path Architecture**  
The diagram depicts a functional overview of the torque path interactions, including Sum Torque Request Determination, Torque Split Determination, Rear ESC Intervention, and Front ESC Intervention.

---

#### 5.4.1.1 Sum Torque Determination

**Figure 5-12 Sum Torque Determination**  
The diagram illustrates the process of sum torque request determination using inputs such as accelerator pedal, brake pedal, vehicle speed, driving mode, gear information, creep torque request, external torque request, and torque manager state. These inputs result in the filtered sum torque requests at the wheels.

---

#### Additional Torque Determination Processes

**a. Pedal Map Request**  
1. Based on driving mode, the resultant propulsion torque request by acceleration pedal position shall be calculated.  
2. If the electronic park brake is engaged, the pedal map shall be recalculated based on the acceleration pedal position.  
3. The torque shall be limited by coasting torque limitation maps.  
4. If the brake pedal is pressed, the calculated pedal map torque request shall decrease with brake pedal percentage.  
Last drive mode is stored in non-volatile memory; thus, during key-on, the last drive mode will be activated.

**b. Creep Torque Request**  
1. The driver creep torque request shall be calculated and filtered as follows:  
   - If ESC holds the vehicle, the creep torque shall be zero.  
   - When the brake pedal is pressed, creep speed setpoint shall be reduced based on brake pedal position.  
   - Otherwise, creep torque is calculated based on vehicle speed, steering, and gear status.  

**c. External Torque Request**  
1. All external sum torque requests that are not directly requested by the driver shall be determined.  
2. External sum torque requests shall be signed based on the actual gear.  
3. External sum torque requests shall be arbitrated (active/inactive).  
4. Gradient limits shall be applied to external sum torque requests.  
External torque requests include ADAS, Creep, ACC/CC, and ESC.  

**d. Resultant Torque Calculation**  
1. The vehicle-level resultant torque request shall be calculated based on pedal, creep, cruise, and IDB intervention torque requests.  
2. Driver and external sum torque requests shall be arbitrated.  

**e. Resultant Torque Limitation**  
1. Minimum and maximum torque limits shall be calculated and compared to motor overspeed protection values. Torque limits adapt as WD mode changes.  
2. Torque limits shall be derived from vehicle ground speed tables.  
3. Tables fed by vehicle ground speed estimate minimum torque limits.  
4. Dynamic limits apply to slow torque request limitations.  

**f. Actual Wheel Torque**  
The propulsion torque at the wheels shall be calculated based on current torque manager mode and e-motor torque.

**g. Torque Manager State**  
The torque state machine determines whether torque shall be enabled or disabled. States include:  
- Not Active  
- E-Drive  

- **E-Drive State:** If HV, LV, and driver conditions are ready, the machine transitions from Not Active to E-Drive. Otherwise, it remains in Not Active.

**h. Driver Torque Filter**  
1. Resulting sum torque requests shall undergo filtering and gradient limitations.  
2. Individual filters shall be applied for each mode and external requests, e.g., for ACC.  

Regen brake calculation details are located in the Energy Management section.

---

#### 5.4.1.2 Torque Split Determination

**Figure 5-13 Torque Split Determination**  
The diagram illustrates how torque requests are split between axles based on filtered sum torque, ESP intervention paths, and regenerative braking activation.

---

**a. ESP Intervention Path**  
1. Determination on slipping/non-slipping axle shall be based on ESP TCS intervention.  
2. Torque shall be shifted towards the non-slipping axle.

**b. Torque Split ESP Intervention Adjustment**  
1. ESP adjustment becomes available when vehicle speed is within hysteresis limits.  
2. ESP adjustment activates during ESP intervention if conditions are met.
Page 63
**Vehicle Control Unit**  
VinFast Management System  

**5.4 Torque Management**  

**5.4.1 Design Level Requirements**  
General torque path functional architecture shall be given as below:  

**Figure 5-11 Torque Path Architecture**  

**5.4.1.1 Sum Torque Determination**  

**Figure 5-12 Sum Torque Determination**  

**a. Pedal Map Request**  
1. Based on driving mode, the resultant propulsion torque request by acceleration pedal position shall be calculated.  
2. If electronic park brake is engaged, based on the acceleration pedal position, pedal map shall be recalculated.  
3. The torque shall be limited by coasting torque limitation maps.  
4. If the brake pedal is pressed, the calculated pedal map torque request shall decrease based on brake pedal percentage.  
Last drive mode is stored in non-volatile memory, therefore during key-on, last drive mode will be activated.  

**b. Creep Torque Request**  
1. The driver creep torque request shall be calculated and filtered as in following:  
   - If there is a hold by ESC, the creep torque shall be zero.  
   - If brake pedal is pressed, creep speed setpoint shall be reduced based on the brake pedal position.  
   - Otherwise, based on vehicle speed, steering and gear status, the creep torque shall be calculated.  

**c. External Torque Request**  
1. All external sum torque requests, which are not directly requested by the driver, shall be determined.  
2. Sign shall be applied on the external sum torque request based on the actual gear.  
3. Sum torque requests shall be arbitrated (active/inactive).  
4. Sum torque requests shall be gradient-limited.  
External torque requests are ADAS, Creep, ACC/CC and ESC.  

**d. Resultant Torque Calculation**  
1. The resultant torque request in vehicle level shall be calculated based on pedal, creep, cruise, and IDB intervention torque requests.  
2. Driver and external sum torque requests shall be arbitrated.  

**e. Resultant Torque Limitation**  
1. Minimum and maximum torque limits shall be calculated. The torque limits shall be compared to the values of the torque limit tables for motor overspeed protection. When WD mode changes, the limit shall follow the change.  
2. Torque limitation shall be obtained from different tables fed by the vehicle ground speed.  
3. The minimum torque limits shall be estimated by tables fed by the vehicle ground speed.  
4. The slow torque request limitation shall be done by dynamic limits.  

**f. Actual Wheel Torque**  
The actual propulsion torque at the wheels shall be calculated based on current torque manager mode and e-motor torque.  

**g. Torque Manager State**  
It shall be determined by a torque state machine if the torque shall be enabled or disabled.  
State machine has the following states:  
- Not Active  

**- E-Drive**  
If the HV, LV, and driver are ready, the state machine transits from the default state (Not Active) to E-Drive.  
If the mentioned conditions are not met, the state machine shall stay at Not Active.  

**h. Driver Torque Filter**  
1. Filter and gradient limitation on the resulting sum torque request shall be done.  
2. There shall be individual filters for each mode and external requests, e.g., ACC shall be selected.  
Regen brake calculation shall be explained in the Energy Management section.  

**5.4.1.2 Torque Split Determination**  

**Figure 5-13 Torque Split Determination**  

**a. ESP Intervention Path**  
1. Determination on slipping/non-slipping axle based on ESP TCS intervention shall be done.  
2. Torque shall be shifted towards the non-slipping axle.  

**b. Torque Split ESP Intervention Adjustment**  
1. The ESP adjustment shall be available if all the following conditions are met:  
   - Vehicle speed is within calibratable hysteresis limits.  
2. The ESP adjustment shall be active when ESP intervention happens during ESP adjustment availability.  
3. If ESP adjustment is not available, the torque split ESP intervention adjustment offset shall be set to a default value.  
4. If front or rear axle intervention is active, the ESP intervention adjustment offset shall be set to a calibratable 1D table over actual torque split respectively.  

**c. Torque Split Regen Adjustment**  
Torque split strategy for Regen brake torque shall be determined based on regen brake torque request and vehicle speed. Recuperation adjustment active bit shall be calculated for power distribution availability calculation. Front and Rear regen torque values shall be taken directly from IDB.  

**d. Torque Split Strategy**  
Torque split strategy for normal driving (absolute torque request for acceleration) shall be determined based on raw driver torque request, vehicle speed, drive mode, and wheel drive mode.  

**e. Torque Split Cornering Adjustment**  
1. Cornering situations shall be determined based on steering wheel angle/vehicle speed and ESP lateral acceleration.  
2. Target torque split shall be done for cornering situations.  

**f. Torque Split Manager**  
1. Target/offset torque split requests and their priorities shall be arbitrated.  
2. Enable/disable torque split adjustments shall be done according to drive mode and wheel drive mode.  
3. Prioritization for each mode adjustment shall be as follows:  
   1. Regen adjustment  
   2. ESP intervention  
   3. Cornering  
   4. Default optimal mappings  

**g. Torque Limit Front EM**  
1. The maximum front axle EM peak and continuous torques shall be converted to maximum front axle wheel peak and continuous torques.  
2. The set and reset conditions shall be applied for inhibition of peak power.  
3. There shall be an arbitration between peak and continuous torque through ramp function.  

**h. Torque Limit Rear EM**  
1. The maximum rear axle EM peak and continuous torques shall be converted to maximum rear axle wheel peak and continuous torques.  
2. The set and reset conditions shall be applied for inhibition of peak power.  
3. There shall be an arbitration between peak and continuous torque through ramp function.  

**i. Torque Split Peak Power Adjustment**  
1. The filtered wheel torque shall be split into desired front and rear torques based on the rear axle target split value calculated from the torque split manager.
Page 64
Vehicle Control Unit Version 1.0.

5.4 Torque Management.

5.4.1 Design Level Requirements.

General torque path functional architecture shall be given as below:  
**Figure 5-11 Torque Path Architecture**.  

5.4.1.1 Sum Torque Determination.  
**Figure 5-12 Sum Torque Determination**.  

a. Pedal Map Request.  
1. Based on driving mode, the resultant propulsion torque request by acceleration pedal position shall be calculated.  
2. If electronic park brake is engaged, based on the acceleration pedal position, pedal map shall be recalculated.  
3. The torque shall be limited by coasting torque limitation maps.  
4. If the brake pedal is pressed, the calculated pedal map torque request shall decrease based on brake pedal percentage.  
Last drive mode is stored in non-volatile memory, therefore during key-on, last drive mode will be activated.  

b. Creep Torque Request.  
1. The driver creep torque request shall be calculated and filtered as follows:  
   - If there is a hold by ESC, the creep torque shall be zero.  
   - If brake pedal is pressed, creep speed setpoint shall be reduced based on the brake pedal position.  
   - Otherwise, based on vehicle speed, steering, and gear status, the creep torque shall be calculated.  

c. External Torque Request.  
1. All external sum torque requests, which are not directly requested by the driver, shall be determined.  
2. The sign shall be applied on the external sum torque request based on the actual gear.  
3. Sum torque requests shall be arbitrated (active/inactive).  
4. Sum torque requests shall be gradient-limited.  
External torque requests are ADAS, Creep, ACC/CC, and ESC.  

d. Resultant Torque Calculation.  
1. The resultant torque request in vehicle level shall be calculated based on pedal, creep, cruise, and IDB intervention torque requests.  
2. Driver and external sum torque requests shall be arbitrated.  

e. Resultant Torque Limitation.  
1. Minimum and maximum torque limits shall be calculated. The torque limits shall be compared to the values of the torque limit tables for motor overspeed protection.  
   - When WD mode changes, the limit shall follow the change.  
2. Torque limitation shall be obtained from different tables fed by the vehicle ground speed.  
3. The minimum torque limits shall be estimated by tables fed by the vehicle ground speed.  
4. The slow torque request limitation shall be done by dynamic limits.  

f. Actual Wheel Torque.  
The actual propulsion torque at the wheels shall be calculated based on current torque manager mode and e-motor torque.  

g. Torque Manager State.  
It shall be determined by a torque state machine if the torque shall be enabled or disabled.  
State machine has the following states:  
- Not Active.  
- E-Drive.  
  - If the HV, LV, and driver are ready, the state machine transits from the default state (Not active) to E-Drive.  
  - If the mentioned conditions are not met, the state machine shall stay at Not Active.  

h. Driver Torque Filter.  
1. Filter and gradient limitation on resulting sum torque requests shall be done.  
2. There shall be individual filters for each mode and external requests, e.g., ACC shall be selected.  

Regen brake calculation shall be explained in the Energy Management section.  

5.4.1.2 Torque Split Determination.  
**Figure 5-13 Torque Split Determination**.  

a. ESP Intervention Path.  
1. Determination on slipping/non-slipping axle based on ESP TCS intervention shall be done.  
2. Torque shall be shifted towards the non-slipping axle.  

b. Torque Split ESP Intervention Adjustment.  
1. The ESP adjustment shall be available if all the following conditions are met:  
   - Vehicle speed is within calibratable hysteresis limits.  
2. The ESP adjustment shall be active when ESP intervention happens during ESP adjustment availability.  

- If ESP adjustment is not available, the torque split ESP intervention adjustment offset shall be set to a default value.  
- If front or rear axle intervention is active, the ESP intervention adjustment offset shall be set to a calibratable 1D table over actual torque split, respectively.  

c. Torque Split Regen Adjustment.  
The torque split strategy for Regen brake torque shall be determined based on regen brake torque request and vehicle speed. Recuperation adjustment active bit shall be calculated for power distribution availability calculation. Front and rear regen torque values shall be taken directly from IDB.  

d. Torque Split Strategy.  
The torque split strategy for normal driving (absolute torque request for acceleration) shall be determined based on raw driver torque request, vehicle speed, drive mode, and wheel drive mode.  

e. Torque Split Cornering Adjustment.  
1. Cornering situations shall be determined based on steering wheel angle/vehicle speed and ESP lateral acceleration.  
2. Target torque split shall be done for cornering situations.  

f. Torque Split Manager.  
1. Target/offset torque split requests and their priorities shall be arbitrated.  
2. Enable/disable torque split adjustments shall be done according to drive mode and wheel drive mode.  
3. Prioritization for each mode adjustment shall be as follows:  
   - Regen adjustment.  
   - ESP intervention.  
   - Cornering.  
   - Default optimal mappings.  

g. Torque Limit Front EM.  
1. The maximum front axle EM peak and continuous torques shall be converted to maximum front axle wheel peak and continuous torques.  
2. The set and reset conditions shall be applied for inhibition of peak power.  
3. There shall be an arbitration between peak and continuous torque through ramp function.  

h. Torque Limit Rear EM.  
1. The maximum rear axle EM peak and continuous torques shall be converted to maximum rear axle wheel peak and continuous torques.  
2. The set and reset conditions shall be applied for inhibition of peak power.  
3. There shall be an arbitration between peak and continuous torque through ramp function.  

i. Torque Split Peak Power Adjustment.  
1. The filtered wheel torque shall be split into desired front and rear torques based on the rear axle target split value calculated from the torque split manager.  
2. Available reserve torque and the gap between the desired and the maximum torque shall be calculated.  
3. Arbitration between rear and front shall be done, and the torque shall be transferred to the rear or front in case of limitation to achieve the sum torque request.  
4. Arbitrated rear and front axle torque to percentage torque split shall be converted.  

j. Torque Split Gradient Filter.  
The limit gradient of torque split between front and rear shall be calculated based on torque split manager mode and vehicle speed.  

5.4.1.3 Front / Rear IDB Intervention.  
**Figure 5-14 Front-Rear IDB Intervention**.  

a. Front IDB Activation.  
The front ESP intervention request from the ESP unit shall be determined.  

b. Front IDB Status.  
The priority on the front intervention torque request shall be set.  

c. Front IDB Limitation.  
IDB front torque intervention request shall be limited by the target values.  

**Figure 5-15 Front IDB Limitation**.  

d. Rear IDB Activation.  
The rear ESP intervention request from the ESP unit shall be determined.
Page 65
e. Rear IDB Status  
The priority on the rear intervention torque request shall be set.  

f. Rear IDB Limitation  
IDB rear torque intervention request shall be limited by the target values.  

5.4.1.4 Front / Rear Electric Motor  

**Figure 5-16 Front / Rear Electric Motor**  

a. Front EM Arbitration  
Arbitration of torque split request on front axle and front ESP increase and decrease torque request shall be done.  

b. Front EM Torque Request  
1. Torque management for drive and reverse gear.  
2. Setpoint for front torque request shall be determined.  
3. Gradient filter to ramp to torque setpoint in case of torque management gear change shall be applied.
Page 66
**Vehicle Control Unit**  
**Vinfast Management System**  
**VFDSXXEEP5046**  

**Version: 1.0**  
Uncontrolled copy when printed  
Status: 66 of 208  

---

**5.4.1.4 Front / Rear Electric Motor**

**c. Front EM Limitation**  
1. Torque requests from torque management and front EM torque requests shall be merged.  
2. The individual EM minimum/maximum limitations from system constraints shall be applied.  

**Figure 5-17 Rear EM-Arbitration**

**d. Rear EM Arbitration**  
Arbitration of torque split request on rear axle and rear ESP increase and decrease torque request shall be done.  

**e. Rear EM Torque Request**  
1. Torque management for drive and reverse gear.  
2. Setpoint for front torque request shall be determined.  
3. Gradient filter to ramp to torque setpoint in case of torque management gear change shall be applied.  

**f. Rear EM Limitation**  
1. Torque requests from torque management and rear EM torque requests shall be merged.  
2. The individual EM minimum/maximum limitations from system constraints shall be applied.
Page 67
5.4.2 Topology Diagram.  
VCU shall control the motor torque to drive the vehicle. The topology diagram is given as follows:  

**Figure 5-18 Topology Diagram - Torque Management.**  
The diagram illustrates the connections of the Vehicle Control Unit (VCU), Electric Drive Systems (EDS_F and EDS_R), Battery Management System (BMS), Intelligent Drive Bus (IDB), and Cross Gateway (XGW) through the CAN BUS network. Each component is shown interacting with the VCU to enable torque management functionalities.
Page 68
### 5.4.3 Signal I/O

**VCU_HVsystem_status**  
The HV state of the vehicle.  
- **I/O:** Output  
- **Min:** 0  
- **Max:** 7  
- **Value Description:**  
  - 0: "Not ready"  
  - 1: "HV On"  
  - 2: "ReadyToDrive"  
  - 3: "Charging"  
  - 4: "Error"  
  - 5: "Reserved"  
  - 6: "Reserved"  
  - 7: "Reserved"  
- **Sender:** VCU  
- **Receiver:** XGW  

**VCU_EDS_demtrq**  
The demand torque of EDS.  
- **I/O:** Output  
- **Min:** -500 Nm  
- **Max:** 500 Nm  
- **Sender:** VCU  
- **Receiver:** EDS_F, EDS_R  

**VCU_EDS_TargetTqMax_FWD**  
Maximum target torque.  
- **I/O:** Output  
- **Min:** 0  
- **Max:** 500 Nm  
- **Value Description:** n.a.  
- **Sender:** VCU  
- **Receiver:** EDS_F  

**VCU_EDS_TargetTqMin_FWD**  
Minimum target torque.  
- **I/O:** Output  
- **Min:** -500 Nm  
- **Max:** 0  
- **Value Description:** n.a.  
- **Sender:** VCU  
- **Receiver:** EDS_F  

**VCU_EDS_TargetTqMax_RWD**  
Maximum target torque.  
- **I/O:** Output  
- **Min:** 0  
- **Max:** 500 Nm  
- **Value Description:** n.a.  
- **Sender:** VCU  
- **Receiver:** EDS_R  

**VCU_EDS_TargetTqMin_RWD**  
Minimum target torque.  
- **I/O:** Output  
- **Min:** -500 Nm  
- **Max:** 0  
- **Value Description:** n.a.  
- **Sender:** VCU  
- **Receiver:** EDS_R  

**VCU_ACPD_Percent_Valid**  
Qualifier for corresponding signal. In value table, undefined values are reserved.  
- **I/O:** Output  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 0: valid  
  - 1: invalid  
- **Sender:** VCU  
- **Receiver:** ESC, XGW  

**VCU_EDS_StsModeReq**  
The command of motor control mode.  
- **I/O:** Output  
- **Min:** 0  
- **Max:** 8  
- **Value Description:**  
  - 0x0: Default  
  - 0x1: Init  
  - 0x2: Standby  
  - 0x3: Precharge  
  - 0x4: Normal  
  - 0xB: ShutDown  
  - 0xC: AfterRun  
  - 0xE: PowerOff  
  - 0xF: Invalid  
- **Sender:** VCU  
- **Receiver:** EDS_R, EDS_F  

**VCU_IDB_DriverRequestTorq_Front**  
Emotor torque requested by driver for the front axle.  
- **I/O:** Output  
- **Min:** -30000 Nm  
- **Max:** 30000 Nm  
- **Sender:** VCU  
- **Receiver:** IDB  

**VCU_IDB_DriverRequestTorq_Rear**  
Emotor torque requested by driver for the rear axle.  
- **I/O:** Output  
- **Min:** -30000 Nm  
- **Max:** 30000 Nm  
- **Sender:** VCU  
- **Receiver:** IDB
Page 69
### 5.4.2 Topology Diagram  
VCU shall control the motor torque to drive the vehicle. The topology diagram is given as follows:  

**Figure 5-18 Topology Diagram - Torque Management**  
This diagram visually represents the relationship between Vehicle Control Unit (VCU), Battery Management System (BMS), Intermediate Data Bus (IDB), Front-End E-Motor Drive System (EDS_F), Rear-End E-Motor Drive System (EDS_R), and Gateway System (XGW). The communication and interactions are done through the CAN bus.

---

### 5.4.3 Signal I/O  

| Name                      | Description                                                                 | I/O    | Min    | Max    | Value Description                                                      | Sender | Receiver |
|---------------------------|-----------------------------------------------------------------------------|--------|--------|--------|------------------------------------------------------------------------|--------|----------|
| VCU_HVsystem_status       | The HV state of Vehicle                                                    | Output | 0      | 7      | 0 "Not ready" 1 "HV On" 2 "ReadyToDrive" 3 "Charging" 4 "Error" 5 "Reserved" | VCU    | XGW      |
| VCU_EDS_demtrq            | The demand torque of EDS                                                   | Output | -500 Nm| 500 Nm |                                                                        | VCU    | EDS_F,   |
|                           |                                                                             |        |        |        |                                                                        |        | EDS_R    |
| VCU_EDS_TargetTqMax_FWD   | Max Target Torque                                                          | Output | 0      | 500 Nm | n.a.                                                                    | VCU    | EDS_F    |
| VCU_EDS_TargetTqMin_FWD   | Min Target Torque                                                          | Output | -500 Nm| 0      | n.a.                                                                    | VCU    | EDS_F    |
| VCU_EDS_TargetTqMax_RWD   | Max Target Torque                                                          | Output | 0      | 500 Nm | n.a.                                                                    | VCU    | EDS_R    |
| VCU_EDS_TargetTqMin_RWD   | Min Target Torque                                                          | Output | -500 Nm| 0      | n.a.                                                                    | VCU    | EDS_R    |
| VCU_ACPD_Percent_Valid    | Qualifier for corresponding signal. Reserved values are not defined in the table. | Output | 0      | 1      | 0 = valid, 1 = invalid                                                  | VCU    | ESC, XGW |
| VCU_EDS_StsModeReq        | The command of motor control mode                                          | Output | 0      | 8      | 0x0 Default, 0x1 Init, 0x2 Standby, 0x3 Precharge, 0x4 Normal           | VCU    | EDS_R,   |
|                           |                                                                             |        |        |        | 0xB Shutdown, 0xC AfterRun, 0xE PowerOff, 0xF Invalid                  |        | EDS_F    |
| VCU_IDB_DriverRequestTorq_Front | Emotor torque requested by driver                                     | Output | -30000 | 30000  |                                                                        | VCU    | IDB      |
| VCU_IDB_DriverRequestTorq_Rear  | Emotor torque requested by driver                                     | Output | -30000 | 30000  |                                                                        | VCU    | IDB      |

---

| Name                      | Description                                                                 | I/O    | Min    | Max    | Value Description                                                      | Sender | Receiver |
|---------------------------|-----------------------------------------------------------------------------|--------|--------|--------|------------------------------------------------------------------------|--------|----------|
| VCU_MaxTorq_FR            | The maximum Emotor torque describes the maximum torque that can be generated by the Emotor at full load and current environmental conditions. | Output | -8000  | 8000   |                                                                        | VCU    | IDB      |
| VCU_MaxTorq_Sts_FR        | Indicate status of FR Max Driving Torque                                   | Output | 0      | 3      | 0 NotInitialized, 1 Normal, 2 Faulty                                   | IDB    | VCU      |
| VCU_MaxTorq_RR            | The maximum Emotor torque describes the maximum torque that can be generated by the Emotor at full load and current environmental conditions. | Output | -8000  | 8000   |                                                                        | VCU    | IDB      |
| VCU_MinTorq_FR            | FR Min Driving Torque (instant value, wheel level, considered system status) | Output | -8000  | 8000   | n.a.                                                                   | VCU    | IDB      |
| VCU_MinTorq_Sts_FR        | Indicate status of FR Min Driving Torque                                   | Output | 0      | 3      | 0 NotInitialized, 1 Normal, 2 Faulty                                   | VCU    | IDB      |
| VCU_MaxTorq_RR            | RR Max Driving Torque (instant value, wheel level, considered system status) | Output | -8000  | 8000   | n.a.                                                                   | VCU    | IDB      |
Page 70
### Vehicle Control Unit Signal Input/Output Table

**Name:**  
VCU_MaxTorq_Sts_RR  
**Description:**  
Indicate status of RR Max Driving Torque.  
**I/O:**  
Output  
**Min:**  
0  
**Max:**  
3  
**Value Description:**  
0 "NotInitialized"  
1 "Normal"  
2 "Faulty"  
**Sender:**  
VCU  
**Receiver:**  
IDB  

---

**Name:**  
VCU_MinTorq_RR  
**Description:**  
RR Min Driving Torque (instant value, wheel level, considered system status).  
**I/O:**  
Output  
**Min:**  
-8000  
**Max:**  
8000  
**Value Description:**  
n.a  
**Sender:**  
VCU  
**Receiver:**  
IDB  

---

**Name:**  
VCU_MinTorq_Sts_RR  
**Description:**  
Indicate status of RR Min Driving Torque.  
**I/O:**  
Output  
**Min:**  
0  
**Max:**  
3  
**Value Description:**  
0 "NotInitialized"  
1 "Normal"  
2 "Faulty"  
**Sender:**  
VCU  
**Receiver:**  
IDB  

---

**Name:**  
IDB_TorqueIncrease_FR  
**Description:**  
Target increased Emotor_Front torque (drag torque control).  
**I/O:**  
Input  
**Min:**  
-8000  
**Max:**  
8000  
**Value Description:**  
—  
**Sender:**  
IDB  
**Receiver:**  
VCU  

---

**Name:**  
IDB_TorqueIncrease_RR  
**Description:**  
Target increased Emotor_Rear torque (drag torque control).  
**I/O:**  
Input  
**Min:**  
-8000  
**Max:**  
8000  
**Value Description:**  
—  
**Sender:**  
IDB  
**Receiver:**  
VCU  

---

**Name:**  
IDB_TorqueIncrease_Active_FR  
**Description:**  
Emotor_Front torque increase active.  
**I/O:**  
Input  
**Min:**  
0  
**Max:**  
1  
**Value Description:**  
0: Not active  
1: Active  
**Sender:**  
IDB  
**Receiver:**  
VCU  

---

**Name:**  
IDB_TorqueIncrease_Active_RR  
**Description:**  
Emotor_Rear torque increase active.  
**I/O:**  
Input  
**Min:**  
0  
**Max:**  
1  
**Value Description:**  
0: Not active  
1: Active  
**Sender:**  
IDB  
**Receiver:**  
VCU  

---

**Name:**  
IDB_TorqueReduce_Front  
**Description:**  
Target reduced Emotor torque.  
**I/O:**  
Input  
**Min:**  
-30000  
**Max:**  
30000  
**Value Description:**  
—  
**Sender:**  
IDB  
**Receiver:**  
VCU  

---

**Name:**  
IDB_TorqueReduce_Active_RR  
**Description:**  
Emotor_Rear torque reduction active.  
**I/O:**  
Input  
**Min:**  
0  
**Max:**  
1  
**Value Description:**  
0: Not active  
1: Active  
**Sender:**  
IDB  
**Receiver:**  
VCU  

---

**Name:**  
IDB_TorqueReduce_RR  
**Description:**  
Target reduced Emotor_Rear torque (TCS torque control).  
**I/O:**  
Input  
**Min:**  
-8000  
**Max:**  
8000  
**Value Description:**  
—  
**Sender:**  
IDB  
**Receiver:**  
VCU  

---

**Name:**  
IDB_TorqueReduce_Active_FR  
**Description:**  
Emotor_Front torque reduction active.  
**I/O:**  
Input  
**Min:**  
0  
**Max:**  
1  
**Value Description:**  
0: Not active  
1: Active  
**Sender:**  
IDB  
**Receiver:**  
VCU  

---

**Name:**  
IDB_TorqueReduce_FR  
**Description:**  
Target reduced Emotor_Front torque (TCS torque control).  
**I/O:**  
Input  
**Min:**  
-8000  
**Max:**  
8000  
**Value Description:**  
—  
**Sender:**  
IDB  
**Receiver:**  
VCU  

---

**Name:**  
VehicleSpd  
**Description:**  
Vehicle speed.  
**I/O:**  
Input  
**Min:**  
0  
**Max:**  
300 (km/h)  
**Value Description:**  
—  
**Sender:**  
IDB  
**Receiver:**  
VCU  

---

**Name:**  
VehicleSpdSts  
**Description:**  
Vehicle speed valid.  
**I/O:**  
Input  
**Min:**  
0  
**Max:**  
1  
**Value Description:**  
0: Invalid  
1: Valid  
**Sender:**  
IDB  
**Receiver:**  
VCU  

---
VinFast Released
Page 71
Name: IDB_Brake_Pedal_position  
Description: Brake Pedal Applied  
I/O: Input  
Min: 0  
Max: 100  
Value Description: n.a.  
Sender: IDB  
Receiver: VCU  

Name: IDB_Brake_Pedal_position_sts  
Description: Brake Pedal Applied status  
I/O: Input  
Min: 0  
Max: 1  
Value Description: 0 "Valid" 1 "Invalid"  
Sender: IDB  
Receiver: VCU  

Name: STAT_EBD  
Description: EBD (Electronic Brake Distribution) Error Status  
I/O: Input  
Value Description: 0: Invalid, 1: Valid  
Sender: IDB  
Receiver: VCU  

Name: ABS_Active  
Description: ABS active  
I/O: Input  
Value Description: 0: Invalid, 1: Valid  
Sender: IDB  
Receiver: VCU  

Name: STAT_ABS  
Description: ABS Active Valid  
I/O: Input  
Value Description: 0: Invalid, 1: Valid  
Sender: IDB  
Receiver: VCU  

Name: ABSFault  
Description: ABS Error  
I/O: Input  
Min: 0  
Max: 1  
Value Description: 0: Invalid, 1: Valid  
Sender: IDB  
Receiver: VCU  

Name: ABSFaultVld  
Description: ABS Error Valid  
I/O: Input  
Value Description: 0: Invalid, 1: Valid  
Sender: IDB  
Receiver: VCU  

Name: IDB_IDBIntvSts  
Description: IDB Intervention Status  
I/O: Input  
Value Description: 0: Invalid, 1: Valid  
Sender: IDB  
Receiver: VCU  

Name: IDB_IDBIntvStsVld  
Description: IDB Intervention Status Valid  
I/O: Input  
Value Description: 0: Invalid, 1: Valid  
Sender: IDB  
Receiver: VCU  

Name: EDS_MinTrq_RWD  
Description: AllowMinTorque (long time min torque available)  
I/O: Input  
Min: -2000  
Max: 2000  
Value Description: n.a.  
Sender: EDS_R  
Receiver: VCU  

Name: EDS_MaxTrq_RWD  
Description: AllowMaxTorque (long time max torque available)  
I/O: Input  
Min: -2000  
Max: 2000  
Value Description: n.a.  
Sender: EDS_R  
Receiver: VCU  

Name: EDS_output_trq_FR  
Description: Actual output torque of current EDS  
I/O: Input  
Min: -2000  
Max: 2000  
Value Description: n.a.  
Sender: EDS_F  
Receiver: VCU  

Name: EDS_output_trqValid_FR  
Description: Indicate the valid flag of current motor torque  
I/O: Input  
Min: 0  
Max: 1  
Value Description: n.a.  
Sender: EDS_F  
Receiver: VCU  

Name: EDS_output_trqValid_RR  
Description: Indicate the valid flag of current motor torque  
I/O: Input  
Min: 0  
Max: 1  
Value Description: n.a.  
Sender: EDS_R  
Receiver: VCU  

Name: EDS_output_trq_RR  
Description: Actual output torque of current EDS  
I/O: Input  
Min: -2000  
Max: 2000  
Value Description: Nm  
Sender: EDS_R  
Receiver: VCU  

Name: BMS_AllowDischgCurr  
Description: Instantaneous maximum allowable discharge current of battery  
I/O: Input  
Min: 0  
Max: 1500  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU  

Name: BMS_MaxDischgPwr_Peak  
Description: Peak Discharge Power  
I/O: Input  
Min: 0  
Max: 800  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU
Page 72
5.5 Charge Management

5.5.1 Design Level Requirements  
VCU shall control charge management process. Charge management function diagram is given as below:

**Figure 5-19 Charge Management:** The diagram illustrates the charge management system controlled by the VCU, detailing components such as plug status, switch actuation, temperature sensing, PLC chip control, V2G communication, and diagnostic functions for BMS, OBC, and DCDC. The system interfaces to ensure control over charging states and status for AC and DC charging operations.
Page 73
### 5.5 Charge Management

#### 5.5.1 Design Level Requirements
VCU shall control the charge management process.  
The charge management function diagram is given below:  

**Figure 5-19 Charge Management.**  

---

### VCU – Charge Control for CCS System Interface Diagram
The VCU charge control for CCS system interface diagram is provided below:  

**Figure 5-20 CCS System Interface.**  

---

#### 1. Charge Initialization
When wake-up signals are received, VCU shall check if the plug is connected. The status of external charge interfaces shall be received and controlled. VCU shall control the charging type as AC or DC based on the available charge type signal from EVSE. Based on CP, the EVSE ready status shall be received. If the plug is connected, the charge power-up sequence shall start.  

The state of OBC, AC and DC current, DC output voltage, and error status shall be received from the OBC. Battery charge current and voltage request, SOC, isolation status, error status shall be received from the BMS. The EVSE current limit shall be received over CP. The cable current limit shall be calculated according to PP voltage. The plug shall be locked. The S2 relay shall be triggered. Charging current shall be calculated according to EVSE, charge cable, battery, and OBC current limit. Charge voltage request received from BMS shall be directed to OBC. Start or stop command, charging current, and DC output voltage shall be sent to OBC. Control and HV system state shall be sent to BMS.  

---

#### 2. Charging Finish Sequence
If stop charging requests are received from MHU or EVSE and unlock request is received, VCU shall stop charging. If SOC is higher than a calibratable value, EVSE connection is lost, the charge current is lower than a calibratable value, or the remaining charge time signal from BMS is lower than a calibratable value, VCU shall finish charging.  

When the POD contactor status is Welded, charging shall be inhibited.  
The VCU shall monitor POD temperature limits from the HV bus line. If POD temperature reaches the maximum calibratable threshold, then VCU shall set 0 A current for charging, and charging shall be inhibited until POD temperature is decreased to the minimum calibratable threshold.  

At the end of DC charge, VCU opens DCFC contactors. Afterward, VCU compares BMS_HVLinkVol_MEAS and OBC_DCCharge_line_V.
Page 74
If the difference is lower than a calibratable value for a calibratable time, the Vehicle Control Unit (VCU) shall detect this as a contactor welded.

### 3. Bad Connection Detection
Bad connection signals shall be triggered in two ways:
- The PP voltage signal shall come in the “bad connection” range.
- The plug lock signal shall come from V2G in the “error” state.

For CCS1:
- If PP voltage is between 1.7V and 2.45V or between 2.97V and 4.3V ranges, then this shall be evaluated as a “bad connection.”

For CCS2:
- If PP voltage is between 2.1V and 3V or between 3.4V and 3.7V ranges, then this shall be evaluated as a “bad connection.”

For plug lock error state:
- The VCU shall receive the signal from the Battery Switched Wakeup (BSW). If the APSW tries to lock the plug but the plug is not locked for a duration, then this state shall be triggered by the BSW through V2G communication.

### 4. PLC (Power Line Communication)
PLC charge management state flow shall be as follows:
Page 75
5.5 Charge Management.

5.5.1 Design Level Requirements.
VCU shall control charge management process. Charge management function diagram is given as below:

- Figure 5-19 illustrates the Charge Management function, detailing the integration of various components such as plug status, plug temperature sensing, PLC chip control, V2G communication, diagnostic functions, BMS, OBC, and DCDC, along with APSW for charge control state machine handling for AC and DC charging.

VCU – Charge control for CCS system interface diagram is given as follows:

- Figure 5-20 highlights the CCS system interface, showcasing charge initialization and finish sequences.

1. Charge Initialization.
VCU shall monitor and manage charging upon wake-up signals. Plug connectivity, charging type (AC/DC) based on EVSE signal, and readiness from CP are verified. Charging power-up follows successful signal inputs. OBC and BMS components provide relevant current, voltage, and error statuses, ensuring proper limit calculations for charging processes. Plug locking and relay triggering complete the initialization cycle.

2. Charging Finish Sequence.
Charging termination is prompted by various conditions (e.g., stop requests, high SOC, low remaining charge time, etc.). VCU counters welded POD status and high HV bus temperatures by inhibiting charging until predefined thresholds are met.

3. Bad Connection Detection.
Bad connection signals involve PP voltage anomaly detection or plug lock error state triggers. Defined ranges for CCS1 (1.7-2.45V, 2.97-4.3V) and CCS2 (2.1-3V, 3.4-3.7V) dictate connection status. Plug error communications via BSW highlight locking failures.

4. PLC (Power Line Communication).
The PLC charge management state flow is detailed via system sequence, as depicted below:

- Figure 5-21 presents the PLC Sequence, illustrating initialization, charge mode selection (AC/DC), precharge, active charging, error detection, and termination processes. Each phase is accompanied by specific controls such as isolation state monitoring, voltage differential checks, and weld detection checks.

VinFast Released.
Page 76
5. Charge Gun Lock/Unlock Behavior:

While waiting to charge (scheduled charging), if the vehicle is locked, the charge gun shall be locked; if the vehicle is unlocked, the charge gun shall be unlocked. In charging in-progress, whether the vehicle is locked or unlocked, the charge gun shall be locked. 

While charging stopped: 
- **SOC = 100%**: If the vehicle is locked, the charge gun shall be locked; if the vehicle is unlocked, the charge gun shall be unlocked.
- **ERROR**: If the vehicle is locked, the charge gun shall be locked; if the vehicle is unlocked, the charge gun shall be unlocked.

Charging inlet lock, also known as charge gun lock, is a safety action to protect the user and charger inlet during charging. After the plug is inserted by the user, EVCU drives the gun lock motor and the gun is locked. After that point, the user cannot remove the gun until charging is stopped. This prevents the user from unplugging the gun during current flow. When the charge is completed or a charge stop request is received, the gun lock is released, and the user can unplug the gun.

The charging flap covers and protects the charging socket. It includes a lock mechanism that prevents opening when not wanted. While driving, the flap remains in a locked position so the user cannot open the lid. If the user wants to open the cover, the "Open Charge Flap" button shall be pressed on MHU. This action causes `MHU_ChgPort_Open_req = 1 (ON)` signal to be sent from MHU to VCU. VCU receives this signal, drives the charge flap lock motor, and sends `VCU_ChgPort_Lock_stt = 1 (Released)`. Once the lock is released, the user can open the charge flap by hand. After the user closes the charge port, VCU locks it automatically and sends `VCU_ChgPort_Lock_stt = 0 (Locked)`.

VCU also indicates whether the charge flap is open or closed via the signal `VCU_ChgPort_Open_stt`. 
- `VCU_ChgPort_Open_stt = 1 (Opening)`
- `VCU_ChgPort_Open_stt = 0 (Closed)`

### Condition Table:

| Condition                                            | Vehicle is Locked | Vehicle is Unlocked |
|------------------------------------------------------|-------------------|---------------------|
| 1. Waiting to charge (scheduled charging)           | Charge Gun LOCKED | Charge Gun UNLOCKED |
| 2. Charging in-progress                              | Charge Gun LOCKED | Charge Gun LOCKED   |
| 3. Charging stopped: SOC = 100%                     | Charge Gun LOCKED | Charge Gun UNLOCKED |
| 4. Charging stopped: ERROR                          | Charge Gun LOCKED | Charge Gun UNLOCKED |
Page 77
6. PnC – Plug and Charge.

Plug and Charge (PnC) offers an efficient and user-friendly alternative to RFID or mobile apps to plug and charge an electric vehicle. The PnC feature is based on ISO standard 15118, which enables a secure exchange of information between EV and the charging infrastructure. MHU-HMI and C-App provide the EV user an interface to perform several PnC-related operations and display PnC status if the feature is activated on the car:
- Enable and disable PnC (supported only for primary) - supported from MHU-HMI and C-App.
- Display PCID on MHU (information received by C-App).
- Display contract installation and authentication notification.

### a) PnC Activation/Deactivation.
Users shall be provided a PnC screen on the MHU-HMI and C-App to perform PnC operations or view PnC information if the feature is available on the car. MHU shall know about PnC availability based on VOD configuration for the car.

- MHU shall recognize PnC activation from the ODX file stored in MHU internal memory.
- PnC parameter shall have PnC activated (default value for PnC parameter is 0x2).
- If the PnC value in the ODX file is 0x1 = Without PnC, MHU shall inform the VCU that PnC is disabled for the customer by default by sending the CAN signal `PnC_feature_enable` value 1 "Disable".  
  - In this case, there shall be no HMI changes as the PnC feature will be hidden to the customer, but VCU shall know not to use PnC by default if PnC is deactivated on VOD.

### b) PnC Feature Enable or Disable (Huject Use Case: 28042).
The primary user profile shall be able to enable or disable PnC from the MHU HMI or C-App. Users logged in with other profiles shall only be able to view the PnC setting but not change it. The toggle switch for changing the PnC setting will be enabled irrespective of whether the contract certificate is installed in the car. The default state shall be PnC enabled.

1. **Request Mechanism:**
   - MHU shall inform the VCU about the enable or disable request using the CAN signal `PnC_feature_enable`.
   - VCU shall provide feedback using the CAN signal `PnC_Status`.

2. **Switch Adjustment Process:**
   - MHU shall change the state of the toggle switch only upon receiving feedback from VCU confirming the expected state (`PnC_Status` as "enabled" or "disabled").
   - If no feedback is received from VCU within a calibratable time, MHU shall set the toggle switch back to its previous state.

3. **C-App Integration:**
   - If the operation is initiated via C-App, the request shall be sent to MHU, which will relay information to VCU using the PnC-related signals discussed in 5.5.3 Signal I/O.
   - The result of the operation shall be shared with C-App.
   - Changes in PnC settings made via MHU shall reflect in C-App and vice versa.

4. **Persistence Across Drive Cycles:**
   - MHU shall save the latest selected PnC payment method for continuity across drive cycles.
Page 78
6. PnC – Plug and Charge.

Plug and Charge (PnC) offers an electric vehicle user a efficient and user friendly alternative to RFID or mobile apps to plug and charge an electric vehicle. The PnC feature is based on ISO standard 15118 which enables a secure exchange of information between EV and the charging infrastructure.

MHU-HMI and C-App will provide the EV user an interface to perform the following PnC-related operations and display PnC status if the PnC feature has been activated on the car:
- Enable and disable PnC (supported only for primary) - supported from MHU-HMI and C-App.
- Display PCID on MHU (information received by C-app).
- Display Contract installation and authentication notification.

### a) PnC Activation/Deactivation
User shall be provided a PnC screen on MHU-HMI and C-App to perform PnC operations or view PnC information only if the PnC feature is available on the car. MHU shall know about PnC availability based on VOD configuration on the car.  
MHU shall know the PnC activation from the ODX file, stored in MHU internal memory.  
PnC parameter shall have PnC activated (default value for PnC parameter is 0x2).  
In case PnC value in ODX file is 0x1 = Without PnC, MHU shall inform VCU that PnC is disabled for the customer by default by sending CAN signal `PnC_feature_enable` value 1 “Disable”. As PnC is de-activated in VOD file, there shall be no HMI change as the PnC feature shall be hidden to the customer, but VCU shall know not to use PnC by default if PnC is de-activated on VOD.

### b) PnC Feature Enable or Disable (Hubject use case: 28042)
User (primary profile only) shall be able to enable or disable PnC from MHU-HMI or C-App. Users logged in with any other profile shall not be able to change the PnC setting but can only view the setting.  
The toggle switch to change the PnC setting will be enabled irrespective of whether a contract certificate has been installed in the car or not. The default state shall be PnC enabled.  
MHU shall inform the VCU about PnC enable or disable requests using the CAN signal `PnC_feature_enable`.  
VCU will provide feedback about the operation using `PnC_Status` CAN signal.  
MHU will change the state of the toggle switch only if it receives expected feedback from VCU. If MHU requests a change in state from ‘disable’ to ‘enable’, MHU will change the state of the switch only if it receives `PnC_Status` as ‘enabled’. In case MHU doesn’t receive any feedback from VCU within a calibratable time, MHU will set the toggle switch to the previously known state.  

If the above operation is invoked through C-App, then C-App will send the request for PnC enable or disable to MHU and MHU will use the PnC-related signals from Section 5.5.3 Signal I/O to inform VCU. MHU will also share the result of the operation with C-App.  
A change in PnC setting from MHU shall be reflected in C-App and vice-versa. MHU shall send the information to C-App after receiving confirmation from VCU.  
MHU shall persist the latest selected payment method of PnC across drive cycles.

### c) User Plugs the Vehicle to a Charging Point (Hubject use case: 28043)
If this is the first connection of an EV to a charging point after contract activation, the charging point shall try to install a new contract certificate in the car (Hubject use case: 28044).  
If contract certificate installation is successful, the user shall be informed about it with a message on the HMI and C-App (Hubject use case: 28045).  
MHU will know the contract has been installed when CAN signal `PnC_Contract_Status` changes value from “Not available” to “Installed.”  
Default value for `PnC_Contract_Status` shall be “Not available.”  

If contract certificate installation fails, the user shall be informed about it on HMI and C-App along with the message: “Plug & Charge contract installation was not successful. Please contact customer support or try a different payment method” (Hubject use case: 28045).  
MHU shall know that contract installation failed from `PnC_Ok` CAN signal value “Error” and `PnC_Contract_Status` value “Not available.” Default value for `PnC_Ok` signal shall be `init`.  

Once a contract is successfully installed, the next step is authentication and setup of the charging session (Hubject use case: 28049).  
If authentication is successful, the user shall be redirected to Charging Session View and C-App shall be informed about the start of the charging session. MHU shall use CAN signal `PnC_Ok` to know if authentication is successful by receiving value “No Error.” MHU shall also inform the user that authentication was successful.  

If authentication is unsuccessful during any step of the process, MHU will display a notification: “Plug & Charge authentication was not successful. Please check your Plug & Charge Contract Certificate by contacting customer support” (Hubject use case: 28050, 28051). MHU will know authentication failed using CAN signal `PnC_Ok` value “Error” and `PnC_Contract_Status` value “Install.”

### d) PnC Contract Cancellation (Hubject use case: 28055)
The contract cancellation shall be done only by VinFast customer services or dealerships once they are advised to do so by the user. There shall not be a provision for the user to cancel PnC contracts from MHU-HMI or from C-App.  
CAN signal `PnC_Contract_Status` shall hold value “Not available” on VCU as contract is no longer installed.

### 7. Standards for Charging Management
To be continued.
Page 79
### 6. PnC – Plug and Charge

Plug and Charge (PnC) offers an electric vehicle user an efficient and user-friendly alternative to RFID or mobile apps for charging an electric vehicle. The PnC feature is based on ISO standard 15118, which enables the secure exchange of information between EV and the charging infrastructure.

MHU-HMI and C-App provide the EV user with an interface to perform the following PnC-related operations and display PnC status if the PnC feature is activated in the car:
- Enable and disable PnC (supported only for primary) - Supported from MHU-HMI and C-App.
- Display PCID on MHU (information received by C-App).
- Display contract installation and authentication notifications.

#### a) PnC Activation/Deactivation
A PnC screen shall be available on MHU-HMI and C-App for performing PnC operations or viewing PnC information. This screen will only be visible if the vehicle supports the PnC feature, which is determined by VOD configuration. 

The activation settings for PnC are stored in the ODX file within the MHU internal memory, and the default parameter value is set to PnC activated (0x2). If the ODX file value is 0x1 (Without PnC), MHU shall inform VCU that PnC is disabled by default, using the CAN signal `PnC_feature_enable` with the value 1 (“Disable”). As PnC is deactivated in such cases, there shall be no HMI change since the feature remains hidden to customers.

#### b) PnC Enable or Disable (Use Case: 28042)
- Only the primary user profile can enable or disable the PnC feature via MHU-HMI or C-App.
- Users with other profiles can only view the current settings without changing them.
- Enabling or disabling actions are provided via a toggle switch in the interface, which remains accessible regardless of whether a contract certificate is installed.
- MHU informs VCU of a request through the `PnC_feature_enable` CAN signal. 
- VCU provides feedback on the operation using the `PnC_Status` CAN signal to confirm whether the state has successfully changed. If feedback is not received within a calibratable period, the toggle resets to the previous state.
- Any changes made in PnC settings via MHU will also reflect in C-App and vice versa after receiving confirmation from VCU.

#### c) User Connects Vehicle to Charging Point (Use Case: 28043)
When a user connects a vehicle to a charging point, the charging point will attempt to install a new contract certificate if this is the first connection following activation. 
- If successful, a message is displayed on the HMI and C-App (Use Case: 28045).
- If the installation fails, a notification appears stating: "Plug & Charge contract installation was not successful. Please contact customer support or try different payment methods" (Use Case: 28045).
- The signal `PnC_Contract_Status` indicates whether the contract installation was successful or not.

#### d) PnC Contract Cancellation (Use Case: 28055)
Contract cancellation can only be performed by VinFast customer services or dealerships upon user request. Users cannot cancel contracts through MHU-HMI or C-App. Upon cancellation, the `PnC_Contract_Status` CAN signal value becomes "Not available."

---

### 7. Standards for Charging Management

Standards applied in the charging management process include:
- DIN SPEC 70121 - Dez.2014 (EV-EVSE Communication, V2G Communication)
- DIN_EN - 61851-1 Technical Corrigendum
- ISO DIS 15118-2 (Network and application protocol requirements)
- ISO-IEC 15118-1 (Vehicle-to-grid communication interface)
- SAE J1772 Signaling (Electric Vehicle Charging OpenEVSE)
- SAEJ1772 – 201710 (SAE Electric Vehicle and Plug-in Hybrid Electric Vehicle Conductive Charge Coupler)

---

### 5.5.2 Topology Diagram

VCU shall control AC and DC charge management processes. 

#### Figure Description:
The topology diagram depicts VCU's relationship with various components, including the EVSE, charging socket, electric locks, sensors (DC Temp - Sensor, DC Temp + Sensor, AC line Temp sensor), LED indicator, GS, POD, BMS, and MHU. These components are interconnected through CAN signals and hardwired systems.

**Figure 5-22: Topology Management - Charge Management**
Page 80
### 5.5.3 Signal I/O

**OBC_Err_Lvl** - OBC Error level for fault management.  
- Input signal ranging from 0 (No Fault) to 5 (Fatal Fault).  
  - **Value Descriptions:**  
    - "0": No Fault  
    - "1": Level1-slight fault  
    - "2": Level2-Minor fault  
    - "3": Level3-General fault  
    - "4": Level4-Serious fault  
    - "5": Level5-Fatal fault  
  - **Sender:** POD  
  - **Receiver:** VCU_PT  

**VCU_ChgGun_BadConn_stt** - Bad Connection Status.  
- Input signal with values:  
  - "0": No error  
  - "1": Bad connection  
  - **Sender:** VCU  
  - **Receiver:** POD  

**VCU_DCChgGunIn** - Connect Status.  
- Input signal with values:  
  - "1": Connect  
  - "0": Disconnect  
  - **Sender:** VCU  
  - **Receiver:** POD  

**DCDC_Err_Lvl** - DCDC Error level for fault management.  
- Input signal ranging from 0 (No Fault) to 5 (Fatal Fault).  
  - **Value Descriptions:**  
    - "0": No Fault  
    - "1": Level1-slight fault  
    - "2": Level2-Minor fault  
    - "3": Level3-General fault  
    - "4": Level4-Serious fault  
    - "5": Level5-Fatal fault  
  - **Sender:** POD  
  - **Receiver:** VCU_PT  

**POD_DCDC_evt_gtw_mia** - GTW MIA event.  
- Input signal values:  
  - Value description: n.a.  
  - **Sender:** POD  
  - **Receiver:** VCU_PT  

**POD_DCDC_evt_vcu_mia** - VCU MIA event.  
- Input signal values:  
  - Value description: n.a.  
  - **Sender:** POD  
  - **Receiver:** VCU_PT  

**POD_DCDC_evt_power_mismatch** - Power Mismatch event.  
- Input signal values:  
  - Value description: n.a.  
  - **Sender:** POD  
  - **Receiver:** VCU_PT  

**POD_DCDC_evt_vin_sensor_fail** - Vin Sensor Fail event.  
- Input signal values:  
  - Value description: n.a.  
  - **Sender:** POD  
  - **Receiver:** VCU_PT  

**POD_DCDC_evt_ntc_fail_bb_n** - NTC Fail - Negative Busbar event.  
- Input signal values:  
  - Value description: n.a.  
  - **Sender:** POD  
  - **Receiver:** VCU_PT
Page 81
### 5.5.3 Signal I/O

#### Signal Definitions Table:
- **POD_DCDC_evt_ntc_fail_coldplate**:  
  - Description: NTC Fail - Coldplate  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a  

- **POD_DCDC_evt_ntc_fail_fet**:  
  - Description: NTC Fail - SR FET  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a  

- **POD_DCDC_evt_lv_shortCircuit**:  
  - Description: LV Short Circuit  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a  

- **POD_DCDC_evt_lv_iHigh**:  
  - Description: LV Current High  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a  

- **POD_DCDC_evt_lv_vHigh**:  
  - Description: LV Voltage High  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a  

- **POD_DCDC_evt_lv_vLow**:  
  - Description: LV Voltage Low  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a  

- **POD_DCDC_evt_hv_iHigh**:  
  - Description: HV Current High  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a  

- **POD_DCDC_evt_hv_vHigh**:  
  - Description: HV Voltage High  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a  

- **POD_DCDC_evt_hv_vLow**:  
  - Description: HV Voltage Low  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a  

- **POD_DCDC_evt_fetTempHigh**:  
  - Description: FET Temperature High  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a  

- **POD_DCDC_evt_fetTempLow**:  
  - Description: FET Temperature Low  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a  

- **POD_DCDC_evt_coldplateTempHigh**:  
  - Description: Coldplate Temperature High  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a  

- **POD_DCDC_evt_coldplateTempLow**:  
  - Description: Coldplate Temperature Low  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a  

- **POD_OBC_evt_evsePwrInsufficient**:  
  - Description: EVSE Power Insufficient  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a  

- **POD_OBC_evt_eStopFlt**:  
  - Description: OBC SW Emergency Stop Fault  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a  

- **POD_OBC_evt_fLineOFFlt**:  
  - Description: Line Frequency Over Fault  
  - I/O: Input  
  - Min Value: 0  
  - Max Value: 1  
  - Sender: POD  
  - Receiver: VCU_PT  
  - Value Description: n.a
Page 82
Vehicle Control Unit  
VinFast Management System  

VFDSXXEEP5046  

Version: 1.0  

**5.5.3 Signal I/O**

**Name**: POD_OBC_evt_fLineOFWrn  
**Description**: Line Frequency Over Warning  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_fLineUFFlt  
**Description**: Line Frequency Under Fault  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_fLineUFWrn  
**Description**: Line Frequency Under Warning  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_fuseOpen  
**Description**: Fuse Open  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_gtwMIA  
**Description**: POD GTW MIA  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_hwFlt  
**Description**: OBC HW Fault  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_hwIDInvalid  
**Description**: OBC HW ID Invalid  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_psfbErr  
**Description**: PSFB Error  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_vOutOVFlt  
**Description**: Output Overvoltage Fault  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_vOutOVWrn  
**Description**: Output Overvoltage Warning  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_vOutUVFlt  
**Description**: Output Undervoltage Fault  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_vOutUVWrn  
**Description**: Output Undervoltage Warning  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_vcuMIA  
**Description**: VCU MIA  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_vDCLinkOVFlt  
**Description**: DC Link Overvoltage Fault  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_vDCLinkOVWrn  
**Description**: DC Link Overvoltage Warning  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_vDCLinkPchgFail  
**Description**: DC Link Precharge Failure  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_vLineImbalFlt  
**Description**: Line Voltage Imbalance Fault  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT
Page 83
### 5.5.3 Signal I/O

**Name:** POD_OBC_evt_vLineImbalWrn  
**Description:** Line Voltage Imbalance Warning  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** POD  
**Receiver:** VCU_PT  

**Name:** POD_OBC_evt_vLineInterrupted  
**Description:** Line Connection Interrupted  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** POD  
**Receiver:** VCU_PT  

**Name:** POD_OBC_evt_vLineOVFlt  
**Description:** Line Overvoltage Fault  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** POD  
**Receiver:** VCU_PT  

**Name:** POD_OBC_evt_vLineOVWrn  
**Description:** Line Overvoltage Warning  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** POD  
**Receiver:** VCU_PT  

**Name:** POD_OBC_evt_vLineUVFlt  
**Description:** Line Undervoltage Fault  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** POD  
**Receiver:** VCU_PT  

**Name:** POD_OBC_evt_vLineUVWrn  
**Description:** Line Undervoltage Warning  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** POD  
**Receiver:** VCU_PT  

**Name:** POD_OBC_evt_vPhaseDetectFail  
**Description:** Phase Detect Failure  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** POD  
**Receiver:** VCU_PT  

**Name:** POD_OBC_evt_tChargerBoardOTFlt  
**Description:** Charger Board Over Temperature Fault  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** POD  
**Receiver:** VCU_PT  

**Name:** POD_OBC_evt_tChargerBoardOTWrn  
**Description:** Charger Board Over Temperature Warning  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** POD  
**Receiver:** VCU_PT  

**Name:** POD_OBC_evt_fLineDetFlt  
**Description:** Line Frequency Detect Fault  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** POD  
**Receiver:** VCU_PT  

**Name:** POD_OBC_evt_fLineDetWrn  
**Description:** Line Frequency Detect Warning  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** POD  
**Receiver:** VCU_PT  

**Name:** POD_OBC_evt_tSensorFail  
**Description:** Temperature Sensor Fail  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** POD  
**Receiver:** VCU_PT  

**Name:** POD_OBC_evt_iLineOCFlt  
**Description:** Line Over Current Fault  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** POD  
**Receiver:** VCU_PT  

**Name:** POD_OBC_evt_iLineOCWrn  
**Description:** Line Over Current Warning  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** POD  
**Receiver:** VCU_PT  

**Name:** POD_OBC_evt_iLineImbalFlt  
**Description:** Line Current Imbalance Fault  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** POD  
**Receiver:** VCU_PT
Page 84
**Vehicle Control Unit**  
**VinFast Management System**   
**VFDSXXEEP5046**  
**Version: 1.0**  

### 5.5.3 Signal I/O  

**Name**: POD_OBC_evt_iLineImbalWrn  
**Description**: Line Current Imbalance Warning  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_vDCLinkUVFlt  
**Description**: DC Link Undervoltage Fault  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_vDCLinkUVWrn  
**Description**: DC Link Undervoltage Warning  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_isoPwrFail  
**Description**: ISO Power Fail  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_iOutOCFlt  
**Description**: Output Over Current Fault  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_iOutOCWrn  
**Description**: Output Over Current Warning  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_iOutNegOCFlt  
**Description**: Output Negative Over Current Fault  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_tColdPlateOTFlt  
**Description**: Cold Plate Over Temperature Fault  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_tColdPlateOTWrn  
**Description**: Cold Plate Over Temperature Warning  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_iLine1SensorErr  
**Description**: Line1 Current Sensor Error  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_iLine2SensorErr  
**Description**: Line2 Current Sensor Error  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_iLine3SensorErr  
**Description**: Line3 Current Sensor Error  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_iLine4SensorErr  
**Description**: Line4 Current Sensor Error  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_evt_iOutSensorErr  
**Description**: Output Current Sensor Error  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_OBC_AppVersion_mia  
**Description**: Status of OBC App Version msg  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT  

**Name**: POD_DCDC_AppVersion_mia  
**Description**: Status of DCDC App Version msg  
**I/O**: Input  
**Min**: 0  
**Max**: 1  
**Value Description**: n.a  
**Sender**: POD  
**Receiver**: VCU_PT
Page 85
### 5.5.3 Signal I/O

#### Signal Information:

1. **POD_BOOT_Broadcast_mia**  
   - **Description:** Status of Bootloader Broadcast  
   - **I/O:** Input  
   - **Min:** 0  
   - **Max:** 1  
   - **Value Description:** n.a  
   - **Sender:** POD  
   - **Receiver:** VCU_PT  

2. **POD_BMS_Status0x249_mia**  
   - **Description:** Status of BMS  
   - **I/O:** Input  
   - **Min:** 0  
   - **Max:** 1  
   - **Value Description:** n.a  
   - **Sender:** POD  
   - **Receiver:** VCU_PT  

3. **POD_OBC_Status0x313_mia**  
   - **Description:** Status of OBC Status 0x313  
   - **I/O:** Input  
   - **Min:** 0  
   - **Max:** 1  
   - **Value Description:** n.a  
   - **Sender:** POD  
   - **Receiver:** VCU_PT  

4. **POD_FC_Status0x327_mia**  
   - **Description:** Status of FC Status 0x327  
   - **I/O:** Input  
   - **Min:** 0  
   - **Max:** 1  
   - **Value Description:** n.a  
   - **Sender:** POD  
   - **Receiver:** VCU_PT  

5. **POD_DCDC_Thermal0x366_mia**  
   - **Description:** Status of DCDC Thermal 0x366  
   - **I/O:** Input  
   - **Min:** 0  
   - **Max:** 1  
   - **Value Description:** n.a  
   - **Sender:** POD  
   - **Receiver:** VCU_PT  

6. **POD_DCDC_Status0x346_mia**  
   - **Description:** Status of DCDC Status 0x346  
   - **I/O:** Input  
   - **Min:** 0  
   - **Max:** 1  
   - **Value Description:** n.a  
   - **Sender:** POD  
   - **Receiver:** VCU_PT  

7. **POD_DCDC_Status0x326_mia**  
   - **Description:** Status of DCDC Status 0x326  
   - **I/O:** Input  
   - **Min:** 0  
   - **Max:** 1  
   - **Value Description:** n.a  
   - **Sender:** POD  
   - **Receiver:** VCU_PT  

8. **POD_BOOT_Broadcast_chksum**  
   - **Description:** Status of Bootloader Broadcast checksum  
   - **I/O:** Input  
   - **Min:** 0  
   - **Max:** 1  
   - **Value Description:** n.a  
   - **Sender:** POD  
   - **Receiver:** VCU_PT  

9. **POD_BMS_Status0x249_chksum**  
   - **Description:** Status of BMS checksum  
   - **I/O:** Input  
   - **Min:** 0  
   - **Max:** 1  
   - **Value Description:** n.a  
   - **Sender:** POD  
   - **Receiver:** VCU_PT  

10. **POD_OBC_Status0x323_chksum**  
    - **Description:** Status of OBC Status 0x323 checksum  
    - **I/O:** Input  
    - **Min:** 0  
    - **Max:** 1  
    - **Value Description:** n.a  
    - **Sender:** POD  
    - **Receiver:** VCU_PT  

11. **POD_OBC_Status0x313_chksum**  
    - **Description:** Status of OBC Status 0x313 checksum  
    - **I/O:** Input  
    - **Min:** 0  
    - **Max:** 1  
    - **Value Description:** n.a  
    - **Sender:** POD  
    - **Receiver:** VCU_PT  

12. **POD_FC_Status0x327_chksum**  
    - **Description:** Status of FC Status 0x327 check sum  
    - **I/O:** Input  
    - **Min:** 0  
    - **Max:** 1  
    - **Value Description:** n.a  
    - **Sender:** POD  
    - **Receiver:** VCU_PT  

13. **POD_DCDC_Thermal0x366_chksum**  
    - **Description:** Status of DCDC Thermal 0x366 checksum  
    - **I/O:** Input  
    - **Min:** 0  
    - **Max:** 1  
    - **Value Description:** n.a  
    - **Sender:** POD  
    - **Receiver:** VCU_PT  

14. **POD_DCDC_Status0x346_chksum**  
    - **Description:** Status of DCDC Status 0x346 checksum  
    - **I/O:** Input  
    - **Min:** 0  
    - **Max:** 1  
    - **Value Description:** n.a  
    - **Sender:** POD  
    - **Receiver:** VCU_PT  

15. **POD_DCDC_Status0x326_chksum**  
    - **Description:** Status of DCDC Status 0x326 checksum  
    - **I/O:** Input  
    - **Min:** 0  
    - **Max:** 0  
    - **Value Description:** n.a  
    - **Sender:** POD  
    - **Receiver:** VCU_PT
Page 86
### 5.5.3 Signal I/O

#### Table of Signal Descriptions
Below is the detailed input status information for components in the Vehicle Control Unit (VCU), including sender and receiver mappings, range, and descriptions.

**Name:** POD_BOOT_Broadcast_alivecntr  
- **Description:** Status of Bootloader Broadcast alive counter  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:** n.a  
- **Sender:** POD  
- **Receiver:** VCU_PT  

**Name:** POD_BMS_Status0x249_alivecntr  
- **Description:** Status of BMS status alive counter  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:** n.a  
- **Sender:** POD  
- **Receiver:** VCU_PT  

**Name:** POD_DCDC_Status0x326_alivecntr  
- **Description:** Status of DCDC Status 0x326 alive counter  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:** n.a  
- **Sender:** POD  
- **Receiver:** VCU_PT  

**Name:** POD_OBC_Status0x313_alivecntr  
- **Description:** Status of OBC Status 0x313 alive counter  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:** n.a  
- **Sender:** POD  
- **Receiver:** VCU_PT  

**Name:** POD_FC_Status0x327_alivecntr  
- **Description:** Status of FC Status 0x327 alive counter  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:** n.a  
- **Sender:** POD  
- **Receiver:** VCU_PT  

**Name:** POD_DCDC_Thermal0x366_alivecntr  
- **Description:** Status of DCDC Thermal 0x366 alive counter  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 0  
- **Value Description:** n.a  
- **Sender:** POD  
- **Receiver:** VCU_PT  

**Name:** POD_DCDC_Status0x346_alivecntr  
- **Description:** Status of DCDC Status 0x346 alive counter  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:** n.a  
- **Sender:** POD  
- **Receiver:** VCU_PT  

**Name:** POD_OBC_Status0x323_alivecntr  
- **Description:** Status of OBC Status 0x323 alive counter  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:** n.a  
- **Sender:** POD  
- **Receiver:** VCU_PT  

**Name:** POD_BMS_Coolant_mia  
- **Description:** Status of BMS coolant  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:** n.a  
- **Sender:** POD  
- **Receiver:** VCU_PT  

**Name:** POD_VCU_podInfo_mia  
- **Description:** Status of VCU POD Info  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:** n.a  
- **Sender:** POD  
- **Receiver:** VCU_PT  

**Name:** POD_VCU_ThermalInfoFb_mia  
- **Description:** Status of VCU Thermal info Feedback  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:** n.a  
- **Sender:** POD  
- **Receiver:** VCU_PT  

**Name:** POD_VCU_NM_mia  
- **Description:** Status of VCU NM mia  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:** n.a  
- **Sender:** POD  
- **Receiver:** VCU_PT  

**Name:** POD_BMS_Coolant_chksum  
- **Description:** Status of BMS coolant checksum  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:** n.a  
- **Sender:** POD  
- **Receiver:** VCU_PT  

**Name:** POD_VCU_podInfo_chksum  
- **Description:** Status of VCU POD Info checksum  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:** n.a  
- **Sender:** POD  
- **Receiver:** VCU_PT  

**Name:** POD_VCU_ThermalInfoFb_chksum  
- **Description:** Status of VCU Thermal info Feedback checksum  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:** n.a  
- **Sender:** POD  
- **Receiver:** VCU_PT
Page 87
5.5.3 Signal I/O.

Name: **POD_VCU_NM_chksum**  
Description: Status of VCU NM checksum.  
I/O: Input  
Min: 0  
Max: 1  
Value Description: n.a  
Sender: POD  
Receiver: VCU_PT  

Name: **POD_BMS_Coolant_alivecntr**  
Description: Status of BMS coolant alive counter.  
I/O: Input  
Min: 0  
Max: 1  
Value Description: n.a  
Sender: POD  
Receiver: VCU_PT  

Name: **POD_VCU_podInfo_alivecntr**  
Description: Status of VCU POD Info alive counter.  
I/O: Input  
Min: 0  
Max: 1  
Value Description: n.a  
Sender: POD  
Receiver: VCU_PT  

Name: **POD_VCU_ThermalInfoFb_alivecntr**  
Description: Status of VCU Thermal info Feedback alive counter.  
I/O: Input  
Min: 0  
Max: 1  
Value Description: n.a  
Sender: POD  
Receiver: VCU_PT  

Name: **POD_VCU_NM_alivecntr**  
Description: Status of VCU NM alive counter.  
I/O: Input  
Min: 0  
Max: 1  
Value Description: n.a  
Sender: POD  
Receiver: VCU_PT  

Name: **CHSKM_POD_StatusCharger1**  
Description: Check sum.  
I/O: Input  
Min: 0  
Max: 255  
Value Description: n.a  
Sender: POD  
Receiver: VCU_PT  

Name: **POD_statusOBC**  
Description: OBC status.  
I/O: Input  
Min: 0  
Max: 7  
Value Description:  
  - 0 "OBC_OFF"  
  - 1 "OBC_STANDBY"  
  - 2 "OBC_ON_NORMAL"  
  - 3 "OBC_ON_VOLTAGE"  
  - 4 "OBC_DEGRADED"  
  - 5 "OBC_FAULT_SHUTDOWN"  
  - 6 "OBC_EMERGENCY_SHUTDOWN"  
  - 7 "OBC_STS_SNA"  
Sender: POD  
Receiver: VCU_PT  

Name: **ALV_POD_StatusCharger1**  
Description: Alive counter.  
I/O: Input  
Min: 0  
Max: 14  
Value Description: n.a  
Sender: POD  
Receiver: VCU_PT  

Name: **POD_OBC_Max_Current_Out**  
Description: Max DC current OBC able to output.  
I/O: Input  
Min: 0  
Max: 64  
Value Description: n.a  
Sender: POD  
Receiver: VCU_PT  

Name: **POD_iDCOut**  
Description: POD measured output current on OBC output.  
I/O: Input  
Min: 0  
Max: 64  
Value Description: n.a  
Sender: POD  
Receiver: VCU_PT
Page 88
**Vehicle Control Unit**  
**Vinfast Management System**  
**VFDSXXEEP5046**  
Version: 1.0  

**5.5.3 Signal I/O**

- **POD_vDCOut:** Measures bus voltage at OBC output.  
  - **I/O:** Input  
  - **Min:** 0  
  - **Max:** 512  
  - **Value Description:** n.a  
  - **Sender:** POD  
  - **Receiver:** VCU_PT  

- **CHSKM_POD_StatusCharger2:** Check sum.  
  - **I/O:** Input  
  - **Min:** 0  
  - **Max:** 255  
  - **Value Description:** n.a  
  - **Sender:** POD  
  - **Receiver:** VCU_PT  

- **ALV_POD_StatusCharger2:** Alive counter.  
  - **I/O:** Input  
  - **Min:** 0  
  - **Max:** 14  
  - **Value Description:** n.a  
  - **Sender:** POD  
  - **Receiver:** VCU_PT  

- **POD_iACInput:** Measures current on AC input.  
  - **I/O:** Input  
  - **Min:** 0  
  - **Max:** 60  
  - **Value Description:** n.a  
  - **Sender:** POD  
  - **Receiver:** VCU_PT  

- **POD_vACInput:** Measures voltage on AC input.  
  - **I/O:** Input  
  - **Min:** 0  
  - **Max:** 512  
  - **Value Description:** n.a  
  - **Sender:** POD  
  - **Receiver:** VCU_PT  

- **POD_tempACCharger:** Measures temperature on AC charger.  
  - **I/O:** Input  
  - **Min:** -30  
  - **Max:** 150  
  - **Value Description:** n.a  
  - **Sender:** POD  
  - **Receiver:** VCU_PT  

- **POD_tempColdplate:** Measures coolant temperature into the 3in1.  
  - **I/O:** Input  
  - **Min:** -40  
  - **Max:** 130  
  - **Value Description:** n.a  
  - **Sender:** POD  
  - **Receiver:** VCU_PT  

- **CHSKM_POD_StatusDCDC1:** Check sum.  
  - **I/O:** Input  
  - **Min:** 0  
  - **Max:** 255  
  - **Value Description:** n.a  
  - **Sender:** POD  
  - **Receiver:** VCU_PT  

- **POD_statusDCDC:** Provides DCDC status.  
  - **I/O:** Input  
  - **Min:** 0  
  - **Max:** 7  
  - **Value Description:**  
    - 0: DCDC_OFF  
    - 1: DCDC_STANDBY  
    - 2: DCDC_ON  
    - 3: DCDC_RESERVED  
    - 4: DCDC_DEGRADED  
    - 5: DCDC_FAULT_SHUTDOWN  
    - 6: DCDC_EMERGENCY_SHUTDOWN  
    - 7: DCDC_STS_SNA  
  - **Sender:** POD  
  - **Receiver:** VCU_PT  

- **ALV_POD_StatusDCDC1:** Alive counter.  
  - **I/O:** Input  
  - **Min:** 0  
  - **Max:** 14  
  - **Value Description:** n.a  
  - **Sender:** POD  
  - **Receiver:** VCU_PT
Page 89
### Vehicle Control Unit

#### POD_DCDC_Max_Current_Out
- Description: Max LV current DCDC able to output.
- I/O: Input.
- Min: 0.
- Max: 250.
- Value Description: n.a.
- Sender: POD.
- Receiver: VCU_PT.

#### CHSKM_POD_StatusFC
- Description: Check sum POD_StatusFC.
- I/O: Input.
- Min: 0.
- Max: 255.
- Value Description: n.a.
- Sender: POD.
- Receiver: VCU_PT.

#### ALV_POD_StatusFC
- Description: Alive counter POD_StatusFC.
- I/O: Input.
- Min: 0.
- Max: 14.
- Value Description: n.a.
- Sender: POD.
- Receiver: VCU_PT.

#### POD_vFC
- Description: POD measured voltage on charge port side of fast charge contactors.
- I/O: Input.
- Min: 0.
- Max: 512.
- Value Description: n.a.
- Sender: POD.
- Receiver: VCU_PT.

#### POD_statusFCContactors
- Description: DC charge contactor.
- I/O: Input.
- Min: 0.
- Max: 7.
- Value Description:
  - 0: "FC_CONTACTORS_OPEN".
  - 1: "FC_CONTACTORS_CLOSING".
  - 2: "FC_CONTACTORS_CLOSED".
  - 3: "FC_CONTACTORS_OPENING".
  - 4: "FC_CONTACTORS_WELDED".
  - 7: "FC_CONTACTORS_SNA".
- Sender: POD.
- Receiver: VCU_PT.

#### CHSKM_POD_StatusDCDC2
- Description: Check sum.
- I/O: Input.
- Min: 0.
- Max: 255.
- Value Description: n.a.
- Sender: POD.
- Receiver: VCU_PT.

#### ALV_POD_StatusDCDC2
- Description: Alive counter.
- I/O: Input.
- Min: 0.
- Max: 14.
- Value Description: n.a.
- Sender: POD.
- Receiver: VCU_PT.

#### POD_vDCInput
- Description: POD measured DC bus voltage at DCDC input.
- I/O: Input.
- Min: 0.
- Max: 512.
- Value Description: n.a.
- Sender: POD.
- Receiver: VCU_PT.

#### POD_iDCDCOutput
- Description: POD reported 12V current.
- I/O: Input.
- Min: 0.
- Max: 300.
- Value Description: n.a.
- Sender: POD.
- Receiver: VCU_PT.

#### POD_vDCDCOutput
- Description: POD reported 12V voltage.
- I/O: Input.
- Min: 0.
- Max: 18.
- Value Description: n.a.
- Sender: POD.
- Receiver: VCU_PT.

#### CHSKM_POD_Thermal
- Description: Check sum.
- I/O: Input.
- Min: 0.
- Max: 255.
- Value Description: n.a.
- Sender: POD.
- Receiver: VCU_PT.
Page 90
ALV_PPOD_POD_Thermal. Alive counter for POD Thermal status.

POD_tempHVBusPlus. Reported temperature of the positive HV busbar, ranging from -30°C to 150°C.

POD_tempHVBusNeg. Reported temperature of the negative HV busbar, ranging from -30°C to 150°C.

POD_tempInternal. Reported internal temperature, ranging from -30°C to 150°C.

POD_FlowRate_Req. Flow rate required for the POD, ranging from 0 to 50 with no additional value description.

POD_CoolPwrDemand. Cooling power requested by the POD, ranging from 0 to 10 with no additional value description.

POD_srcNodeID. Network management signal for POD, ranging from 0 to 255.

POD_CtrlBitVector. Network management signal for POD, ranging from 0 to 255.

POD_usrData0. Network management signal for POD with a value range of 0 to 255.

POD_usrData1. Network management signal for POD with a value range of 0 to 255.

POD_usrData2. Network management signal for POD with a value range of 0 to 255.

POD_usrData3. Network management signal for POD with a value range of 0 to 255.

POD_usrData4. Network management signal for POD with a value range of 0 to 255.

POD_usrData5. Network management signal for POD with a value range of 0 to 255.
Page 91
### Vehicle Control Unit - VinFast Management System VFDSXXEEP5046

---

**Version:** 1.0  
**Print Date:**  
**Status:** Uncontrolled copy when printed  
**Page:** 91 of 208  

---

#### Defined Outputs:

1. **VCU_MHU_Ack_ChgSche_stt**  
   Status Enabled/Disabled of Schedule Charging acknowledged by VCU based on the request from MHU 0x403 MHU_ChargeScheduleSet.  
   - **I/O:** Output  
   - **Min:** 0  
   - **Max:** 3  
   - **Value Description:**  
     - 3 "Reserved"  
     - 2 "Unknown_Invalid"  
     - 1 "Disabled"  
     - 0 "Enabled"  
   - **Sender:** VCU_PT  
   - **Receiver:** XGW_PT  

2. **VCU_MHU_Ack_TargetSOC**  
   Target SOC acknowledged by VCU based on the request from MHU.  
   - **I/O:** Output  
   - **Min:** 10  
   - **Max:** 100  
   - **Value Description:** n.a  
   - **Sender:** VCU_PT  
   - **Receiver:** XGW_PT  

3. **VCU_DCChgGunIn**  
   Connection status of DC Fast Charging Gun.  
   - **I/O:** Output  
   - **Min:** 0  
   - **Max:** 1  
   - **Value Description:**  
     - 1 "connect"  
     - 0 "disconnect"  
   - **Sender:** VCU_PT  
   - **Receiver:** XGW_PT  

4. **VCU_AcChgGunIn**  
   Slow Charge Gun Insert Status.  
   - **I/O:** Output  
   - **Min:** 0  
   - **Max:** 1  
   - **Value Description:**  
     - 1 "connect"  
     - 0 "disconnect"  
   - **Sender:** VCU_PT  
   - **Receiver:** XGW_PT  

5. **VCU_CPValue**  
   Charging port duty cycle value (PWM).  
   - **I/O:** Output  
   - **Min:** 0  
   - **Max:** 100  
   - **Value Description:**  
     - 127 "Invalid"  
   - **Sender:** VCU_PT  
   - **Receiver:** XGW_PT  

6. **VCU_MinCurrentOfACCharging**  
   Minimum charging current of this AC charging connection.  
   - **I/O:** Output  
   - **Min:** 0  
   - **Max:** 7  
   - **Value Description:** n.a  
   - **Sender:** VCU_PT  
   - **Receiver:** XGW_PT  

7. **VCU_ACChargingVoltage**  
   The power of this AC charging connection in KW.  
   - **I/O:** Output  
   - **Min:** 0  
   - **Max:** 255  
   - **Value Description:** n.a  
   - **Sender:** VCU_PT  
   - **Receiver:** XGW_PT  

8. **VCU_MaxCurrentOfACCharging**  
   Maximum charging current of AC charging.  
   - **I/O:** Output  
   - **Min:** 0  
   - **Max:** 63  
   - **Value Description:** n.a  
   - **Sender:** VCU_PT  
   - **Receiver:** XGW_PT  

9. **VCU_enableDCDC**  
   Requests DCDC to turn on.  
   - **I/O:** Output  
   - **Min:** 0  
   - **Max:** 3  
   - **Value Description:**  
     - 0 "Request OFF"  
     - 1 "Request ON"  
   - **Sender:** VCU_PT  
   - **Receiver:** POD  

10. **VCU_vDCDCRequest**  
    Voltage output request for DCDC.  
    - **I/O:** Output  
    - **Min:** 9  
    - **Max:** 16  
    - **Value Description:** n.a  
    - **Sender:** VCU_PT  
    - **Receiver:** POD  

---

**VinFast Released**
Page 92
Name: VCU_iDCDCRequest_lim  
Description: This signal indicates limit value for output current, calculated based on 12V power management strategy and limited by POD_DCDC_Max_Current_Out.  
I/O: Output  
Min: 0  
Max: 300  
Value Description: n.a.  
Sender: VCU_PT  
Receiver: POD  

Name: VCU_enableOBC  
Description: Requests OBC to turn on.  
I/O: Output  
Min: 0  
Max: 7  
Value Description:  
- 0 "OBC_OFF"  
- 1 "OBC_ON_NORMAL"  
- 2 "OBC_ON_VOLTAGE"  
Sender: VCU_PT  
Receiver: POD  

Name: VCU_enableFC  
Description: E2E - Requests FC Contactors to close.  
I/O: Output  
Min: 0  
Max: 1  
Value Description:  
- 0 "Request OPEN"  
- 1 "Request CLOSE"  
Sender: VCU_PT  
Receiver: POD  

Name: VCU_iLineLimit  
Description: AC line current limit.  
I/O: Output  
Min: 0  
Max: 48  
Value Description: n.a.  
Sender: VCU_PT  
Receiver: POD  

Name: VCU_iOBCRequest  
Description: Requested OBC DC output current.  
I/O: Output  
Min: 0  
Max: 48  
Value Description: n.a.  
Sender: VCU_PT  
Receiver: POD  

Name: VCU_vOBCRequest  
Description: Requested OBC DC output voltage.  
I/O: Output  
Min: 240  
Max: 470  
Value Description: n.a.  
Sender: VCU_PT  
Receiver: POD  

Name: VCU_ChgPort_Open_stt  
Description: Open status of charging port.  
I/O: Output  
Min: 0  
Max: 1  
Value Description:  
- 0 "Closed"  
- 1 "Opening"  
Sender: VCU_PT  
Receiver: XGW_PT  

Name: VCU_ChgGun_BadConn_stt  
Description: Charging gun bad connection status.  
I/O: Output  
Min: 0  
Max: 1  
Value Description:  
- 0 "No error"  
- 1 "Bad connection"  
Sender: VCU_PT  
Receiver: XGW_PT  

Name: VCU_Charging_Authen_stt  
Description: Authentication status with charging station (for display only).  
I/O: Output  
Min: 0  
Max: 7  
Value Description:  
- 0 "Not authenticating"  
- 1 "Authenticating"  
- 2 "Authen success"  
- 3 "Authen failed"  
- 4 "Forbidden"  
Sender: VCU_PT  
Receiver: XGW_PT
Page 93
Name: VCU_Hvbatt_charging_stt.  
Description: HV battery charging - not charging status, for displaying only (for both regen/charging).  
I/O: Output.  
Min: 0.  
Max: 1.  
Value Description: 0 - "Not charging", 1 - "Charging".  
Sender: VCU_PT.  
Receiver: XGW_PT.  

Name: VCU_ChgPort_Lock_stt.  
Description: Lock status of the charging port.  
I/O: Output.  
Min: 0.  
Max: 1.  
Value Description: 0 - "Locked", 1 - "Released".  
Sender: VCU_PT.  
Receiver: XGW_PT.  

Name: Checksum_0x126.  
Description: Checksum.  
I/O: Input.  
Min: 0.  
Max: 255.  
Value Description: n.a.  
Sender: BMS.  
Receiver: VCU_BA.  

Name: Rolling_Counter_0x126.  
Description: Rolling Counter.  
I/O: Input.  
Min: 0.  
Max: 14.  
Value Description: n.a.  
Sender: BMS.  
Receiver: VCU_BA.  

Name: BMS_AllowChgCurr.  
Description: Continuous maximum allowable charge current of the battery.  
I/O: Input.  
Min: 0.  
Max: 1500.  
Value Description: n.a.  
Sender: BMS.  
Receiver: VCU_BA.  

Name: BMS_AllowChgCurrPeak.  
Description: Peak allowable charge current of the battery.  
I/O: Input.  
Min: 0.  
Max: 1500.  
Value Description: n.a.  
Sender: BMS.  
Receiver: VCU_BA.  

Name: Checksum_0x125.  
Description: Checksum.  
I/O: Input.  
Min: 0.  
Max: 255.  
Value Description: n.a.  
Sender: BMS.  
Receiver: VCU_BA.  

Name: Rolling_Counter_0x125.  
Description: Rolling Counter.  
I/O: Input.  
Min: 0.  
Max: 14.  
Value Description: n.a.  
Sender: BMS.  
Receiver: VCU_BA.  

Name: BMS_AllowDischgCurr.  
Description: Continuous maximum allowable discharge current of the battery.  
I/O: Input.  
Min: 0.  
Max: 1500.  
Value Description: n.a.  
Sender: BMS.  
Receiver: VCU_BA.  

Name: BMS_AllowDischgCurrPeak.  
Description: Peak maximum allowable discharge current of the battery.  
I/O: Input.  
Min: 0.  
Max: 1500.  
Value Description: n.a.  
Sender: BMS.  
Receiver: VCU_BA.  

Name: Checksum_0x455.  
Description: Checksum.  
I/O: Input.  
Min: 0.  
Max: 255.  
Value Description: n.a.  
Sender: BMS.  
Receiver: VCU_BA.  

Name: Rolling_Counter_0x455.  
Description: Rolling Counter.  
I/O: Input.  
Min: 0.  
Max: 14.  
Value Description: n.a.  
Sender: BMS.  
Receiver: VCU_BA.
Page 94
Vehicle Control Unit VinFast Management System.

Version: 1.0.
Print date.
Uncontrolled copy when printed.
Status 94 of 208.

**Name:** BMS_CellLowVol_ERR.  
**Description:** Under voltage of the cell is detected.  
**I/O:** Input.  
**Min:** 0.  
**Max:** 3.  
**Value Description:**  
- 3: "Safety Error"  
- 2: "Error"  
- 1: "Warning"  
- 0: "Normal"  
**Sender:** BMS.  
**Receiver:** VCU_BA.  

**Name:** BMS_HVIL_Err.  
**Description:** High Voltage Interlock loop circuit error.  
**I/O:** Input.  
**Min:** 0.  
**Max:** 3.  
**Value Description:**  
- 3: "Level3"  
- 2: "Level2"  
- 1: "Level1"  
- 0: "Normal"  
**Sender:** BMS.  
**Receiver:** VCU_BA.  

**Name:** BMS_PackInsu_ERR.  
**Description:** Insulation check lines have problems, short to ground or short to battery.  
**I/O:** Input.  
**Min:** 0.  
**Max:** 3.  
**Value Description:**  
- 2: "Lv2-Short to vbat and open line"  
- 1: "Lv1 - Short to ground"  
- 0: "Lv0-No Err"  
**Sender:** BMS.  
**Receiver:** VCU_BA.  

**Name:** BMS_CellVoltDiff_ERR.  
**Description:** Max and min cell voltage difference is too large.  
**I/O:** Input.  
**Min:** 0.  
**Max:** 3.  
**Value Description:**  
- 3: "Safety Error"  
- 2: "Error"  
- 1: "Warning"  
- 0: "Normal"  
**Sender:** BMS.  
**Receiver:** VCU_BA.  

**Name:** BMS_ProbeTempDiff_ERR.  
**Description:** The difference in temperature between max and min is beyond the permissible limit.  
**I/O:** Input.  
**Min:** 0.  
**Max:** 3.  
**Value Description:**  
- 3: "Safety Error"  
- 2: "Error"  
- 1: "Warning"  
- 0: "Normal"  
**Sender:** BMS.  
**Receiver:** VCU_BA.  

**Name:** BMS_PackHighVol_ERR.  
**Description:** Pack voltage is higher than the permissible values.  
**I/O:** Input.  
**Min:** 0.  
**Max:** 3.  
**Value Description:**  
- 3: "Safety Error"  
- 2: "Error"  
- 1: "Warning"  
- 0: "Normal"  
**Sender:** BMS.  
**Receiver:** VCU_BA.  

**Name:** BMS_PackLowVol_ERR.  
**Description:** Pack voltage is lower than the permissible values.  
**I/O:** Input.  
**Min:** 0.  
**Max:** 3.  
**Value Description:**  
- 3: "Safety Error"  
- 2: "Error"  
- 1: "Warning"  
- 0: "Normal"  
**Sender:** BMS.  
**Receiver:** VCU_BA.  

**Name:** BMS_CellHighVol_ERR.  
**Description:** Over voltage of the cell is detected.  
**I/O:** Input.  
**Min:** 0.  
**Max:** 3.  
**Value Description:**  
- 3: "Safety Error"  
- 2: "Error"  
- 1: "Warning"  
- 0: "Normal"  
**Sender:** BMS.  
**Receiver:** VCU_BA.  

**Name:** BMS_ProbeHighTemp_ERR.  
**Description:** Over temperature of the cell is detected.  
**I/O:** Input.  
**Min:** 0.  
**Max:** 3.  
**Value Description:**  
- 3: "Safety Error"  
- 2: "Error"  
- 1: "Warning"  
- 0: "Normal"  
**Sender:** BMS.  
**Receiver:** VCU_BA.
Page 95
### Vehicle Control Unit Management System (Vinfast)

#### Version: 1.0  
**Print date:** Uncontrolled copy when printed  
**Status:** 95 of 208  

---

### List of Signals:

**BMS_FuseStatus_ERR:**  
Indicates the fuse and pyro fuse blowup status.   
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 1: Fuse blow  
  - 0: Normal  
- **Sender:** BMS  
- **Receiver:** VCU_BA  

**BMS_PackOverCurr_ERR:**  
Indicates when the overcurrent is detected during charging and discharging for the given period.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 3  
- **Value Description:**  
  - 3: Safety Error  
  - 2: Error  
  - 1: Warning  
  - 0: Normal  
- **Sender:** BMS  
- **Receiver:** VCU_BA  

**BMS_ProbeLowTemp_ERR:**  
Under-temperature of the cell is detected.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 3  
- **Value Description:**  
  - 3: Safety Error  
  - 2: Error  
  - 1: Warning  
  - 0: Normal  
- **Sender:** BMS  
- **Receiver:** VCU_BA  

**Checksum_0x225:**  
Checksum signal.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 255  
- **Value Description:** N/A  
- **Sender:** BMS  
- **Receiver:** VCU_BA  

**Rolling_Counter_0x225:**  
Rolling counter signal for verification.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 14  
- **Value Description:** N/A  
- **Sender:** BMS  
- **Receiver:** VCU_BA  

**CDM_bAcvCanComStblMon:**  
Monitored flag indicating active stable CAN communication.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 1: Error  
  - 0: No Error  
- **Sender:** BMS  
- **Receiver:** VCU_BA  

**FRMo_bErrHvbatStReqExtMon:**  
Collective error flag indicating HV battery state request E2E fault.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 1: Error  
  - 0: No Error  
- **Sender:** BMS  
- **Receiver:** VCU_BA  

**FRMo_bErrChrgnAllwdExtMon:**  
Collective error flag indicating charging allowed E2E fault.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 1: Error  
  - 0: No Error  
- **Sender:** BMS  
- **Receiver:** VCU_BA  

**FRMo_bErrVehCrashStExtMon:**  
Collective error flag indicating vehicle crash state E2E fault.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 1: Error  
  - 0: No Error  
- **Sender:** BMS  
- **Receiver:** VCU_BA  

**CDM_bErrComctnLossCanMon:**  
Error flag indicating total loss of CAN communication fault.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 1: Error  
  - 0: No Error  
- **Sender:** BMS  
- **Receiver:** VCU_BA  

---
**End of Signals List**  
VinFast Released.
Page 96
CTCMon_bErrCtctrSopcMon: Error flag indicating contactor switch-off path test fault. Input, Min: 0, Max: 1, Value Description: 1 "Error", 0 "No error". Sender: BMS, Receiver: VCU_BA.

CTCMon_bInvldCtctrHisdIFbMon: Error flag indicating high-side feedback current invalidity. Input, Min: 0, Max: 1, Value Description: 1 "Error", 0 "No error". Sender: BMS, Receiver: VCU_BA.

CTCMon_bInvldCtctrLosdUFbMon: Error flag indicating low-side feedback voltage invalidity. Input, Min: 0, Max: 1, Value Description: 1 "Error", 0 "No error". Sender: BMS, Receiver: VCU_BA.

CTM_bErrCellTDifMaxMon: Error flag indicating maximum cell temperature difference fault. Input, Min: 0, Max: 1, Value Description: 1 "Error", 0 "No error". Sender: BMS, Receiver: VCU_BA.

CTM_bErrCellTMaxMon: Error flag indicating maximum cell temperature limit fault. Input, Min: 0, Max: 1, Value Description: 1 "Error", 0 "No error". Sender: BMS, Receiver: VCU_BA.

CTM_bErrCellTMinMon: Error flag indicating minimum cell temperature limit fault. Input, Min: 0, Max: 1, Value Description: 1 "Error", 0 "No error". Sender: BMS, Receiver: VCU_BA.

CTM_bErrThrwyPredMon: Error flag indicating thermal runaway fault. Input, Min: 0, Max: 1, Value Description: 1 "Error", 0 "No error". Sender: BMS, Receiver: VCU_BA.

CUM_bErrCellUDifMaxMon: Error flag indicating maximum cell voltage difference fault. Input, Min: 0, Max: 1, Value Description: 1 "Error", 0 "No error". Sender: BMS, Receiver: VCU_BA.

CUM_bErrCellUMaxMon: Error flag indicating cell overvoltage fault. Input, Min: 0, Max: 1, Value Description: 1 "Error", 0 "No error". Sender: BMS, Receiver: VCU_BA.

CUM_bErrCellUMinMon: Error flag indicating cell undervoltage fault. Input, Min: 0, Max: 1, Value Description: 1 "Error", 0 "No error". Sender: BMS, Receiver: VCU_BA.
Page 97
Name: CUM_bErrCellUProtnMaxNvMon  
Description: Non-volatile error flag indicating cell overvoltage protection limit fault.  
I/O: Input  
Min: 0  
Max: 1  
Value Description:  
- 1 "Error"  
- 0 "No error"  
Sender: BMS  
Receiver: VCU_BA  

Name: CUM_bErrCellUProtnMinNvMon  
Description: Non-volatile error flag indicating cell undervoltage protection limit fault.  
I/O: Input  
Min: 0  
Max: 1  
Value Description:  
- 1 "Error"  
- 0 "No error"  
Sender: BMS  
Receiver: VCU_BA  

Name: CUM_bErrPackUImplyMon  
Description: Error flag indicating pack voltage implausibility.  
I/O: Input  
Min: 0  
Max: 1  
Value Description:  
- 1 "Error"  
- 0 "No error"  
Sender: BMS  
Receiver: VCU_BA  

Name: EHPMon_bRdyHvilMon  
Description: Ready flag indicating operational HVIL circuit.  
I/O: Input  
Min: 0  
Max: 1  
Value Description:  
- 1 "Error"  
- 0 "No error"  
Sender: BMS  
Receiver: VCU_BA  

Name: EHPMon_bErrWlddNegNvMon  
Description: Non-volatile error flag indicating welded negative contactor fault.  
I/O: Input  
Min: 0  
Max: 1  
Value Description:  
- 1 "Error"  
- 0 "No error"  
Sender: BMS  
Receiver: VCU_BA  

Name: EHPMon_bErrWlddPosNvMon  
Description: Non-volatile error flag indicating welded positive contactor fault.  
I/O: Input  
Min: 0  
Max: 1  
Value Description:  
- 1 "Error"  
- 0 "No error"  
Sender: BMS  
Receiver: VCU_BA  

Name: EHPMon_bErrWlddPrechNvMon  
Description: Non-volatile error flag indicating welded precharge contactor fault.  
I/O: Input  
Min: 0  
Max: 1  
Value Description:  
- 1 "Error"  
- 0 "No error"  
Sender: BMS  
Receiver: VCU_BA  

Name: EHPMon_bErrHvilMon  
Description: Error flag indicating HVIL open line fault.  
I/O: Input  
Min: 0  
Max: 1  
Value Description:  
- 1 "Error"  
- 0 "No error"  
Sender: BMS  
Receiver: VCU_BA  

Name: EHPMon_bErrHvilShoMon  
Description: Error flag indicating HVIL invalidity (ScG/ScB) fault.  
I/O: Input  
Min: 0  
Max: 1  
Value Description:  
- 1 "Error"  
- 0 "No error"  
Sender: BMS  
Receiver: VCU_BA  

Name: EHPMon_bErrPackIslnRNvMon  
Description: Non-volatile error flag indicating pack isolation issue.  
I/O: Input  
Min: 0  
Max: 1  
Value Description:  
- 1 "Error"  
- 0 "No error"  
Sender: BMS  
Receiver: VCU_BA
Page 98
Vehicle Control Unit Management System VFDSXXEEP5046.

Version: 1.0. Print Date. Uncontrolled copy when printed. Status: Page 98 of 208.

### Name and Description

#### Error Flags
- **EHPMon_bErrVehCrashNvMon:** Non-volatile error flag indicating vehicle crash fault.  
  - **Input:** 0–1.  
  - **Value Description:** 1 "Error," 0 "No error."  
  - **Sender:** BMS.  
  - **Receiver:** VCU_BA.

- **EHPMon_bErrVehIslnRNvMon:** Non-volatile error flag indicating vehicle level isolation resistance fault.  
  - **Input:** 0–1.  
  - **Value Description:** 1 "Error," 0 "No error."  
  - **Sender:** BMS.  
  - **Receiver:** VCU_BA.

- **FRMo_bErrMemStorgNvMon:** Error flag indicating storage fault in the non-volatile memory.  
  - **Input:** 0–1.  
  - **Value Description:** 1 "Error," 0 "No error."  
  - **Sender:** BMS.  
  - **Receiver:** VCU_BA.

- **L1IM_bErrClmp30MaxMonInp:** Error flag indicating Level 1 KL30 overvoltage fault.  
  - **Input:** 0–1.  
  - **Value Description:** 1 "Error," 0 "No error."  
  - **Sender:** BMS.  
  - **Receiver:** VCU_BA.

- **L1IM_bErrClmp30MinMonInp:** Error flag indicating Level 1 KL30 undervoltage fault.  
  - **Input:** 0–1.  
  - **Value Description:** 1 "Error," 0 "No error."  
  - **Sender:** BMS.  
  - **Receiver:** VCU_BA.

- **L1IM_bErrCtctrDtrtMonInp:** Error flag indicating Level 1 contactor deterioration fault.  
  - **Input:** 0–1.  
  - **Value Description:** 1 "Error," 0 "No error."  
  - **Sender:** BMS.  
  - **Receiver:** VCU_BA.

- **L1IM_bErrUActlmplyMonInp:** Error flag indicating Level 1 high voltage implausibility.  
  - **Input:** 0–1.  
  - **Value Description:** 1 "Error," 0 "No error."  
  - **Sender:** BMS.  
  - **Receiver:** VCU_BA.

- **MCCM_bAcvMdulCtlrStsMon:** Active flag indicating operational module controller status.  
  - **Input:** 0–1.  
  - **Value Description:** 1 "Error," 0 "No error."  
  - **Sender:** BMS.  
  - **Receiver:** VCU_BA.

- **MCCM_bErrLntecSngFltMon:** Error flag indicating single-point safety mechanism fault.  
  - **Input:** 0–1.  
  - **Value Description:** 1 "Error," 0 "No error."  
  - **Sender:** BMS.  
  - **Receiver:** VCU_BA.

VinFast Released.
Page 99
Name: MCCM_bErrLntecLtntFltMon.  
Description: Error flag indicating latent safety mechanism fault of the Multi-Stack Battery Monitor.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.

Name: MCCM_bErrMdulCellSnsrCfgMon.  
Description: Error flag indicating module/cell/temperature sensor configuration fault.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.

Name: MCCM_bErrMdulCtlrComMon.  
Description: Error flag indicating module controller communication status fault.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.

Name: MCCM_bErrSnsrTEltlMon.  
Description: Error flag indicating multiple temperature sensor in a module fault.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.

Name: MCCM_bWarnSnsrTEltlMon.  
Description: Error flag indicating single temperature sensor in a module fault.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.

Name: PCM_bRdySnsrIMon.  
Description: Ready flag indicating operational current sensors.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.

Name: PCM_bErrPackEFlowMaxLimMon.  
Description: Error flag indicating energy flow limit fault.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.

Name: PCM_bErrPackIChDchaMaxLimMon.  
Description: Error flag indicating pack current charging/discharging limit fault.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.
Page 100
Vehicle Control Unit. 

Vinfast Management System VFDSXXEEP5046 Version: 1.0.

Name: PCM_bErrSnsrIImplyMon.  
Description: Error flag indicating current sensor implausibility fault.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.  

Name: FRMo_bErrSnsrI1ExtMon.  
Description: Collective error flag indicating current sensor 1 (CAN-based shunt sensor) E2E fault.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.  

Name: PCM_bInvldSnsrI1Mon.  
Description: Error flag indicating current sensor 1 invalidity fault.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.  

Name: PCM_bInvldSnsrI2Mon.  
Description: Error flag indicating current sensor 2 invalidity fault.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.  

Name: FRMo_bErrSopcLvl3Mon.  
Description: Error flag indicating Level 3 switch-off path test fault.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.  

Name: BMS_FRMo_Reserved_1.  
Description: Fault monitor signal.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.  

Name: BMS_FRMo_Reserved_2.  
Description: Fault monitor signal.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.  

Name: BMS_FRMo_Reserved_3.  
Description: Fault monitor signal.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.  

Name: BMS_FRMo_Reserved_4.  
Description: Fault monitor signal.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.  

Name: BMS_FRMo_Reserved_5.  
Description: Fault monitor signal.  
I/O: Input.  
Min: 0.  
Max: 1.  
Value Description: 1 "Error", 0 "No error".  
Sender: BMS.  
Receiver: VCU_BA.  

Name: Checksum_0x330.  
Description: Checksum.  
I/O: Input.  
Min: 0.  
Max: 255.  
Value Description: n.a.  
Sender: BMS.  
Receiver: VCU_BA.  

Name: Rolling_Counter_0x330.  
Description: Rolling Counter.  
I/O: Input.  
Min: 0.  
Max: 14.  
Value Description: n.a.  
Sender: BMS.  
Receiver: VCU_BA.  

Name: BMS_ContactorAging.  
Description: Aging condition of contactor - PreCharge Relay - Positive Contactor - Negative Contactor.  
I/O: Input.  
Min: 0.  
Max: 100.  
Value Description: 2 "Fault counter reach 98%", 1 "Warning counter reach 90%", 0 "Normal".  
Sender: BMS.  
Receiver: VCU_BA.
Page 101
Name: BMS_PackInsuRes  
Description: Minimum value of BCU_PosInsuRes and BCU_NegInsuRes.  
I/O: Input  
Min: 0  
Max: 60000  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU_BA  

Name: CHSKM_BMS_Insulation  
Description: Checksum.  
I/O: Input  
Min: 0  
Max: 255  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU_BA  

Name: ALV_BMS_Insulation  
Description: Rolling Counter.  
I/O: Input  
Min: 0  
Max: 14  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU_BA  

Name: BMS_VCU_Insulation_Mon_Sts  
Description: Feedback for the Insulation Monitoring signal.  
I/O: Input  
Min: 0  
Max: 1  
Value Description: 0 "ON", 1 "OFF".  
Sender: BMS  
Receiver: VCU_BA  

Name: BMS_usrData0  
Description: Network Management Signal.  
I/O: Input  
Min: 0  
Max: 255  
Value Description: n.a.  
Sender: BMS  
Receiver: XGW_BA, VCU_BA  

Name: BMS_usrData1  
Description: Network Management Signal.  
I/O: Input  
Min: 0  
Max: 255  
Value Description: n.a.  
Sender: BMS  
Receiver: XGW_BA, VCU_BA  

Name: BMS_usrData2  
Description: Network Management Signal.  
I/O: Input  
Min: 0  
Max: 255  
Value Description: n.a.  
Sender: BMS  
Receiver: XGW_BA, VCU_BA  

Name: BMS_usrData3  
Description: Network Management Signal.  
I/O: Input  
Min: 0  
Max: 255  
Value Description: n.a.  
Sender: BMS  
Receiver: XGW_BA, VCU_BA  

Name: BMS_usrData4  
Description: Network Management Signal.  
I/O: Input  
Min: 0  
Max: 255  
Value Description: n.a.  
Sender: BMS  
Receiver: XGW_BA, VCU_BA  

Name: BMS_usrData5  
Description: Network Management Signal.  
I/O: Input  
Min: 0  
Max: 255  
Value Description: n.a.  
Sender: BMS  
Receiver: XGW_BA, VCU_BA  

Name: BMS_srcNodeID  
Description: Network Management Signal.  
I/O: Input  
Min: 0  
Max: 255  
Value Description: n.a.  
Sender: BMS  
Receiver: XGW_BA, VCU_BA  

Name: BMS_CtrlBitVector  
Description: Network Management Signal.  
I/O: Input  
Min: 0  
Max: 255  
Value Description: n.a.  
Sender: BMS  
Receiver: XGW_BA, VCU_BA  

Name: BMS_PackTemp_0x332  
Description: Pack Temperature.  
I/O: Input  
Min: -40  
Max: 215  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU_BA  

Name: Checksum_0x332  
Description: Checksum.  
I/O: Input  
Min: 0  
Max: 255  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU_BA  

Name: Rolling_Counter_0x332  
Description: Rolling Counter.  
I/O: Input  
Min: 0  
Max: 14  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU_BA
Page 102
Vehicle Control Unit

The "Vehicle Control Unit" of VinFast Management System (VFDSXXEEP5046) offers detailed insights into the Battery Management System (BMS). Below is a breakdown of the critical data points from this section.

### Data Points and Specifications:

1. **BMS_PackCNom**:  
   - Nominal capacity of the battery pack.  
   - **Input** data with range: Minimum = 0, Maximum = 65535.  
   - **Sender**: BMS, **Receiver**: VCU_BA.  

2. **Checksum_0x209**:  
   - Checksum.  
   - **Input** data with range: Minimum = 0, Maximum = 255.  
   - **Sender**: BMS, **Receiver**: VCU_BA.  

3. **Rolling_Counter_0x209**:  
   - Rolling Counter.  
   - **Input** data with range: Minimum = 0, Maximum = 14.  
   - **Sender**: BMS, **Receiver**: VCU_BA.  

4. **BMS_MaxDischgPwr_ALW**:  
   - Allow Max Discharge Power accepted.  
   - **Input** with range: Minimum = 0, Maximum = 400.  
   - **Sender**: BMS, **Receiver**: VCU_BA.  

5. **BMS_MaxChgPwr_ALW**:  
   - Allow Max Regenerative Power accepted.  
   - **Input** with range: Minimum = 0, Maximum = 400.  
   - **Sender**: BMS, **Receiver**: VCU_BA.  

6. **BMS_MaxDischgPwr_Peak**:  
   - Peak Discharge Power.  
   - **Input** with range: Minimum = 0, Maximum = 800.  
   - **Sender**: BMS, **Receiver**: VCU_BA.  

7. **BMS_MaxChgPwr_Peak**:  
   - Peak Regenerative Power.  
   - **Input** with range: Minimum = 0, Maximum = 800.  
   - **Sender**: BMS, **Receiver**: VCU_BA.  

8. **CHSKM_BMS_VCU_THMReq**:  
   - Checksum.  
   - **Input** with range: Minimum = 0, Maximum = 255.  
   - **Sender**: BMS, **Receiver**: VCU_BA.  

9. **ALV_BMS_VCU_THMReq**:  
   - Alive counter.  
   - **Input** with range: Minimum = 0, Maximum = 14.  
   - **Sender**: BMS, **Receiver**: VCU_BA.  

10. **BMS_FlowRate_Req**:  
    - Flow rate required for the battery pack.  
    - **Input** with range: Minimum = 0, Maximum = 50.  
    - **Sender**: BMS, **Receiver**: VCU_BA.  

11. **BMS_CoolPwrDemand**:  
    - Cooling power request for the battery pack.  
    - **Input** with range: Minimum = 0, Maximum = 10.  
    - **Sender**: BMS, **Receiver**: VCU_BA.  

12. **BMS_HeatPwrDemand**:  
    - Heating power request for the battery pack.  
    - **Input** with range: Minimum = 0, Maximum = 10.  
    - **Sender**: BMS, **Receiver**: VCU_BA.  

13. **BMS_VCU_PTCOnOff_Req**:  
    - PTC Heater On/Off request.  
    - **Input** with range: Minimum = 0, Maximum = 1.  
      - "1 = ON", "0 = OFF".  
    - **Sender**: BMS, **Receiver**: VCU_BA.  

14. **BMS_VCU_ValveOnOff_Req**:  
    - Valve On/Off request.  
    - **Input** with range: Minimum = 0, Maximum = 1.  
      - "1 = Open", "0 = Close".  
    - **Sender**: BMS, **Receiver**: VCU_BA.  

15. **Checksum_0x205**:  
    - Checksum.  
    - **Input** with range: Minimum = 0, Maximum = 255.  
    - **Sender**: BMS, **Receiver**: VCU_BA.  

16. **Rolling_Counter_0x205**:  
    - Rolling Counter.  
    - **Input** with range: Minimum = 0, Maximum = 14.  
    - **Sender**: BMS, **Receiver**: VCU_BA.
Page 103
Name: BMS_CellNumMinCellVol  
Description: Cell Number of Min Cell Voltage.  
I/O: Input  
Min: 0  
Max: 255  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU_BA  

Name: BMS_CellNumMaxCellVol  
Description: Cell Number of Max Cell Voltage.  
I/O: Input  
Min: 0  
Max: 255  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU_BA  

Name: BMS_MinCellVol  
Description: Min Cell Voltage.  
I/O: Input  
Min: 0  
Max: 6  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU_BA  

Name: BMS_MaxCellVol  
Description: Max Cell Voltage.  
I/O: Input  
Min: 0  
Max: 6  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU_BA  

Name: Checksum_0x206  
Description: Checksum.  
I/O: Input  
Min: 0  
Max: 255  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU_BA  

Name: Rolling_Counter_0x206  
Description: Rolling Counter.  
I/O: Input  
Min: 0  
Max: 14  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU_BA  

Name: BMS_MaxMinDiffCellVol  
Description: Max and min cell voltage differences.  
I/O: Input  
Min: 0  
Max: 2  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU_BA
Page 104
5.6 Energy Management.

5.6.1 Design Level Requirements.

5.6.1.1 DCDC Control.

Low voltage monitoring and DCDC control functional architecture is provided below.

**Figure 5-23 DCDC Control.**

### a. DCDC Input Mapping.
- DCDC system status shall be mapped based on Init, Standby, High voltage power up, Off, and Fault states.
- Actual low voltage power at DCDC shall be calculated based on actual LV current and voltage at DCDC.
- Actual high voltage power at DCDC shall be calculated based on actual HV current and voltage at DCDC.
- DCDC error level shall be mapped based on:
  - No fault.
  - Level 1: Slight fault.
  - Level 2: Minor fault.
  - Level 3: General fault.
  - Level 4: Serious fault.
  - Level 5: Fatal fault.
- DCDC output status shall be mapped based on Stop, Normal, and Fault statuses.
- DCDC over temperature error level shall be mapped based on Normal, Level 1, Level 2, and Level 3 states.
- DCDC warning status shall be mapped based on Normal or Error states.

### b. DCDC Status Control.
- The VCU shall control the DCDC control request and enable the DCDC converter if:
  - DCDC error level is not set as inhibit.
  - DCDC disable request is not enabled.
  - Actual HV voltage at DCDC is bigger than the minimum HV voltage required to enable DCDC.

### c. DCDC Setpoint Control.
- The VCU shall calculate the DCDC converter low voltage setpoint:
  - If DCDC control mode request is enabled, the DCDC routine active LV voltage setpoint shall be set.
  - Based on the DCDC maximum power limit and actual HV voltage at DCDC, DCDC maximum HV current and maximum HV power shall be calculated.
Page 105
5.6 Energy Management.

5.6.1 Design Level Requirements.

5.6.1.1 DCDC Control.

If DCDC error level is set for inhibit or derating, related DCDC inhibit or derating HV power shall be obtained. DCDC maximum LV current shall be calculated based on HV power, actual LV current, and voltage at DCDC.

**Low Voltage Charging Architecture.**

BCM sends power-up requests and triggers KL15 relays when the brake pedal is pressed.

VCU performs initial checks and executes BCM’s power-up request and commands HV power-up. HV contactors are closed. After VCU receives information from BMS that HV powered up successfully, VCU enables DCDC. VCU calculates the DCDC output voltage setpoint based on LV Battery SOC and LV battery temperature, as follows:
1. If the LV SOC is greater than 85%, the DCDC output voltage setpoint is 13.2V.
2. If LV SOC is lower than 80%, the voltage setpoint increases to 14.8V (based on MAP).
3. While the LV battery temperature increases, LV setpoint can drop down to 14V. Conversely, as LV battery temperature decreases down to -40°C, VCU increases the voltage setpoint up to 15V.

VCU then enables DCDC using:
- VCU_enableDCDC
- VCU_jDCDCRequest_lim
- VCU_vDCDCRequest.

**The calibration MAP**  
Horizontal axis: LV battery SOC.  
Vertical axis: LV battery temperature.  

The calibration table maps the voltage based on SOC and temperature, ranging with values from 13.2V to 15V depending on conditions.
Page 106
5.6 Energy Management

5.6.1 Design Level Requirements.

5.6.1.2 Regenerative Braking.
VCU shall control regenerative braking via the architecture shown below:

**Figure 5-24 Regenerative Braking.**

a. **Regenerative Braking Front Limitation.**  
The wheel regenerative limit shall be calculated based on the data from the torque split function.  
- If the regeneration brake disable request is set, the regeneration brake torque limit shall be zero.  
- Otherwise, the regeneration brake torque limit shall be equal to the calculated regeneration brake torque from the torque split function.  

b. **Regenerative Braking Rear Limitation.**  
The wheel regenerative limit shall be calculated based on the data from the torque split function.  
- If the regeneration brake disable request is set, the regeneration brake torque limit shall be zero.  
- Otherwise, the regeneration brake torque limit shall be equal to the calculated regeneration brake torque from the torque split function.  

c. **Regenerative Braking Front Target Torque.**  
The regenerative front target torque shall be calculated based on:  
- If the driver attempts to accelerate, the regenerative torque, apart from coasting, shall be equal to zero.  
- Otherwise, the value from IDB shall be used.
Page 107
5.6 Energy Management  
5.6.1 Design Level Requirements  

5.6.1.2 Regenerative Braking  
VCU shall control regenerative braking via the architecture shown below:  

Figure 5-24 Regenerative Braking  

### a. Regenerative Braking Rear Target Torque  
The regenerative rear target torque shall be calculated based on:  
- If the driver attempts to accelerate, the regen torque, apart from coasting, shall be equal to zero.  
- Otherwise, the value from IDB shall be used.  

### b. Regenerative Braking Front Arbitration  
- The resultant target regen torque shall be calculated for torque path involvement after regenerative braking limitation is applied.  
- It shall be indicated if the regenerative torque is active.  
- The regenerative brake mode shall be determined.  

### c. Regenerative Braking Rear Arbitration  
- The resultant target regen torque shall be calculated for torque path involvement after regenerative braking limitation is applied.  
- It shall be indicated if the regenerative torque is active.  
- The regenerative brake mode shall be determined.  

### d. Regenerative Braking Front Actual Torque  
Regenerative Braking Actual Torque shall be calculated based on EM actual torque and result torque request.  

### e. Regenerative Braking Rear Actual Torque  
Regenerative Braking Actual Torque shall be calculated based on EM actual torque and result torque request.  

### f. Regenerative Braking Diagnostics  
- The diagnostics of the regenerative braking signals shall be done.  
- The component error level state shall be calculated, and invalid inputs shall be detected.
Page 108
5.6 Energy Management.

5.6.1 Design Level Requirements.

5.6.1.3 Coast Mode Request.

VCU shall handle coast mode request function via the architecture shown below.

Figure 5-25 Coast Mode Request.

Coast down torque request is indicated in Pedal Acquisition Function Section. In this section, determination of the coast mode shall be explained.

a. Coast Mode Input Function.  
Different coast modes are selected via maps according to this interface “MHU_RegenStyle” (0 "Normal," 1 "Low," 2 "Reserved," 3 "Signal Invalid").
Page 109
b. Coast Down Torque Evaluation  
The driver torque request based on one pedal driving shall be limited by maps.  

5.6.1.4 Energy Consumption & Remaining Mileage  

a. Average and Instant Energy Consumption  
VCU calculates the average and instantaneous energy consumption of the vehicle according to the vehicle speed, current, and voltage of the battery. Energy consumption is defined as how many kilowatt-hours per 100 km. The calculation of the average power consumption should be based on the driving conditions of the past calibratable kilometers. The MHU does not show this energy consumption rate if the distance of this drive cycle is less than calibratable. Therefore, VCU needs to collect voltage, current of the battery, and speed in real time, and use this information to calculate the average and instant energy consumption, sending the results to MHU through CAN; Average energy consumption shall be reset when the key state is off.  

b. Remaining Mileage  
VCU calculates the remaining mileage and sends it to IPC/HMI. VCU shall calculate the remaining mileage according to the average energy consumption per 100km, SOC, current and voltage, and total mileage of BMS. When SOC = 0%, the remaining mileage shall be 0. The remaining mileage shall be calculated in real time and remaining mileage shall not be increased. When SOC is 100%, the remaining mileage should be a calibratable value for the distance range. The remaining mileage shall not jump; the change rate of remaining mileage should be less than calibratable.  

In driving mode, the driving range is obtained by dividing the remaining energy of the battery pack by the average power consumption. The remaining mileage display of the vehicle shall remain unchanged before power on and off. When the vehicle is fully charged, the maximum allowable mileage of the instrument is a calibratable number of kilometers. When the SOC changes, the maximum allowable mileage of the instrument shall change linearly with the SOC.  

Remain range estimation shall be updated when the vehicle ground speed is above a calibratable value, with the update flag based on the flag of reaching a calibratable distance. Otherwise, it shall be updated when the difference between the current remain range estimation and the last remain range estimation is above a calibratable value, and it shall be updated in every calibratable second.  

During the normal charging process, the remaining mileage is allowed to change once every calibratable second. In driving mode, if vehicle speed is higher than a calibratable value, range estimation shall be updated in each kilometer.
Page 110
Remaining Mileage Architecture

The architecture illustrates the interface between the HMI/MHU, VCU, EDS, and BCU/BMS for calculating and displaying remaining mileage information.

**HMI/MHU Functions:**
- Reset Trip A.
- Reset Trip B.
- Drive Stats Selection.
- Charging Limit.
- Indicators including:
  - VCU_ChgPort_stt.
  - VCU_AcChgGunIn.
  - VCU_PcChgGunIn.
  - VCU_RunningRange_charged_estStatus.
  - VCU_RunningRange_charged.
  - VCU_HvBatSoc_charged.
  - VCU_HvBatSoc_charged_estStatus.

**VCU Functions:**
The VCU calculates various vehicle functionalities such as readiness to drive, gear display, and energy indicators, and sends this data to HMI/MHU through indicators:
- Ready to drive.
- HV System Error.
- Degradation / LimpHome.
- Gear display.
- Warning status of RBS.
- Remaining range.
- Efficient Profile.
- Driving Mode (Eco, Normal, Sport).
- EPP.
- Regen Available.
- Scheduled Charge.
- Scheduled Charging.
- Charging.
- Charging Request.
- AVAS diagnostic.
- Trip Average Power.
- HV OFF – Service button.
- Charging SOC.
- Display SOC.
- Cable Plug Indicator.
- Charging Plug Indicator.
- Power Gauge.
- Regen Gauge.
- Cruise Control.

**EDS Functions:**
- EDS_bus_Volt_FWD.
- EDS_bus_Curr_FWD.
- EDS_bus_Volt_RWD.
- EDS_bus_Curr_RWD.

**BCU/BMS Functions:**
- BMS_SocActual_EST.
- BMS_MaxCellTemp.

The architecture reflects seamless communication across the system, ensuring accurate remaining mileage estimation and display.
Page 111
5.6.2 Topology Diagram.

The function topology diagram is given as follows:

Figure 5-26 depicts the energy management topology diagram, showcasing the communication flow between the Vehicle Control Unit (VCU) and other components, including EDS_R, EDS_F, DCDC, BMS, MHU, IDB, XGW, and CAN BUS.
Page 112
5.6.3 Signal I/O.

5.6.3.1 DCDC Control.

- POD_DCDC_evt_HV_Volt_OFF_Range: HV Voltage greater than 475V or less than 260V; Input; Min value: 0; Max value: 1; Sender: DCDC; Receiver: VCU.

- POD_DCDC_evt_LV_Volt_Abnormal: LV Voltage out of normal range, specifically 9V ÷ 16V; Input; Min value: 0; Max value: 1; Sender: DCDC; Receiver: VCU.

- POD_DCDC_evt_HV_Volt_Abnormal: HV Voltage out of normal range, specifically 270V ÷ 465V; Input; Min value: 0; Max value: 1; Sender: DCDC; Receiver: VCU.

- POD_DCDC_Evt_Power_mismatch: EID_POWER_MISMATCH condition detected; Input; Min value: 0; Max value: 1; Sender: DCDC; Receiver: VCU.

- POD_DCDC_evt_NTC_Fail_ColdPlate: Failure detected in the cold plate's NTC sensor; Input; Min value: 0; Max value: 1; Sender: DCDC; Receiver: VCU.

- POD_DCDC_evt_NTC_fail_fet: Mosfet temperature failure detected; Input; Min value: 0; Max value: 1; Sender: DCDC; Receiver: VCU.

- POD_DCDC_evt_Busbar_NEG_TempHigh: Over-temperature detected at the negative bus bar; Input; Min value: 0; Max value: 1; Sender: DCDC; Receiver: VCU.

- POD_DCDC_evt_Busbar_POS_TempHigh: Over-temperature detected at the positive bus bar; Input; Min value: 0; Max value: 1; Sender: DCDC; Receiver: VCU.

- POD_DCDC_evt_ColdplateTempLow: Under-temperature detected in the cold plate; Input; Min value: 0; Max value: 1; Sender: DCDC; Receiver: VCU.

- POD_DCDC_evt_ColdplateTempHigh: Over-temperature detected in the cold plate; Input; Min value: 0; Max value: 1; Sender: DCDC; Receiver: VCU.

- POD_DCDC_evt_fetTempLow: Under-temperature detected in the mosfet; Input; Min value: 0; Max value: 1; Sender: DCDC; Receiver: VCU.

- POD_DCDC_evt_fetTempHigh: Over-temperature detected in the mosfet; Input; Min value: 0; Max value: 1; Sender: DCDC; Receiver: VCU.

- POD_DCDC_evt_vin_sensor_fail: Vin sensor failure detected; Input; Min value: 0; Max value: 1; Sender: DCDC; Receiver: VCU.

- POD_DCDC_evt_NTC_Fail_BB_N: Negative bus bar temperature failure detected; Input; Min value: 0; Max value: 1; Sender: DCDC; Receiver: VCU.
Page 113
5.6.3 Signal I/O  

5.6.3.1 DCDC Control  

The following signals represent the input parameters for DCDC control:  

1. **POD_DCDC_evt_HV_Volt_OFF_Range**: Indicates HV voltage > 475V or < 260V.  
   - **I/O Type**: Input  
   - **Sender**: DCDC  
   - **Receiver**: VCU  

2. **POD_DCDC_evt_LV_Volt_Abnormal**: Signals LV voltage out of normal range (9V ÷ 16V).  
   - **I/O Type**: Input  
   - **Sender**: DCDC  
   - **Receiver**: VCU  

3. **POD_DCDC_evt_HV_Volt_Abnormal**: Signals HV voltage out of normal range (270V ÷ 465V).  
   - **I/O Type**: Input  
   - **Sender**: DCDC  
   - **Receiver**: VCU  

4. **POD_DCDC_Evt_Power_mismatch**: Reports EID_POWER_MISMATCH.  
   - **I/O Type**: Input  
   - **Sender**: DCDC  
   - **Receiver**: VCU  

5. **POD_DCDC_evt_NTC_Fail_ColdPlate**: Indicates cold plate NTC failure.  
   - **I/O Type**: Input  
   - **Sender**: DCDC  
   - **Receiver**: VCU  

6. **POD_DCDC_evt_NTC_fail_fet**: States Mosfet temperature failure.  
   - **I/O Type**: Input  
   - **Sender**: DCDC  
   - **Receiver**: VCU  

7. **POD_DCDC_evt_Busbar_NEG_TempHigh**: Reports over bus bar negative temperature.  
   - **I/O Type**: Input  
   - **Sender**: DCDC  
   - **Receiver**: VCU  

8. **POD_DCDC_evt_Busbar_POS_TempHigh**: Reports over bus bar positive temperature.  
   - **I/O Type**: Input  
   - **Sender**: DCDC  
   - **Receiver**: VCU  

9. **POD_DCDC_evt_ColdplateTempLow**: Indicates under coldplate temperature.  
   - **I/O Type**: Input  
   - **Sender**: DCDC  
   - **Receiver**: VCU  

10. **POD_DCDC_evt_ColdplateTempHigh**: Indicates over coldplate temperature.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

11. **POD_DCDC_evt_fetTempLow**: Indicates under Mosfet temperature.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

12. **POD_DCDC_evt_fetTempHigh**: Indicates over Mosfet temperature.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

13. **POD_DCDC_evt_vin_sensor_fail**: Reports Vin sensor failure.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

14. **POD_DCDC_evt_NTC_Fail_BB_N**: Signals bus bar negative temperature failure.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

15. **POD_DCDC_evt_NTC_Fail_BB_P**: Signals bus bar positive temperature failure.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

16. **POD_DCDC_evt_EEPROM_Failure**: Indicates EEPROM failure.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

17. **POD_DCDC_evt_LV_Shortcircuit**: Reports short circuit protection at SW Level 1.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

18. **POD_DCDC_evt_LV_VLow**: Indicates under LV output voltage protection at SW Level 1.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

19. **POD_DCDC_evt_LV_VHigh**: Indicates over LV output voltage protection at SW Level 1.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

20. **POD_DCDC_evt_LV_IHigh**: Reports over LV output current protection at SW Level 1.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

21. **POD_DCDC_evt_HV_VLow**: Indicates under HV input voltage protection at SW Level 1.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

22. **POD_DCDC_evt_HV_VHigh**: Indicates over HV input voltage protection at SW Level 1.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

23. **POD_DCDC_evt_HV_IHigh**: Reports over HV input current protection at SW Level 1.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

24. **POD_DCDC_evt_Reverse_I_Protect**: Indicates reverse current protection.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

25. **POD_DCDC_evt_Cont_Stuck_open**: Signals that the contactor is stuck in OPEN state.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU  

26. **POD_DCDC_evt_Cont_welded**: Indicates contactor is welded.  
    - **I/O Type**: Input  
    - **Sender**: DCDC  
    - **Receiver**: VCU
Page 114
### 5.6.3 Signal I/O
#### 5.6.3.1 DCDC Control

**Name:** POD_DCDC_evt_Error_Comm  
**Description:** Communication Error  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** DCDC  
**Receiver:** VCU  

**Name:** POD_DCDC_evt_SWTrip_LV_Ocp  
**Description:** Over LV Output Current protection by SW Level 2 (SW Tripzone)  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** DCDC  
**Receiver:** VCU  

**Name:** POD_DCDC_evt_SWTrip_LV_Ovp  
**Description:** Over LV Output Voltage protection by SW Level 2 (SW Tripzone)  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** DCDC  
**Receiver:** VCU  

**Name:** POD_DCDC_evt_SWTrip_HV_Ovp  
**Description:** Over HV Input Voltage protection by SW Level 2 (SW Tripzone)  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** DCDC  
**Receiver:** VCU  

**Name:** POD_DCDC_evt_HWTrip_LV_Voltage  
**Description:** Protect Over LV Voltage by HW (HW Tripzone)  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** DCDC  
**Receiver:** VCU  

**Name:** POD_DCDC_evt_HWTrip_pri_Current  
**Description:** Protect Over Primary Current by SW (SW Tripzone)  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** DCDC  
**Receiver:** VCU  

**Name:** POD_DCDC_evt_HWTrip_avg_HVCurr  
**Description:** Protect Over Average HV Current by HW (HW Tripzone)  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:** n.a  
**Sender:** DCDC  
**Receiver:** VCU  

**Name:** MHU_EvSetting_MHU_BrakeRegenMode  
**Description:** Brake Regen Style  
**I/O:** Input  
**Min:** 0  
**Max:** 3  
**Value Description:** 0 "Normal," 1 "Low," 2 "Reserved," 3 "Signal Invalid"  
**Sender:** MHU  
**Receiver:** VCU
Page 115
5.6.3.2 Regenerative Braking

Name: VCU_HVSystem_status  
Description: Vehicle High Voltage Ready State  
I/O: Output  
Min: 0  
Max: 7  
Value Description:  
- 0: "Not ready"  
- 1: "HV On"  
- 2: "ReadyToDrive"  
- 3: "Charging"  
- 4: "Error"  
- 5: "Reserved"  
- 6: "Reserved"  
- 7: "Reserved"  
Sender: VCU  
Receiver: XGW  

Name: VCU_EDS_demtrq_FWD  
Description: Driving Requirements Torque from VCU to EDS  
I/O: Output  
Min: -500  
Max: 500  
Value Description: n.a.  
Sender: VCU  
Receiver: EDS_F, IDB_PT  

Name: VCU_EDS_demtrq_RWD  
Description: Driving Requirements Torque from VCU to EDS  
I/O: Output  
Min: -500  
Max: 500  
Value Description: n.a.  
Sender: VCU  
Receiver: EDS_R, IDB_PT  

Name: VCU_ACTGear  
Description: Actual gear. Provide gear shift signal  
I/O: Output  
Min: 0  
Max: 7  
Value Description:  
- 0: "P"  
- 1: "R"  
- 2: "N"  
- 3: "D"  
- 4: "Reserved"  
- 5: "Reserved"  
- 6: "Reserved"  
- 7: "Fault"  
Sender: VCU  
Receiver: XGW, ESC  

Name: VCU_ACTGearValid  
Description: Indicate the current gear position  
I/O: Output  
Min: 0  
Max: 1  
Value Description:  
- 0: "Valid"  
- 1: "Invalid"  
Sender: VCU  
Receiver: XGW, ESC  

Name: VCU_EDS_StsModeReq_FWD  
Description: EDS Status Request  
I/O: Output  
Min: 0  
Max: 15  
Value Description:  
- 0: "Default"  
- 1: "Init"  
- 2: "Standby"  
- 3: "Precharge"  
- 4: "Normal"  
- 5: "HVReady"  
- 11: "Shut Down"  
- 12: "After Run"  
- 13: "Failure"  
- 14: "Power Off"  
- 15: "Invalid"  
Sender: VCU  
Receiver: EDS_F  

Name: VCU_EDS_StsModeReq_RWD  
Description: EDS Status Request  
I/O: Output  
Min: 0  
Max: 8  
Value Description:  
- 0: "Default"  
- 1: "Init"  
- 2: "Standby"  
- 3: "Precharge"  
- 4: "Normal"  
- 5: "HVReady"  
- 11: "Shut Down"  
- 12: "After Run"  
- 13: "Failure"  
- 14: "Power Off"  
- 15: "Invalid"  
Sender: VCU  
Receiver: EDS_R
Page 116
### 5.6.3.2 Regenerative Braking

**EDS_MinTrq_RWD:**  
Allow minimum torque available for a long time.  
- **I/O:** Input  
- **Min:** -500  
- **Max:** 500  
- **Sender:** EDS_R  
- **Receiver:** VCU  

**IDB_Brake_Pedal_position:**  
Brake pedal applied level.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 3  
- **Sender:** ESC  
- **Receiver:** VCU  

**IDB_Brake_Pedal_position_sts:**  
Brake pedal applied status.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:** 0 "Valid", 1 "Invalid"  
- **Sender:** ESC  
- **Receiver:** VCU  

**BMS_allowchg_curr:**  
Instantaneous maximum allowable charge current of the battery.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 800  
- **Sender:** BMS  
- **Receiver:** VCU  

**BMS_SocActual_EST:**  
Actual state of charge (SOC) of the Battery Management System (BMS).  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 100  
- **Sender:** BMS  
- **Receiver:** VCU
Page 117
5.6.3.3 Remaining Mileage

Name: VCU_RemainingMileage  
Description: The remaining mileage of the vehicle.  
I/O: Output  
Min: 0  
Max: 9999999 km  
Value Description: 0 - 99999999 km  
Sender: VCU  
Receiver: XGW  

Name: VCU_RunningRange  
Description: Estimated running range (at present).  
I/O: Output  
Min: 0  
Max: 2047  
Value Description: n.a.  
Sender: VCU  
Receiver: XGW  

Name: ABS_VehSpd  
Description: Current longitudinal vehicle speed.  
I/O: Input  
Min: 0  
Max: 200 km/h  
Value Description: 0 - 200 km/h  
Sender: ABS  
Receiver: VCU  

Name: BMS_PackCur_MEAS  
Description: Battery pack total current.  
I/O: Input  
Min: -800 A  
Max: 800 A  
Value Description: -800 to 800 A  
Sender: BMS  
Receiver: VCU  

Name: BMS_HVPackVol_MEAS  
Description: Battery pack total voltage.  
I/O: Input  
Min: 0  
Max: 800 V  
Value Description: 0 – 800 V  
Sender: BMS  
Receiver: VCU  

Name: BMS_SocActual_EST  
Description: Actual SOC.  
I/O: Input  
Min: 0  
Max: 100  
Value Description: n.a.  
Sender: XGW  
Receiver: VCU, POD
Page 118
5.7 High Voltage Safety.

5.7.1 Design Level Requirements.  
VCU shall maintain high voltage safety including HVIL, crash and isolation monitoring in accordance with BMS. VCU will command EDS for Active discharge. HV safety architecture shall have the following functionality:  

- **High Voltage Interlock Monitoring (HVIL):**  
  High Voltage Interlock Monitoring circuit is given as below:  
  **Figure 5-27 High Voltage Interlock Monitoring (HVIL)**  
  VCU shall receive High Voltage Interlock Monitoring status over CAN. If HVIL status received from components is not “closed,” vehicle limp home shall be triggered.  

- **Limp Home:**  
  Vehicle speed shall be limited to a calibratable kmh. Accelerator pedal shall be limited to 50%, torque is limited to a specific threshold, and regen shall be deactivated.  

- **Crash Handling:**  
  When the crash is detected by the ACM, the ACM will send the crash signal to the Gateway ECU. The Gateway ECU provides the ACM_Crash_Intensity signal to PT-CAN. ACM also gives a hardwire signal to detect crash fault using redundant signal check, as shown below.
Page 119
5.7 High Voltage Safety.

5.7.1 Design Level Requirements.
VCU shall maintain high voltage safety including HVIL, crash, and isolation monitoring in accordance with BMS. VCU will command EDS for Active discharge. HV safety architecture shall have the following functionality:

- High Voltage Interlock Monitoring (HVIL):
  High Voltage Interlock Monitoring circuit is illustrated below.

Figure 5-27: High Voltage Interlock Monitoring (HVIL).

VCU shall receive High Voltage Interlock Monitoring status over CAN. If HVIL status received from components is not "closed," vehicle limp home functionality will be triggered.

- Limp home:
  Vehicle speed shall be limited to a calibratable number of km/h. The accelerator pedal shall be limited to 50%, torque is limited to a specific threshold, and regenerative braking shall be deactivated.

- Crash Handling:
  When a crash is detected by ACM, the ACM sends the crash signal to the Gateway ECU. The Gateway ECU provides the ACM_Crash_Intensity signal to PT-CAN. ACM also gives a hardwired signal to detect crash faults using a redundant signal check, as shown below.

Figure 5-28: Crash Handling.

If the VCU receives the crash signal, vehicle emergency shutdown shall be triggered.

- Isolation Monitoring:
  VCU shall receive isolation status from BMS.

- EDS Active Discharge:
  VCU shall trigger EDS active discharge after battery disconnection until bus voltage drops below 60V.

High Voltage Safety Architecture.

A diagram describing the architecture includes elements such as BMS, HVIL Circuit, VCU, EDS_R, EDS_F, and ACM. Key functionalities include High Voltage Interlock Monitoring, Limp Home, Isolation Monitoring, and Active Discharge.
Page 120
### 5.7 High Voltage Safety

#### 5.7.1 Design Level Requirements
VCU shall maintain high voltage safety including HVIL, crash, and isolation monitoring in accordance with BMS. VCU will command EDS for active discharge. HV safety architecture shall have the following functionality:

- **High Voltage Interlock Monitoring (HVIL):**  
  High Voltage Interlock Monitoring circuit is given as below:  

  *Figure 5-27 High Voltage Interlock Monitoring (HVIL)*  

  VCU shall receive High Voltage Interlock Monitoring status over CAN. If HVIL status received from components is not “closed,” vehicle limp home shall be triggered. 

- **Limp home:**  
  Vehicle speed shall be limited to calibratable km/h, accelerator pedal shall be limited to 50%, torque is limited to a specific threshold, and regen shall be deactivated.

- **Crash Handling:**  
  When the crash is detected by the ACM, the ACM will send the crash signal to the Gateway ECU. The Gateway ECU provides the ACM_Crash_Intensity signal to PT-CAN. ACM also gives hardwire signal to detect crash fault using redundant signal check, as illustrated below.  

  *Figure 5-28 Crash Handling*  

  If VCU receives the crash signal, vehicle emergency shutdown shall be triggered.

- **Isolation Monitoring:**  
  VCU shall receive isolation status from BMS.

- **EDS Active Discharge:**  
  VCU shall trigger EDS active discharge after battery disconnection until bus voltage drops below 60V.

---

### High Voltage Safety Architecture

The High Voltage Safety Architecture contains key components interconnected as illustrated below.

*Figure 5-29 Topology Diagram - HV Safety*
Page 121
5.7.3 Signal I/O

VCU_EDS_StsModeReq_FWD: EDS Status Request.  
- I/O: Output  
- Min: 0  
- Max: 15  
- Value Description:  
  - 15 "invalid"  
  - 14 "power off"  
  - 13 "Failure"  
  - 12 "after run"  
  - 11 "shut down"  
  - 5 "HVReady"  
  - 4 "normal"  
  - 3 "precharge"  
  - 2 "standby"  
  - 1 "init"  
  - 0 "default"  
- Sender: VCU  
- Receiver: EDS_F  

VCU_EDS_StsModeReq_RWD: EDS Status Request.  
- I/O: Output  
- Min: 0  
- Max: 15  
- Value Description:  
  - 15 "invalid"  
  - 14 "power off"  
  - 13 "Failure"  
  - 12 "after run"  
  - 11 "shut down"  
  - 5 "HVReady"  
  - 4 "normal"  
  - 3 "precharge"  
  - 2 "standby"  
  - 1 "init"  
  - 0 "default"  
- Sender: VCU  
- Receiver: EDS_R  

BMS_HVIL_STS: The HVIL state of BMS.  
- I/O: Input  
- Min: 0  
- Max: 3  
- Value Description:  
  - 2 "short to ground"  
  - 1 "Open & short to battery"  
  - 0 "Closed"  
- Sender: BMS  
- Receiver: VCU  

EDS_disxhg_st_FWD: State of active discharge of EDS.  
- I/O: Input  
- Min: 0  
- Max: 3  
- Value Description:  
  - 3 "Finished Active Discharge"  
  - 2 "Failed Active Discharge"  
  - 1 "Active Discharge"  
  - 0 "No Active Discharge"  
- Sender: EDS_F  
- Receiver: VCU
Page 122
Name: EDS_disxhg_st_RWD  
Description: State of active discharge of EDS.  
I/O: Input.  
Min: 0.  
Max: 3.  
Value Description:  
- 3 "Finished Active Discharge."  
- 2 "Failed Active Discharge."  
- 1 "Active Discharge."  
- 0 "No Active Discharge."  
Sender: EDS_R.  
Receiver: VCU.  

Name: BMS_ISU_Status  
Description: Insulation status of L1, L2, & L3.  
I/O: Input.  
Min: 0.  
Max: 3.  
Value Description:  
- 3 "Level3."  
- 2 "Level2."  
- 1 "Level1."  
- 0 "Normal."  
Sender: BMS.  
Receiver: VCU.
Page 123
### 5.8 Thermal Management & Air Shutter Control

#### 5.8.1 Design Level Requirements

##### 5.8.1.1 Thermal Management
Below 0°C, only eHTR shall be used to maintain heat for both battery and cabin.  

1. VCU shall acquire ambient temperature and temp 5.  
2. VCU shall send power request to eHTR.  
3. VCU shall set three-way valve proportion.  
4. VCU shall send flow rate command to pump 1, pump 2, and pump 3.  
5. VCU shall disable SOV-Chiller 1, SOV-HVAC, and Chiller 2 SOV.  
6. VCU shall take the flow rate request from EDS into account for thermal management.  
7. VCU shall set AGS opening (off).  

The thermal management schematic is structured to maintain efficient heating and cooling operations, particularly in sub-zero temperatures.

---

#### Description of Figure 5-30: Thermal Management
The schematic diagram illustrates the implementation of the thermal management system, showing the interactions between various components such as pumps, chillers, battery systems, and eHTR. The VCU coordinates requests with control functions that ensure optimal temperature management for the cabin and battery system. The diagram highlights flow rate commands, valve proportions, and temperature input/output across components, ensuring efficient thermal operation under extreme cold conditions.
Page 124
### 5.8 Thermal Management & Air Shutter Control

#### 5.8.1 Design Level Requirements

##### 5.8.1.1 Thermal Management
Below 0°C, only eHTR shall be used to maintain heat for both battery and cabin.  
1. VCU shall acquire ambient temperature and temp 5.  
2. VCU shall send power request to eHTR.  
3. VCU shall set three-way valve proportion.  
4. VCU shall send flow rate command to pump 1, pump 2 and pump 3.  
5. VCU shall disable SOV-Chiller 1, SOV-HVAC, and Chiller 2 SOV.  
6. VCU shall take the flow rate request from EDS into account for thermal management.  
7. VCU shall set AGS opening (off).  

Thermal management schematic is given as follows:

**Figure 5-30**: Thermal Management.  

---

Thermal management system control diagram is given as follows:

**Figure 5-31**: Thermal Management System Control Diagram.
Page 125
8. Cabin & Battery Heating with eHTR (battery min cell < 12 deg).

Below 12°C minimum battery cell temperature, only eHTR shall be used to maintain heat for both the battery and cabin.

1. VCU shall acquire ambient temperature and temp 5.
2. VCU shall send power request to eHTR.
3. VCU shall set three-way valve proportion.
4. VCU shall send flow rate command to pump 1 and pump 2.
5. VCU shall disable SOV-Chiller 1, SOV-HVAC, and Chiller 2 SOV.
6. VCU shall take the flow rate request from EDS into account for thermal management.
7. VCU shall set AGS opening (off).

For the cabin & battery heating with eHTR configuration, the schematic shall be given as below:
- **Figure 5-32 Cabin & Battery Heating with eHTR** displays a detailed illustration of the heating system, including interactions between the battery, HVAC, eHTR, pumps, and valves. It demonstrates how flow rates, thermal loops, and temperature sensors are managed for optimal heating.

VinFast Released.
Page 126
9. Cabin Heating with eHTR & Battery Cooling. 

With that thermal request combination, the battery shall be cooled only with the radiator. Cabin heating shall be maintained only with eHTR.

1. VCU shall acquire ambient temperature and Temp 5.
2. VCU shall set three-way valve proportion (off).
3. VCU shall send power request to eHTR.
4. VCU shall send flow rate command to pump 1, pump 2 and pump 3.
5. VCU shall drive the fan to cool EDS and battery.
6. VCU shall set AGS opening (on).
7. VCU shall take the flow rate request from EDS into account for thermal management.

For the cabin heating with eHTR & battery cooling configuration, the schematic shall be given as follows:

**Figure 5-33** Cabin Heating with eHTR & Battery Cooling.
Page 127
10. Cabin A/C & Battery Cooling.  
AC system shall take heat from HVAC block and from Chiller 1 (heat of the battery).  

1. VCU shall acquire ambient temperature.  
2. VCU shall set three-way valve proportion (off).  
3. VCU shall send PWM command to pump 1, pump 2 and pump 3.  
4. VCU shall enable Chiller 1 TXV.  
5. VCU shall enable HVAC SOV.  
6. VCU shall send speed request to the compressor.  
7. VCU shall drive the fan to cool the EDS and the battery.  
8. VCU shall set AGS opening (on).  
9. VCU shall take the flow rate request from EDS into account for thermal management.  

For the cabin A/C & battery cooling configuration, the schematic shall be given as below:  
**Figure 5-34 Cabin A/C & Battery Cooling.**

11. Preconditioning.  
HV battery is not ready for being charged at sub-zero conditions. Preconditioning logic shall be active to heat up the battery or cool down also (if cell temperatures are too high for charging).  
VCU shall actuate the related component (PTC heater, fans, or compressor according to battery needs) to ensure the battery temperatures are within the proper range so that BMS shall remove the charge limit and safe charging sequence shall be maintained by VCU.  

12. EDS Cooling.  
1. VCU shall acquire EDS inlet temperature (Temp1).  
2. VCU shall acquire pressure value from sensor.  
3. VCU shall acquire HVAC inlet temperature (Temp4).  
4. VCU shall send PWM (duty cycle) command to fan.  
5. VCU shall send flow rate command to Pump1.
Page 128
13. EDS Water Pumps Speed Determination.

Figure 5-35 Water Pumps Speed Determination illustrates the relationship between various parameters and the speed of water pumps in the EDS cooling system. Parameters considered include EDS cooling level, EDS inlet temperature, EDS heater inlet temperature, and HVAC pressure:

- **Flow based on EDS cooling level:** Pump speed changes in relation to the EDS cooling level increases. 
- **Flow based on EDS inlet temperature:** Shows the variation of flow rate according to the temperature at the EDS inlet.
- **Flow based on EDS heater inlet temperature:** Demonstrates how water flow rates respond to changes in heater inlet temperature for efficient cooling and heating.
- **Flow based on HVAC pressure:** Illustrates the dependency of pump flow rate on various HVAC pressures.

These graphs offer insights into the interplay of factors in determining optimal operation speeds for maintaining effective thermal management in the system.
Page 129
14. Old and New 3 Way Valve Position Determination While Either Battery or Cabin Heating is Present.

The configuration for old and new 3-way valve positions based on heating requirements is described as follows:

- **Pump settings:**
  - **Pump 1 (EDS):** Flow rates are set to 100 for battery heating, battery + cabin heating, and cabin heating configurations.
  - **Pump 2 (After Battery):** Flow rates are set to 100, 70, and minimum 60 respectively for the configurations.
  - **Pump 3 (Before Battery):** Flow rates are set to the same levels as Pump 2 (100, 70, and minimum 60).
  - **Pump 4 (EDS2):** Flow rates are uniformly set to 100 for all configurations.

- **Valve settings:**
  - **Old Valve Position:** For battery heating, set to flow through coil (75b25c). For other configurations, adjust through specified coolant paths (20b80c, 0b100c).
  - **New Valve Position:** Adjusted to match all coolant flows through PTC, or no coolant flow if no heating component requests are considered.

Additional system settings:
- EDS Circuit cooling levels are categorized from 1 to 3, with corresponding flow inputs of 4, 6, and 8.
- EDS inlet coolant temperatures (Temp1) range from 35 to 50 across cooling levels, with flow inputs increasing from 8 to 32.
- EDS heater coolant temperatures (Temp4) range from 45 to 65, with similar flow input scaling (8 to 32).

Figure 5-36 Old and New 3 Way Valve Position Determination illustrates the schematic layout overview for valve settings during either battery or cabin heating configurations.
Page 130
15. Fan Speed Determination.

The fan speed determination table describes the PWM values for the fan due to various inputs and operating conditions.

- **DCDC Actual Temperature**: Fan PWM ranges from 10 (at 0°C) to 90 (at 200°C).
- **OBC Actual Temperature**: Fan PWM ranges from 0 (at 0°C) to 100 (at 100°C).
- **EDS Circuit Cooling Level**: Fan PWM ranges from 30 (at Level 0) to 92 (at Level 3).
- **Battery Cooling Level (Driving)**: Fan PWM ranges from 0 (at Level 0) to 92 (at Level 3).
- **Battery Cooling Level (Charging)**: Fan PWM ranges from 0 (at Level 0) to 92 (at Level 3).
- **EDS Inlet Coolant Temperature (Temp1)**: Fan PWM ranges from 0 (at 40°C) to 92 (at 57°C).
- **HVAC Pressure (kPa)**: Fan PWM ranges from 0 (at 1000 kPa) to 92 (at 2700 kPa).
- **Bus Bar Temperature**: Fan PWM ranges from 10 (at 45°C) to 92 (at 80°C).

Figure 5-37 illustrates the fan speed determination based on the inputs mentioned above.

---

16. HVAC Compressor Speed Determination.

This section outlines the logic for determining the speed of the HVAC compressor based on various operating parameters.

- The compressor speed is calculated considering circuit pressures, cooling needs, and inhibit logic to ensure safe and effective operation.
- PWM values for the compressor are adjusted according to environmental and system demands.

Figure 5-38 provides a detailed schematic representation of the HVAC compressor speed determination logic.
Page 131
17. E-Motor Active Heating Strategy.

This feature is implemented in VCU but due to no availability of corresponding part at EDS, it is disabled.

1. CCU shall send heating capacity request to VCU. VCU shall calculate available heat from E-motor and compressor against the request and activate E-Motor heating if required.
2. If temperature is less than 10°C, the active heating shall be requested from E-Motor and shall be switched off when T4 is greater than 10°C (Calibratable).
3. For FWD option, only the front E-Motor shall be utilized for active heating function.

E-Motor heat (approximately 3 kW overall heat) shall be available at all speeds with no impact to durability or warrant.

Figure 5-39 illustrates the E-Motor Active Heating Strategy schematic.
Page 132
a. Air Grill Shutter Control.  
VCU will actuate the AGS component in two pre-defined positions like "half-open" and "fully-open". If the following thresholds are exceeded for related positions, VCU will act accordingly.

Figure 5-40 AGS Control.
Page 133
5.8.2 Topology Diagram.

VCU shall control the battery and cabin heating and cooling for thermal management. 

The thermal management topology diagram is given as follows:

Figure 5-41 Topology Diagram - Thermal Management.

The diagram illustrates the relationship between various components in thermal management, including the Air Grill Shutter (AGS), 3-way valve, EAC, and eHTR, which are connected to the VCU via LIN Bus. The VCU interacts with the BMS, POD, CCU, EDS_F, and EDS_R through CAN Bus. Additionally, the VCU controls HVAC SOV, fan, temperature sensors, SOV Chiller-1, SOV Chiller-2, AC pressure sensor, and EDS and battery water pumps. The interconnected topology defines the operational hierarchy required for effective thermal management.
Page 134
### 5.8.3 Signal I/O

**Name:** AGM_1_ActTorqueBoost  
**Description:** Feedback of the selected torque mode.  
**I/O:** Input  
**Min:** 0  
**Max:** 15  
**Value Description:**  
- 0: "Nominal torque is selected"  
- 2: "Low torque is selected"  
- 4: "Boost_mode 0 selected"  
- 5: "Boost_mode_1 selected"  
- 1, 3, 6–15: "Nominal torque"  
**Sender:** AGS  
**Receiver:** VCU  

**Name:** AGM_1_ActualPosition  
**Description:** Position feedback from the actuator.  
**I/O:** Input  
**Min:** 0  
**Max:** 100  
**Value Description:**  
- 0: "Open Position"  
- 100: "Close Position"  
**Sender:** AGS  
**Receiver:** VCU
Page 135
### 5.8.3 Signal I/O

**AGM_1_ActTorqueBoost:**  
Feedback of the selected torque mode.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 15  
- **Value Description:**  
  - 0: "Nominal torque is selected"  
  - 2: "Low torque is selected"  
  - 4: "Boost_mode 0 selected"  
  - 5: "Boost_mode_1 selected"  
  - 1, 3, 6-15: "Nominal torque"  
- **Sender:** AGS  
- **Receiver:** VCU  

**AGM_1_ActualPosition:**  
Position feedback from the actuator.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 100  
- **Value Description:**  
  - 0: "Open Position"  
  - 100: "Close Position"  
  - 127: "Initial value"  
- **Sender:** AGS  
- **Receiver:** VCU  

**AGM_1_CalibActive:**  
Feedback of calibration active.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 0: "Calibration is not active"  
  - 1: "Calibration is active"  
- **Sender:** AGS  
- **Receiver:** VCU  

**AGM_1_CalibRequired:**  
Feedback to check if a calibration is required.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 0: "No calibration required"  
  - 1: "Calibration required"  
- **Sender:** AGS  
- **Receiver:** VCU  

**AGM_1_Err_Electrical:**  
Feedback for electrical error.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 0: "No error"  
  - 1: "Error"  
- **Sender:** AGS  
- **Receiver:** VCU  

**AGM_1_HldTrqActive:**  
Feedback of holding torque.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 0: "No holding torque activated"  
  - 1: "Holding torque activated"  
- **Sender:** AGS  
- **Receiver:** VCU  

**AGM_1_MoveActive:**  
Feedback of moving status.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 0: "Actuator is not moving"  
  - 1: "Actuator is moving"  
- **Sender:** AGS  
- **Receiver:** VCU  

**AGM_1_Sta_Blockage:**  
Feedback of the block detection.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 0: "No error"  
  - 1: "Error"  
- **Sender:** AGS  
- **Receiver:** VCU  

**AGM_1_Sta_LINResp:**  
Indicates if an LIN response error occurred (LIN 2.1).  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 0: "No error"  
  - 1: "Error"  
- **Sender:** AGS  
- **Receiver:** VCU
Page 136
5.8.3 Signal I/O.

**Name: AGM_1_Sta_OverTemp.**
- Description: Feedback for overtemperature error.
- I/O: Input.
- Minimum value: 0.
- Maximum value: 1.
- Value Description: 
  - 0: "no error".
  - 1: "error".
- Sender: AGS.
- Receiver: VCU.

**Name: AGM_1_Sta_Overtravel.**
- Description: Feedback for overvoltage error.
- I/O: Input.
- Minimum value: 0.
- Maximum value: 1.
- Value Description: 
  - 0: "no error".
  - 1: "error".
- Sender: AGS.
- Receiver: VCU.

**Name: AGM_1_Sta_OverVolt.**
- Description: Feedback for overvoltage error.
- I/O: Input.
- Minimum value: 0.
- Maximum value: 1.
- Value Description: 
  - 0: "no error".
  - 1: "error".
- Sender: AGS.
- Receiver: VCU.

**Name: AGM_1_Sta_UnderVolt.**
- Description: Feedback for undervoltage error.
- I/O: Input.
- Minimum value: 0.
- Maximum value: 1.
- Value Description: 
  - 0: "no error".
  - 1: "error".
- Sender: AGS.
- Receiver: VCU.

**Name: Current Sensor fault.**
- Description: Current sensor fault detection.
- I/O: Input.
- Minimum value: 0.
- Maximum value: 31.
- Value Description: 
  - 0: "Diagnostics pending".
  - 1: "Diagnostics passed".
  - 2: "Short to ground".
  - 3: "Short to VCC (Open Load)".
  - 4: "Offset (not used)".
  - 5: "Out of Range".
  - 6: "NDEF (not defined)".
  - 7: "Signal not available".
- Sender: e-HTR.
- Receiver: VCU.

**Name: HV_PTC_defectHeaterCircuits.**
- Description: Defect of Heater Legs Indicator.
- I/O: Input.
- Minimum value: 0.
- Maximum value: 7.
- Value Description: 
  - 0: "No defect".
  - 1: "Leg 1 defect".
  - 2: "Leg 2 defect".
  - 3: "Leg 1 + 2 defect".
  - 4: "Leg 3 defect".
- Sender: PTC.
- Receiver: VCU.
Page 137
### 5.8.3 Signal I/O

**Name:** AGM_1_Sta_OverTemp  
**Description:** Feedback for overtemperature error.  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:**  
- 0: "no error"  
- 1: "error"  
**Sender:** AGS  
**Receiver:** VCU  

**Name:** AGM_1_Sta_Overtravel  
**Description:** Feedback for overvoltage error.  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:**  
- 0: "no error"  
- 1: "error"  
**Sender:** AGS  
**Receiver:** VCU  

**Name:** AGM_1_Sta_OverVolt  
**Description:** Feedback for overvoltage error.  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:**  
- 0: "no error"  
- 1: "error"  
**Sender:** AGS  
**Receiver:** VCU  

**Name:** AGM_1_Sta_UnderVolt  
**Description:** Feedback for undervoltage error.  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:**  
- 0: "no error"  
- 1: "error"  
**Sender:** AGS  
**Receiver:** VCU  

**Name:** Current Sensor Fault  
**Description:** Current sensor fault diagnostic indicator.  
**I/O:** Input  
**Min:** 0  
**Max:** 31  
**Value Description:**  
- 0: "Diagnostics pending"  
- 1: "Diagnostics passed"  
- 2: "Short to ground"  
- 3: "Short to VCC (open load)"  
- 4: "Offset (not used)"  
- 5: "Out of range"  
- 6: "NDEF (not defined)"  
- 7: "Signal not available"  
**Sender:** e-HTR  
**Receiver:** VCU  

**Name:** HV_PTC_DefectHeaterCircuits  
**Description:** Defect of heater legs indicator.  
**I/O:** Input  
**Min:** 0  
**Max:** 7  
**Value Description:**  
- 0: "No defect"  
- 1: "Leg 1 defect"  
- 2: "Leg 2 defect"  
- 3: "Leg 1 + 2 defect"  
- 4: "Leg 3 defect"  
- 5: "Leg 1 + 3 defect"  
- 6: "Leg 2 + 3 defect"  
- 7: "Leg 1 + 2 + 3 defect"  
**Sender:** PTC  
**Receiver:** VCU  

**Name:** HV_PTC_DutyCycle  
**Description:** Actual duty cycle of HV_PTC.  
**I/O:** Input  
**Min:** -50  
**Max:** 100  
**Sender:** PTC  
**Receiver:** VCU  

**Name:** HV_PTC_HV_DC_Curr  
**Description:** Current draw of HV-PTC.  
**I/O:** Input  
**Min:** 0  
**Max:** 63.5  
**Sender:** PTC  
**Receiver:** VCU  

**Name:** HV_PTC_HV_Voltage  
**Description:** High voltage measurement.  
**I/O:** Input  
**Min:** 0  
**Max:** 508  
**Sender:** PTC  
**Receiver:** VCU  

**Name:** HV_PTC_HV_Voltage_Valid  
**Description:** HV validity indicator.  
**I/O:** Input  
**Min:** 0  
**Max:** 3  
**Value Description:**  
- 0: "NO HV detected"  
- 1: "HV valid"  
- 2: "Under voltage"  
- 3: "Over voltage"  
**Sender:** PTC  
**Receiver:** VCU  

**Name:** HV_PTC_InternalPCBTemp  
**Description:** PCB temperature measurement.  
**I/O:** Input  
**Min:** -50 °C  
**Max:** 204 °C  
**Sender:** PTC  
**Receiver:** VCU  

**Name:** HV_PTC_InternalWaterTemp1  
**Description:** Medium temperature 1 (outlet by default).  
**I/O:** Input  
**Min:** -50 °C  
**Max:** 204 °C  
**Sender:** PTC  
**Receiver:** VCU  

**Name:** HV_PTC_Off_ShrtCurr  
**Description:** Short-circuit detection.  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:**  
- 0: "No short detected"  
- 1: "Short detected"  
**Sender:** PTC  
**Receiver:** VCU  

**Name:** HV_PTC_Sp_ExtPwrSup_Flt  
**Description:** External power supply failure.  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:**  
- 0: "Battery voltage okay"  
- 1: "Battery voltage off"  
**Sender:** PTC  
**Receiver:** VCU  

**Name:** HV_PTC_Sp_LIN_Flt  
**Description:** LIN communication timeout detection.  
**I/O:** Input  
**Min:** 0  
**Max:** 1  
**Value Description:**  
- 0: "No LIN timeout detected"  
**Sender:** PTC  
**Receiver:** VCU
Page 138
### 5.8.3 Signal I/O

#### Name: HV_PTC_Sta_OverTemp
- **Description:** Feedback for overtemperature error.
- **I/O:** Input.
- **Min-Max:** 0 - 1.
- **Value Description:** 0 "No error", 1 "Error".
- **Sender-Receiver:** AGS - VCU.

#### Name: HV_PTC_Sta_Overtravel
- **Description:** Feedback for overvoltage error.
- **I/O:** Input.
- **Min-Max:** 0 - 1.
- **Value Description:** 0 "No error", 1 "Error".
- **Sender-Receiver:** AGS - VCU.

#### Name: AGM_1_Sta_UnderVolt
- **Description:** Feedback for undervoltage error.
- **I/O:** Input.
- **Min-Max:** 0 - 1.
- **Value Description:** 0 "No error", 1 "Error".
- **Sender-Receiver:** AGS - VCU.

#### Name: Current Sensor fault
- **Description:** Sensor fault diagnostics.
- **I/O:** Input.
- **Min-Max:** 0 - 31.
- **Value Description:** 
  - 0 "Diagnostics pending".
  - 1 "Diagnostics passed".
  - 2 "Short to ground".
  - 3 "Short to VCC (Open Load)".
  - 4 "Offset (not used)".
  - 5 "Out of Range".
  - 6 "NDEF (not defined)".
  - 7 "Signal not available".
- **Sender-Receiver:** e-HTR - VCU.

#### Name: HV_PTC_defectHeater Circuits
- **Description:** Defect of Heater Legs Indicator.
- **I/O:** Input.
- **Min-Max:** 0 - 7.
- **Value Description:** 
  - 0 "No defect".
  - 1 "Leg 1 defect".
  - 2 "Leg 2 defect".
  - 3 "Leg 1 + 2 defect".
  - 4 "Leg 3 defect".
  - 5 "Leg 1 + 3 defect".
  - 6 "Leg 2 + 3 defect".
  - 7 "Leg 1 + 2 + 3 defect".
- **Sender-Receiver:** PTC - VCU.

#### Name: HV_PTC_DutyCycle
- **Description:** Duty Cycle Actual.
- **I/O:** Input.
- **Min-Max:** -50 - 100.
- **Sender-Receiver:** PTC - VCU.

#### Name: HV_PTC_HV_DC_curr
- **Description:** Current Draw of HV-PTC.
- **I/O:** Input.
- **Min-Max:** 0 - 63,5.
- **Sender-Receiver:** PTC - VCU.

#### Name: HV_PTC_HV_Voltage
- **Description:** High Voltage Measurement.
- **I/O:** Input.
- **Min-Max:** 0 - 508.
- **Sender-Receiver:** PTC - VCU.

#### Name: HV_PTC_HV_Voltage_Valid
- **Description:** HV Valid Indicator.
- **I/O:** Input.
- **Min-Max:** 0 - 3.
- **Value Description:** 
  - 0 "NO HV detected".
  - 1 "HV valid".
  - 2 "Under Voltage".
  - 3 "Over Voltage".
- **Sender-Receiver:** PTC - VCU.

#### Name: HV_PTC_InternalPCBTemp
- **Description:** PCB Temperature.
- **I/O:** Input.
- **Min-Max:** -50°C - 204°C.
- **Sender-Receiver:** PTC - VCU.

#### Name: HV_PTC_InternalWaterTemp1
- **Description:** Medium Temperature 1 (Outlet by default).
- **I/O:** Input.
- **Min-Max:** -50°C - 204°C.
- **Sender-Receiver:** PTC - VCU.

#### Name: HV_PTC_Off_ShrtCurr
- **Description:** Short Circuit Detected.
- **I/O:** Input.
- **Min-Max:** 0 - 1.
- **Value Description:** 
  - 0 "No Short Detected".
  - 1 "Short Detected".
- **Sender-Receiver:** PTC - VCU.

#### Name: HV_PTC_Sp_ExtPwrSup_Flt
- **Description:** External Power Supply Failure.
- **I/O:** Input.
- **Min-Max:** 0 - 1.
- **Value Description:** 
  - 0 "Battery Voltage Okay".
  - 1 "Battery Voltage Off".
- **Sender-Receiver:** PTC - VCU.

#### Name: HV_PTC_Sp_LIN_Flt
- **Description:** LIN Communication Error Indicator.
- **I/O:** Input.
- **Min-Max:** 0 - 1.
- **Value Description:** 
  - 0 "No LIN Timeout Detected".
  - 1 "LIN Timeout Active".
- **Sender-Receiver:** PTC - VCU.

#### Name: HV_PTC_Status
- **Description:** HV-PTC Status.
- **I/O:** Input.
- **Min-Max:** 0 - 7.
- **Value Description:** 
  - 0 "HV PTC Off".
  - 1 "HV PTC On".
  - 2 "HV PTC Degraded".
  - 3 "HV PTC Stopped".
  - 4 "HV PTC Shutdown".
  - 5 "HV PTC Shorted".
  - 6 "HV PTC Reset Not Possible".
  - 7 "Signal Not Available".
- **Sender-Receiver:** e-HTR - VCU.

#### Name: HV_PTC_TempLim
- **Description:** Overtemperature Indicator.
- **I/O:** Input.
- **Min-Max:** 0 - 1.
- **Value Description:** 
  - 0 "No Over Temperature Detected".
  - 1 "Over Temperature Situation Active".
- **Sender-Receiver:** PTC - VCU.

#### Name: HV_PTC_TempSens_Flt
- **Description:** Temperature Sensor Fault Indicator.
- **I/O:** Input.
- **Min-Max:** 0 - 1.
- **Value Description:** 
  - 0 "No Temperature Sensor Fault Detected".
  - 1 "Temperature Sensor Fault Active".
- **Sender-Receiver:** PTC - VCU.

#### Name: RsErr_HV_PTC
- **Description:** LIN Response Error Indicator.
- **I/O:** Input.
- **Min-Max:** 0 - 1.
- **Value Description:** 
  - 0 "No LIN Response Error Detected".
  - 1 "LIN Timeout Active".
- **Sender-Receiver:** PTC - VCU.
Page 139
### 5.8.3 Signal I/O

#### EAC_CompElecCurrV
Compressor Electrical Current Validity, Input, 0 to 1.  
0 represents "Valid," 1 represents "Invalid."  
Sender: EAC, Receiver: VCU.

#### EAC_CompStat
Compressor Status, Input, 0 to 2.  
0 represents "Normal Operation," 1 represents "Degraded Operation," 2 represents "Inoperative."  
Sender: EAC, Receiver: VCU.

#### EAC_CompElecPwrV
Compressor Electrical Power Validity, Input, 0 to 1.  
0 represents "Valid," 1 represents "Invalid."  
Sender: EAC, Receiver: VCU.

#### EAC_CompSpdIncrReq
Compressor Speed Increasing Request, Input, 0 to 1.  
0 represents "False," 1 represents "True."  
Sender: EAC, Receiver: VCU.

#### EAC_CompSpdV
Compressor Actual Speed Validity, Input, 0 to 1.  
0 represents "Valid," 1 represents "Invalid."  
Sender: EAC, Receiver: VCU.

#### EAC_CompElecPwr
Compressor Electrical Power, Input, 0W to 10200W.  
Sender: EAC, Receiver: VCU.

#### EAC_CompSpd
Compressor Actual Speed, Input, 0rpm to 16383rpm.  
Sender: EAC, Receiver: VCU.

#### EAC_CompElecCurr
Compressor Electrical Current, Input, 0A to 51A.  
Sender: EAC, Receiver: VCU.

#### EAC_CompFltStat
Compressor Fault Status, Input, 0 to 6.  
0 represents "No Fault," 1 represents "Under Voltage," 2 represents "Over Voltage," 3 represents "Over Temperature," 4 represents "Input Control," 5 represents "Motor Control Fault," and 6 represents "Other Faults."  
Sender: EAC, Receiver: VCU.
Page 140
Name: EAC_1_LIN_Response_Error  
Description: LIN Response Error.  
I/O: Input  
Min: 0  
Max: 1  
Value Description: 0 "Normal", 1 "Error".  
Sender: EAC  
Receiver: VCU  

Name: EAC_CompIGBTTempV  
Description: Compressor IGBT Temperature Validity.  
I/O: Input  
Min: 0  
Max: 1  
Value Description: 0 "Valid", 1 "Invalid".  
Sender: EAC  
Receiver: VCU  

Name: EAC_CompHVInputV  
Description: Compressor High Voltage Input Validity.  
I/O: Input  
Min: 0  
Max: 1  
Value Description: 0 "Valid", 1 "Invalid".  
Sender: EAC  
Receiver: VCU  

Name: EAC_CompBoardTempV  
Description: Compressor Board Temperature Validity.  
I/O: Input  
Min: 0  
Max: 1  
Value Description: 0 "Valid", 1 "Invalid".  
Sender: EAC  
Receiver: VCU  

Name: EAC_CompBoardTemp  
Description: Compressor Board Temperature.  
I/O: Input  
Min: -40°C  
Max: 215°C  
Sender: EAC  
Receiver: VCU  

Name: EAC_CompHVInput  
Description: Compressor High Voltage Input.  
I/O: Input  
Min: 0V  
Max: 1020V  
Sender: EAC  
Receiver: VCU  

Name: EAC_CompIGBTTemp  
Description: Compressor IGBT Temperature.  
I/O: Input  
Min: -40°C  
Max: 215°C  
Sender: EAC  
Receiver: VCU  

Name: HV_Under_voltage  
Description: Under Voltage.  
I/O: Input  
Min: 0  
Max: 1  
Value Description: 0 "False", 1 "True".  
Sender: EAC  
Receiver: VCU  

Name: HV_Over_voltage  
Description: Over Voltage.  
I/O: Input  
Min: 0  
Max: 1  
Value Description: 0 "False", 1 "True".  
Sender: EAC  
Receiver: VCU  

Name: LV_Under_voltage  
Description: 12V Fault (Detection of low side).  
I/O: Input  
Min: 0  
Max: 1  
Value Description: 0 "False", 1 "True".  
Sender: EAC  
Receiver: VCU  

Name: LV_Over_voltage  
Description: 12V Fault (Detection of high side).  
I/O: Input  
Min: 0  
Max: 1  
Value Description: 0 "False", 1 "True".  
Sender: EAC  
Receiver: VCU  

Name: Over_Heat  
Description: Over Heat.  
I/O: Input  
Min: 0  
Max: 1  
Value Description: 0 "False", 1 "True".  
Sender: EAC  
Receiver: VCU  

Name: Over_Load  
Description: Overload.  
I/O: Input  
Min: 0  
Max: 1  
Value Description: 0 "False", 1 "True".  
Sender: EAC  
Receiver: VCU  

Name: Comm_error  
Description: Receiving Fault.  
I/O: Input  
Min: 0  
Max: 1  
Value Description: 0 "False", 1 "True".  
Sender: EAC  
Receiver: VCU
Page 141
### Vehicle Control Unit - Signal I/O Table

#### LIN_protocol_error.
LIN protocol Fault.
- Input range: 0 to 1.
- Value descriptions:
  - 0: "False".
  - 1: "True".
- Sender: EAC.
- Receiver: VCU.

#### Temp_sens_error.
Temperature Sensor Fault (Detection of temperature fluctuation).
- Input range: 0 to 1.
- Value descriptions:
  - 0: "False".
  - 1: "True".
- Sender: EAC.
- Receiver: VCU.

#### Voltage_sens_error.
Voltage Sensor Fault (Detection of voltage fluctuation).
- Input range: 0 to 1.
- Value descriptions:
  - 0: "False".
  - 1: "True".
- Sender: EAC.
- Receiver: VCU.

#### Curr_sens_error.
Current Sensor Fault.
- Input range: 0 to 1.
- Value descriptions:
  - 0: "False".
  - 1: "True".
- Sender: EAC.
- Receiver: VCU.

#### Inpower_error.
15V Sensor Fault.
- Input range: 0 to 1.
- Value descriptions:
  - 0: "False".
  - 1: "True".
- Sender: EAC.
- Receiver: VCU.

#### Over_Current.
Over Current.
- Input range: 0 to 1.
- Value descriptions:
  - 0: "False".
  - 1: "True".
- Sender: EAC.
- Receiver: VCU.

#### Over_Current_sens_error.
Over Current Sensor Fault.
- Input range: 0 to 1.
- Value descriptions:
  - 0: "False".
  - 1: "True".
- Sender: EAC.
- Receiver: VCU.

#### Wire_Unbalance.
Breaking of wire (Wire unbalanced fault).
- Input range: 0 to 1.
- Value descriptions:
  - 0: "False".
  - 1: "True".
- Sender: EAC.
- Receiver: VCU.

#### Stall.
Overload (stall).
- Input range: 0 to 1.
- Value descriptions:
  - 0: "False".
  - 1: "True".
- Sender: EAC.
- Receiver: VCU.

#### Temp_sens1_status.
Temperature Sensor 1 Status.
- Input range: 0 to 15.
- Value descriptions:
  - 0: "Normal".
  - 1: "ShortToGnd".
  - 2: "ShortToBatt".
  - 3: "OutOfRange_Low".
  - 4: "OutOfRange_High".
  - 5: "Reserved".
- Sender: EAC.
- Receiver: VCU.

#### Voltage_sens1_status.
Voltage Sensor 1 Status.
- Input range: 0 to 15.
- Value descriptions:
  - 0: "Normal".
  - 1: "ShortToGnd".
  - 2: "ShortToBatt".
  - 3: "OutOfRange_Low".
  - 4: "OutOfRange_High".
  - 5: "Reserved".
- Sender: EAC.
- Receiver: VCU.
Page 142
### POD_tempColdPlate
Reported 3-in-1 cold plate (cooling block surface) temperature.  
**Input:** Minimum -40, Maximum 130. Description: n.a.  
**Sender:** POD  
**Receiver:** VCU_PT  

### EAC_speed
Compressor speed.  
**Input:** Minimum 0 rpm, Maximum 12700 rpm.  
**Sender:** EAC  
**Receiver:** VCU  

### EAC_status
Compressor status.  
**Input:** Minimum 0, Maximum 7.  
- 0: "Compressor off."  
- 1: "Compressor on."  
- 2: "Compressor limit."  
- 3: "Pre-heating."  
- 4, 5: "Reserved."  
- 6: "Init."  
- 7: "Failure of EAC."  
**Sender:** EAC  
**Receiver:** VCU  

### EAC_input_voltage
Compressor input voltage.  
**Input:** Minimum 0 V, Maximum 508 V.  
**Sender:** EAC  
**Receiver:** VCU  

### EAC_input_current
Compressor input current.  
**Input:** Minimum 0 A, Maximum 127 A.  
**Sender:** EAC  
**Receiver:** VCU  

### TWV1_N_Position
Three-way valve N position.  
**Input:** Minimum 0%, Maximum 100%.  
**Sender:** TVW1  
**Receiver:** VCU  

### TWV1_St_Feedback
Three-way valve feedback.  
**Input:** Minimum 0, Maximum 15.  
- 0: "Over voltage."  
- 1: "Under voltage."  
- 2: "Over temperature warning."  
- 3: "Over temperature shutdown."  
**Sender:** TVW1  
**Receiver:** VCU
Page 143
TWV1_Frm_Error reports the frame error for the three-way valve. Input values are 0 for "Normal" and 1 for "Error." Data is sent from TVW1 to VCU.

CCU_HtrOnOffRequest indicates the PTC on/off request from CCU for BEV vehicles. Input ranges from 0 to 3, where 0 signifies "Off," 1 signifies "On," 2 is "Reserved," and 3 means "Signal invalid." Data is sent from CCU to VCU.

CCU_EcompOnOffRequest indicates the electrical compressor on/off request for BEV vehicles. Input ranges from 0 to 3, where 0 signifies "Off," 1 signifies "On," 2 is "Reserved," and 3 means "Signal invalid." Data is sent from CCU to VCU.

CCU_CoolDemand represents the CCU Cooling demand in percentage for BEV vehicles. Input ranges from 0 to 100 with values marked as "n.a." Data is sent from CCU to VCU.

CCU_HeatDemand represents the CCU Heating demand in percentage for BEV vehicles. Input ranges from 0 to 100 with values marked as "n.a." Data is sent from CCU to VCU.
Page 144
CCU_CoolPowerDemand indicates CCU Cooling Demand in kilowatts only for BEV vehicles. It is an input parameter with a minimum value of 0 and a maximum value of 10. No specific value description is provided. The sender is CCU and the receiver is VCU.

CCU_HeatPowerDemand indicates CCU Heating Demand in kilowatts only for BEV vehicles. It is an input parameter with a minimum value of 0 and a maximum value of 10. No specific value description is provided. The sender is CCU and the receiver is VCU.

CLMTWV2_N_TWVPosReq is a Three Way Valve Position Request. It is an output parameter with a minimum range of 0 and a maximum range of 100. The sender is VCU and the receiver is TWV2.

CLMTWV2_S_TWVMoveEnable indicates enabling the movement of the Three Way Valve to the commanded position. It is an output parameter with values of 0 ("Ignore Commanded Position") and 1 ("Move to Commanded Position"). The sender is VCU and the receiver is TWV2.

HV_PTC_Emg_Off_Rq indicates Emergency Shutoff. It is an output parameter with values of 0 ("No Shutdown requested") and 1 ("Shutdown requested"). The sender is VCU and the receiver is PTC.

HV_PTC_heating_rq indicates Heating Power Request in percent. It is an output parameter with a range between 0% and 100%. The sender is VCU and the receiver is PTC.

HV_PTC_On_Rq enables operation of the HV-PTC. It is an output parameter with values of 0 ("PTC off"), 1 ("PTC on"), 2 ("Reserved"), and 3 ("Signal not available"). The sender is VCU and the receiver is PTC.

HV_PTC_Reset_Rq indicates Reset Request for the HV-PTC. It is an output parameter with values of 0 ("No Reset requested"), 1 ("Reset requested"), 2 ("Not defined"), and 3 (undefined). The sender is VCU and the receiver is PTC.
Page 145
**Vehicle Control Unit**

**Vinfast Management System**

**VFDSXXEEP5046**

**Name**  
HVAC_HV_PTC_Dschrg_Rq.  

**Description**  
Discharge Request.  

**I/O**  
Output.  

**Min**  
0.  

**Max**  
3.  

**Value Description**  
0 "No Request", 1 "Discharge requested", 2 "not defined", 3 "Signal not available".  

**Sender**  
VCU.  

**Receiver**  
PTC.  

---

**Name**  
ECM_AutoCalibReq_1.  

**Description**  
Command for triggering automatic calibration sequence (rising edge).  

**I/O**  
Output.  

**Min**  
0.  

**Max**  
1.  

**Value Description**  
0 "No calibration triggered", 1 "Autocalibration is triggered".  

**Sender**  
VCU.  

**Receiver**  
AGS.  

---

**Name**  
ECM_TargetPosReq_1.  

**Description**  
Command signal for the actual target position.  

**I/O**  
Output.  

**Min**  
0.  

**Max**  
100.  

**Value Description**  
0 "Open Position", 100 "Close position".  

**Sender**  
VCU.  

**Receiver**  
AGS.  

---

**Name**  
ECM_TorqueBoostReq_1.  

**Description**  
Command for selecting applied torque mode.  

**I/O**  
Output.  

**Min**  
0.  

**Max**  
15.  

**Value Description**  
0 "Nominal torque is selected", 2 "Low torque is selected", 4 "Boost_mode 0 selected", 5 "Boost_mode_1 selected", 1 "nominal torque", 3 "nominal torque", 6 "nominal torque", 7 "nominal torque".  

**Sender**  
VCU.  

**Receiver**  
AGS.
Page 146
Name: CompSpdReq  
Description: Compressor Speed Request.  
I/O: Output.  
Min: 0 rpm.  
Max: 16383 rpm.  
Value Description: Compressor Speed Request.  
Sender: VCU.  
Receiver: EAC.

Name: EAC_drive_request  
Description: Compressor Start Permission.  
I/O: Output.  
Min: 0.  
Max: 3.  
Value Description: 0 "Compressor off", 1 "Compressor on", 2 "Not define", 3 "SNA".  
Sender: VCU.  
Receiver: EAC.

Name: EAC_power_lim  
Description: Compressor Maximum Power Supply.  
I/O: Output.  
Min: 0 kW.  
Max: 20.32 kW.  
Sender: VCU.  
Receiver: EAC.  

Name: CcuHtrOnOffSts  
Description: PTC status from VCU only for BEV car.  
I/O: Output.  
Min: 0.  
Max: 7.  
Value Description:  
    0 "HV PTC off / HV_PTC_OFF".  
    1 "HV PTC on / HV_PTC_ON".  
    2 "HV PTC degraded / HV_PTC_DEG".  
    3 "HV PTC stopped / HV_PTC_STOP".  
Sender: VCU.  
Receiver: XGW.
Page 147
Name: HV_PTC_STOP  
Description: HV PTC shutdown / HV_PTC_SHUTDOWN.  
I/O: Output.  
Min: 4.  
Max: 7.  
Value Description: - 4 "HV PTC shutdown / HV_PTC_SHUTDOWN"  
- 5 "HV PTC shorted / HV_PTC_SHORTED"  
- 6 "HV PTC reset not possible / HV_PTC_NO_RESET"  
- 7 "SNA".  
Sender: VCU.  
Receiver: XGW.

Name: EcompOnOffSts  
Description: Electrical compressor on/off status. Only BEV car.  
I/O: Output.  
Min: 0.  
Max: 3.  
Value Description: - 0 "Off"  
- 1 "On"  
- 2 "Reserved"  
- 3 "Signal invalid".  
Sender: VCU.  
Receiver: XGW.

Name: ECompPowerConsumption  
Description: E-compressor actual power consumption (Cooling power). Only BEV car.  
I/O: Output.  
Min: 0.  
Max: 12.  
Value Description: Not available.  
Sender: VCU.  
Receiver: XGW.

Name: ECompRpm  
Description: E-compressor actual RPM. Only BEV car.  
I/O: Output.  
Min: 0.  
Max: 12000.  
Value Description: Not available.  
Sender: VCU.  
Receiver: XGW.

Name: HtrMediumInletTemp  
Description: Not available in current PTC (reserved) Heater medium inlet temperature (Purpose for PTC). Only BEV car.  
I/O: Output.  
Min: -40.  
Max: 200.  
Value Description: Not available.  
Sender: VCU.  
Receiver: XGW.
Page 148
### Page 148 of 208

#### HtrMediumOutletTemp
Reports heater medium outlet temperature for PTC, applicable only to BEV cars.  
- **Type**: Output  
- **Min**: -40  
- **Max**: 200  
- **Sender**: VCU  
- **Receiver**: XGW  

#### VCU_Pump_1_Flowrate
Reports the cooling pump 1 flow rate in the EDS loop.  
- **Type**: Output  
- **Min**: 0  
- **Max**: 25.4  
- **Sender**: VCU  
- **Receiver**: XGW  

#### VCU_Pump_1_Stt
Reports the status of cooling pump 1 in the EDS loop.  
- **Type**: Output  
- **Min**: 0  
- **Max**: 3  
- **Possible Values**:  
  - 0: "OFF"  
  - 1: "ON"  
  - 2: "Fault"  
  - 3: "Reserve"  
- **Sender**: VCU  
- **Receiver**: XGW  

#### VCU_Pump_2_Flowrate
Reports the cooling pump 2 flow rate in the HV Battery loop.  
- **Type**: Output  
- **Min**: 0  
- **Max**: 25.4  
- **Sender**: VCU  
- **Receiver**: XGW  

#### VCU_Pump_2_Stt
Reports the status of cooling pump 2 in the HV Battery loop.  
- **Type**: Output  
- **Min**: 0  
- **Max**: 3  
- **Possible Values**:  
  - 0: "OFF"  
  - 1: "ON"  
  - 2: "Fault"  
  - 3: "Reserve"  
- **Sender**: VCU  
- **Receiver**: XGW  

#### VCU_TempSensor_1_value
Reports the measured value from temperature sensor 1 in the EDS loop.  
- **Type**: Output  
- **Min**: -40  
- **Max**: 215  
- **Sender**: VCU  
- **Receiver**: XGW  

#### VCU_TempSensor_5_value
Reports the measured value from temperature sensor 6 for the PTC heater output.  
- **Type**: Output  
- **Min**: -40  
- **Max**: 215  
- **Sender**: VCU  
- **Receiver**: XGW  

#### VCU_TempSensor_6_value
Reports the measured value from temperature sensor 5 for LTR2 (Low Temp Radiator 2).  
- **Type**: Output  
- **Min**: -40  
- **Max**: 215  
- **Sender**: VCU  
- **Receiver**: XGW  

#### THM_pwmPumpOBC
Reports the pump PWM output.  
- **Type**: Output  
- **Min**: 0  
- **Max**: 100  
- **Sender**: VCU  
- **Receiver**: XGW  

#### THM_tempCoolantInletEMU
Reports the thermal input coolant temperature.  
- **Type**: Output  
- **Min**: -30  
- **Max**: 98  
- **Sender**: VCU  
- **Receiver**: XGW
Page 149
5.9 Creep Control.

5.9.1 Design Level Requirements.

Creep control architecture is given as below:

**Figure 5-42 Creep Control**

- Raw creep switch status shall be calculated based on a vector mapping.
- Based on vehicle speed, steering, and gear status, the creep torque shall be calculated.
- The vehicle shall drive up to a defined calibratable value in D and a different defined calibratable value in R when the brake pedal is released and no accelerator pedal is pressed.
- Creep switch shall be always enabled as default. There is no creep switch architecture requested. Disable/enable would be added if it is requested. Disable/Enable shall only be possible when the vehicle is in standstill and the brake pedal is pressed, and the gear is N or P.
- Motor hill hold shall be considered for creep torque.
- To ensure efficiency, creep torque shall be reduced when the brake pedal is pressed.
- The amount of creep torque is reduced over the brake pedal position and vehicle speed.
Page 150
# 5.9 Creep Control  
## 5.9.1 Design Level Requirements  
Creep control architecture is given as below:  

### Figure 5-42 Creep Control  
The diagram illustrates the creep control function, comprising multiple components such as vehicle speed, motor hill hold enable/disable, steering status, gear status, brake pedal position, and ESC hold status. These inputs feed into the creep torque input function, which determines the raw creep switch status. The requested creep torque is then calculated and sent to the creep torque for torque path.  

### Design Requirements:  
- Raw creep switch status shall be calculated based on a vector mapping.  
- Based on vehicle speed, steering, and gear status, the creep torque shall be calculated.  
- The vehicle shall drive up to a defined calibratable value in D (Drive) and a different calibratable value in R (Reverse) when the brake pedal is released, and no accelerator pedal is pressed.  
- Creep switch shall always be enabled by default. No specific creep switch architecture is requested. Disable/enable functionality would be added upon request.  
- Disable/Enable shall only be possible when the vehicle is stationary, with the brake pedal pressed and gear in N (Neutral) or P (Park).  
- Motor hill hold shall be considered for creep torque.  
- To ensure efficiency, creep torque shall be reduced when the brake pedal is pressed.  
- The amount of creep torque shall be adjusted based on brake pedal position and vehicle speed.  

---

# Hill Start Assist Function Architecture  
### Description:  
This architecture supports smooth hill starts by managing torque and brake pressure.  

### Components:  
1. **Input Device Block (IDB):**  
   - Brake pressure built up by the driver will be decreased under the following conditions:  
     - If the actual EDS torque is positive.  
     - After a certain time due to a FUSA request.  

2. **Vehicle Control Unit (VCU):**  
   - Sends out a positive driver torque request based on the accelerator pedal as long as the Hill Start Assist (HSA) is active.  
   - Ensures no negative torque requests by default.  
   - While ESC holds position ("p 54 hold by ESC"), the creep torque shall be zero.  

3. **Electronic Drive System (EDS):**  
   - Provides output torque signals (EDS_output_trq_FR and EDS_output_trq_RR) for the front and rear wheels respectively.  

### Diagram:  
The diagram illustrates the interaction between IDB, VCU, and EDS for effective hill start assistance.  

---
VinFast Released
Page 151
### 5.9 Creep Control

#### 5.9.1 Design Level Requirements
Creep control architecture is given as below:

**Figure 5-42 Creep Control.**

- Raw creep switch status shall be calculated based on a vector mapping.
- Based on vehicle speed, steering and gear status, the creep torque shall be calculated.
- The vehicle shall drive up to a defined calibratable value in D and a different defined calibratable value in R when the brake pedal is released, and no accelerator pedal is pressed.
- Creep switch shall be always enabled as default. There is no creep switch architecture requested. Disable/enable would be added if it is requested. Disable/Enable shall only be possible when the vehicle is in standstill and the brake pedal is pressed and the gear is N or P.
- Motor hill hold shall be considered for creep torque.
- To ensure efficiency, creep torque shall be reduced, when the brake pedal is pressed.
- The amount of creep torque is reduced over the brake pedal position and vehicle speed.

---

### Hill Start Assist Function Architecture

**Figure 5-43 Hill Start Assist Function Architecture.**

- Brake pressure built up by the driver will be decreased:
  1. If the actual EDS torque is positive.
  2. After a certain time due to FUSA request.
- VCU shall send out a positive driver torque request based on accelerator pedal, as long as the HSA is active. No negative torque requests.
- "p 54 hold by ESC, the creep torque shall be zero."

---

#### 5.9.2 Topology Diagram
The creep function shall be controlled by VCU. VCU shall control the vehicle in a low speed when the brake pedal and accelerator pedal are released. The topology diagram is given as follows:

**Figure 5-43 Topology Diagram - Creep Control.**
Page 152
### 5.9 Creep Control

#### 5.9.1 Design Level Requirements
Creep control architecture is described as follows:

- Raw creep switch status shall be calculated based on a vector mapping.
- Based on vehicle speed, steering, and gear status, the creep torque shall be calculated.
- The vehicle shall drive up to a defined calibratable value in D and a different defined calibratable value in R when the brake pedal is released, and no accelerator pedal is pressed.
- Creep switch shall always be enabled as the default. There is no creep switch architecture requested. Disable/enable would be added if it is requested. Disable/Enable shall only be possible when the vehicle is in standstill, the brake pedal is pressed, and the gear is N or P.
- Motor hill hold shall be considered for creep torque.
- To ensure efficiency, creep torque shall be reduced when the brake pedal is pressed.
- The amount of creep torque is reduced over the brake pedal position and vehicle speed.

#### Figure 5-42: Creep Control
This figure illustrates the functional flow of creep control, highlighting key inputs such as vehicle speed, steering status, brake pedal position, and ESC hold status, which influence creep torque input and request calculations.

---

#### 5.9.2 Topology Diagram
The creep function shall be controlled by the Vehicle Control Unit (VCU). The VCU shall manage the vehicle at low speed when both the brake pedal and accelerator pedal are released.

#### Figure 5-43: Topology Diagram - Creep Control
This figure depicts the topology structure for controlling creep functionality. It includes the VCU, EDS_R, EDS_F, IDB, BMS, and XGW components interconnected via CAN BUS.

---

#### 5.9.3 Signal I/O

**VCU_HVsystem_status:**  
Vehicle High Voltage Ready State.  
- **I/O:** Output  
- **Min:** 0  
- **Max:** 7  
- **Value Description:**  
  - 0: Not ready  
  - 1: HV On  
  - 2: Ready To Drive  
  - 3: Charging  
  - 4: Error  
  - 5, 6, 7: Reserved  
- **Sender:** VCU  
- **Receiver:** XGW  

**VCU_ACTGear:**  
Gear position (excluding manual transmission).  
- **I/O:** Output  
- **Min:** 0  
- **Max:** 7  
- **Value Description:**  
  - 0: P  
  - 1: R  
  - 2: N  
  - 3: D  
  - 4-7: Reserved  
- **Sender:** VCU  
- **Receiver:** XGW  

**VCU_ACTGearValid:**  
Gear position status.  
- **I/O:** Output  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 0: Valid  
  - 1: Invalid  
- **Sender:** VCU  
- **Receiver:** XGW  

**IDB_Brake_Pedal_position:**  
Brake Pedal Applied.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 0: Invalid  
  - 1: Valid  
- **Sender:** ESC  
- **Receiver:** VCU  

**IDB_Brake_Pedal_position_sts:**  
Brake Pedal Applied status.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 0: Invalid  
  - 1: Valid  
- **Sender:** ESC  
- **Receiver:** VCU  

**EDS_MinTrq_FWD:**  
Allow minimum torque available over long periods in the forward direction.  
- **I/O:** Input  
- **Min:** -2000  
- **Max:** 2000  
- **Value Description:** n.a.  
- **Sender:** EDS_F  
- **Receiver:** VCU_PT, IDB_PT  

**EDS_MaxTrq_FWD:**  
Allow maximum torque available over long periods in the forward direction.  
- **I/O:** Input  
- **Min:** -2000  
- **Max:** 2000  
- **Value Description:** n.a.  
- **Sender:** EDS_F  
- **Receiver:** VCU_PT, IDB_PT  

**EDS_MinTrq_RWD:**  
Allow minimum torque available over long periods in the rearward direction.  
- **I/O:** Input  
- **Min:** -2000  
- **Max:** 2000  
- **Value Description:** n.a.  
- **Sender:** EDS  
- **Receiver:** VCU  

**BMS_MaxDischgPwr_Peak:**  
Peak discharge power.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 800  
- **Value Description:** n.a.  
- **Sender:** BMS  
- **Receiver:** VCU  

**MHU_EvSetting_MHU_VCU_CreepDisable_stt:**  
Request for VCU to disable the creep function.  
- **I/O:** Input  
- **Min:** 0  
- **Max:** 1  
- **Value Description:**  
  - 0: No request  
  - 1: Creep Disable request  
- **Sender:** MHU  
- **Receiver:** VCU
Page 153
5.10 Adaptive Cruise Control.

5.10.1 Design Level Requirements.

5.10.1.1 ACC - Adaptive Cruise Control.

**ACC Standby:**  
VCU shall set ACC to standby when `ADAS_ACC_Mode_VCU` signal is 3 "Standby".

**ACC Activation:**  
VCU shall activate ACC when `ADAS_ACC_Mode_VCU` signal is 4 "Active" and the vehicle is drive-ready, with the actual gear state being drive. If ACC is active and `IDB_ACC_WheelTrq_Request` is active, VCU shall follow the requested wheel-level positive torque (`CRC_IDB_VCU_ACC_TorqueRequest`). VCU shall calculate and provide virtual accelerator pedal position and maximum wheel-level available positive torque (`VCU_Available_Wheel_Torque`).  

**Regen Brake Request during ACC Active:**  
VCU shall follow regenerative braking torque request from IDB:  
`IDB_RecuBrakeTorqueRequest_FR` and `IDB_RecuBrakeTorqueRequest_RR`.

**ACC Override:**  
VCU shall set ACC to override when `ADAS_ACC_Mode_VCU` signal is 5 "Override" state, or the accelerator pedal torque request is greater than `CRC_IDB_VCU_ACC_TorqueRequest`.

**ACC Deactivation:**  
VCU shall deactivate ACC when `ADAS_ACC_Mode_VCU` signal is:  
- 0 "Initialization"  
- 1 "OFF"  
- 2 "Inhibited"  
- 3 "Standby"  
- 6 "Brake Only"  
- 7 "Fault" state. 

**Figure 5-44 ACC Status & Torque Request:**  
The figure illustrates the interaction between various ACC states such as Active, Override, and Inactive, along with torque request handling involving IDB intervention and ADAS signals.
Page 154
5.11 ADAS.

5.11.1 Design Level Requirements.

5.11.1.1 ADAS Available.
VCU shall send VCU_ADAS_Available as available when VCU_HV_DRVsystem_status is equal to 1 (normal), signal from ESP/ABS if ABS is inactive, traction control intervention is inactive, and ADAS_VCU_State is not equal to Failed (7).

5.11.1.2 ADAS Control Active.
VCU shall send VCU_ADAS_ControlledRes when VCU_ADAS_Available is available and ADAS_VCU_ControlReq is set.

**Figure 5-44 ADAS Handshake**: This diagram illustrates the communication mechanism between ADCU and VCU for ADAS system handshaking. It explains the activation and deactivation states, including transitions between modes like APA and FAPA alongside torque and gear settings.
Page 155
5.11 ADAS.

5.11.1 Design Level Requirements.

5.11.1.3 ADAS Activation.
When the ADAS_VCU_State is equal to 3 (active), or 5 (suspend), VCU shall activate the APA. When APA is active, VCU shall follow the APA gear request and APA torque request.

5.11.1.4 APA Activation - Assisted Parking Aid.
VCU shall send VCU_ADAS_VCU_FuncMode as APA (1) when the ADAS function mode ADAS_VCU_FuncMode is equal to APA (1), and ADAS is active.

5.11.1.5 RP Activation - Remote Parking.
VCU shall send VCU_ADAS_VCU_FuncMode as RP (2) when the ADAS function mode ADAS_VCU_FuncMode is equal to RP (2) and ADAS is active.

5.11.1.6 SM Activation – Summon Mode.
VCU shall send VCU_ADAS_VCU_FuncMode as SM (3) when the ADAS function mode ADAS_VCU_FuncMode is equal to SM (3) and ADAS is active.

### Figure Description: ADAS Activation.
The table shows the interaction requirements based on ADAS_VCU_State values:
- **0x0: Off** – VCU does not listen for ADAS_VCU_GearReq or ADAS_VCU_Wheeltorque.
- **0x1: Standby** – VCU does not listen for ADAS_VCU_GearReq or ADAS_VCU_Wheeltorque.
- **0x2: Enable** – VCU does not listen for ADAS_VCU_GearReq or ADAS_VCU_Wheeltorque.
- **0x3: Active** – VCU listens for ADAS_VCU_GearReq and ADAS_VCU_Wheeltorque.
- **0x4: Finished** – VCU does not listen for ADAS_VCU_GearReq or ADAS_VCU_Wheeltorque.
- **0x5: Suspend** – VCU listens for ADAS_VCU_GearReq and ADAS_VCU_Wheeltorque.
- **0x6: Abort** – VCU does not listen for ADAS_VCU_GearReq or ADAS_VCU_Wheeltorque.
- **0x7: Failed** – VCU does not listen for ADAS_VCU_GearReq or ADAS_VCU_Wheeltorque.
Page 156
5.11 ADAS.

5.11.1 Design Level Requirements.

5.11.1.1 ADAS Available.
VCU shall send `VCU_ADAS_Available` as available when `VCU_HV_DRVsystem_status` is equal to 1 (normal), signal from ESP/ABS if ABS is inactive, traction control intervention is inactive, and `ADAS_VCU_State` is not equal to Failed (7).

5.11.1.2 ADAS Control Active.
VCU shall send `VCU_ADAS_ControlledRes` when `VCU_ADAS_Available` is available and `ADAS_VCU_ControlReq` is set.

_**Figure 5-44**_: ADAS Handshake.

5.11.1.3 ADAS Activation.
When the `ADAS_VCU_State` is equal to 3 (active), or 5 (suspend), VCU shall activate the APA. When APA is active, VCU shall follow the APA gear request. VCU shall follow APA torque request.

_**Figure 5-45**_: ADAS Activation.

5.11.1.4 APA Activation - Assisted Parking Aid.
VCU shall send `VCU_ADAS_VCU_FuncMode` as APA (1) when the ADAS function mode `ADAS_VCU_FuncMode` is equal to APA (1) and ADAS is active.

5.11.1.5 RP Activation - Remote Parking.
VCU shall send `VCU_ADAS_VCU_FuncMode` as RP (2) when the ADAS function mode `ADAS_VCU_FuncMode` is equal to RP (2) and ADAS is active.

5.11.1.6 SM Activation - Summon Mode.
VCU shall send `VCU_ADAS_VCU_FuncMode` as SM (3) when the ADAS function mode `ADAS_VCU_FuncMode` is equal to SM (3) and ADAS is active.

_**Figure 5-46**_: ADASs Functional Architectures.
1. **ADAS Status & Torque Request**: Displays control logic and states for ADAS Active, Handshake, and Abort mechanisms.
2. **ADAS Active & Abort Feedback**: Defines responsibility for ADAS activation, including torque requests and threshold detection for distinct modes (FAPA, RP, SM). Addresses feedback scenarios during intervention events.
Page 157
VCU shall actively disconnect the handshake with FAPA in the following situations:

1. **FAPA fails (the state machine is normal); ADAS_VCU_State = 0x7: Failed**  
   When ADAS state goes to a failed state, VCU shall disconnect the handshake.

2. **The vehicle is speeding**  
   When the vehicle goes above the speed thresholds of ADAS functions, VCU shall disconnect the handshake.

3. **VCU failure (VCU_ADAS_Available = 0x1; Not available)**  
   ADAS is not available because of internal errors in VCU. VCU shall disconnect the handshake.

4. **FAPA signal or node loss**  
   When there is a communication error between ADAS and VCU, the handshake shall be disconnected.
Page 158
5.11.1.7 ADAS Abort Feedback

0: Normal  
1: Vehicle block  
2: IDB intervention  
3: Over speed  
4: Cannot change gear  
5: Driver intervention (gear)  

**0 - Normal:**  
If there is no abort feedback, VCU shall set the VCU_ADAS_CtrlAbort_Feedback to normal.  

**1 - Vehicle block:**  
If ADAS mode target torque ADAS_VCU_Wheeltorque is greater than the defined threshold where the vehicle cannot move, abort feedback shall be set. This trigger occurs when the vehicle speed is below the defined calibratable value, ADAS control (VCU_ADAS_ControledRes) is activated, and the actual gear mode is drive or reverse. VCU shall set VCU_ADAS_CtrlAbort_Feedback to vehicle block.  

**2 - IDB Intervention:**  
If IDB intervention is active and ADAS_VCU_ControlReq is set, VCU shall set VCU_ADAS_CtrlAbort_Feedback to IDB intervention.  

**3 - Over Speed:**  
If the vehicle's ground speed exceeds the predefined ADAS mode-based speed threshold value and ADAS_VCU_ControlReq is set, VCU shall set VCU_ADAS_CtrlAbort_Feedback to over speed.  

**4 - Cannot Change Gear:**  
If VCU_ADAS_CtrlAbortFeedback is active and the actual gear is not equal to ADAS_VCU_GearReq for a calibratable time of 2 seconds, VCU shall set VCU_ADAS_CtrlAbort_Feedback to cannot change gear.  

**5 - Driver Intervention:**  
If VCU_ADAS_CtrlAbortFeedback is active and the driver requests a different gear using GS, VCU shall set VCU_ADAS_CtrlAbort_Feedback to driver intervention.
Page 159
5.11.2 Topology Diagram.

The topology diagram for ADAS is given as follows. 

Figure 5-48 illustrates the interactions between the Vehicle Control Unit (VCU), ADAS system, Interconnect Data Bus (IDB), and additional components such as the SCAM and MRGEn systems via the XGW gateway.
Page 160
5.11.3 Signal I/O

- **VCU_Available_Wheel_Torque:**  
  The signal represents the maximum available wheel torque from the VCU for acceleration control.  
  **I/O:** Output  
  **Min:** -8000 Nm  
  **Max:** 8000 Nm  
  **Value Description:** n.a.  
  **Sender:** VCU  
  **Receiver:** IDB

- **VCU_RecuBrakeTorqCap_FR:**  
  This signal shows the available torque of the front electrical machine that the powertrain can provide to create an equivalent braking torque.  
  **I/O:** Output  
  **Min:** -8000 Nm  
  **Max:** 8000 Nm  
  **Value Description:** n.a.  
  **Sender:** VCU  
  **Receiver:** IDB

- **VCU_RecuBrakeTorqCap_RR:**  
  This signal shows the available torque of the rear electrical machine that the powertrain can provide to create an equivalent braking torque.  
  **I/O:** Output  
  **Min:** -8000 Nm  
  **Max:** 8000 Nm  
  **Value Description:** n.a.  
  **Sender:** VCU  
  **Receiver:** IDB

- **VCU_RecuBrkTorqCap_Sts_FR:**  
  Indicates the status of the Regen Torque Capability signal for the front region.  
  **I/O:** Output  
  **Min:** 0  
  **Max:** 3  
  **Value Description:**  
    - 0: "Not Initialized"  
    - 1: "Normal"  
    - 2: "Faulty"  
  **Sender:** VCU  
  **Receiver:** IDB

- **VCU_RecuBrkTorqCap_Sts_RR:**  
  Indicates the status of the Regen Torque Capability signal for the rear region.  
  **I/O:** Output  
  **Min:** 0  
  **Max:** 3  
  **Value Description:**  
    - 0: "Not Initialized"  
    - 1: "Normal"  
    - 2: "Faulty"  
  **Sender:** VCU  
  **Receiver:** IDB
Page 161
5.11.3 Signal I/O.

1. VCU_Available_Wheel_Torque: VCU outputs the maximum available wheel torque for acceleration control. The torque range is between -8000 Nm and 8000 Nm. The described values are not applicable (n.a.). Sender: VCU, Receiver: IDB.

2. VCU_RecuBrakeTorqCap_FR: This signal indicates the available torque of the electrical machine, which the power train can use to create an equivalent braking torque for the front right (FR). The torque range is -8000 Nm to 8000 Nm, with values not applicable (n.a.). Sender: VCU, Receiver: IDB.

3. VCU_RecuBrakeTorqCap_RR: This signal indicates the available torque of the electrical machine, which the power train can use to create an equivalent braking torque for the rear right (RR). The torque range is -8000 Nm to 8000 Nm, with values not applicable (n.a.). Sender: VCU, Receiver: IDB.

4. VCU_RecuBrkTorqCap_Sts_FR: This signal indicates the status of the regeneration torque capability signal for the front right (FR). Possible states are:
   - 0: "Not Initialized."
   - 1: "Normal."
   - 2: "Faulty."
   Sender: VCU, Receiver: IDB.

5. VCU_RecuBrkTorqCap_Sts_RR: This signal indicates the status of the regeneration torque capability signal for the rear right (RR). Possible states are:
   - 0: "Not Initialized."
   - 1: "Normal."
   - 2: "Faulty."
   Sender: VCU, Receiver: IDB.

6. VCU_ACTGear: The actual gear signal provided by the VCU describes the gear shift status. Possible states are:
   - 0: "P."
   - 1: "R."
   - 2: "N."
   - 3: "D."
   - 4, 5, 6: "Reserved."
   - 7: "Fault."
   Sender: VCU, Receiver: ADAS.

7. VCU_ACTGearValid: The VCU outputs the validity of the current gear position. Possible states are:
   - 0: "Valid."
   - 1: "Invalid."
   Sender: VCU, Receiver: ADAS.

8. CRC_IDB_VCU_ACC_TorqueRequest: This input signal from IDB specifies the ACC control target wheel torque request. The torque range is -8000 Nm to 8000 Nm, with values not applicable (n.a.). Sender: IDB, Receiver: VCU.

9. IDB_ACC_WheelTrq_Request: This input signal represents the IDB ACC wheel torque request flag. Possible states are:
   - 0: "No Request."
   - 1: "Request Wheel Torque."
   Sender: IDB, Receiver: VCU.

10. IDB_RecuBrakeTorqueRequest_FR: This input signal specifies the recuperation torque request of the brake system for the front right (FR). The torque range is 0 Nm to 8000 Nm, with values not applicable (n.a.). Sender: IDB, Receiver: VCU.

11. IDB_RecuBrakeTorqueRequest_RR: This input signal specifies the recuperation torque request of the brake system for the rear right (RR). The torque range is 0 Nm to 8000 Nm, with values not applicable (n.a.). Sender: IDB, Receiver: VCU.

12. IDB_RecuBrakeControl_Sts: This signal enables or disables regenerative cooperation control. Possible states are:
   - 0: "Enable."
   - 1: "Disable."
   Sender: IDB, Receiver: VCU.
Page 162
5.11.3 Signal I/O

**VCU_Available_Wheel_Torque**  
VCU Max Available Wheel Torque for Acceleration control.  
- **Type:** Output  
- **Range:** -8000 Nm to 8000 Nm  
- **Value Description:** n.a.  
- **Sender:** VCU  
- **Receiver:** IDB  

**VCU_RecuBrakeTorqCap_FR**  
The signal shows the available torque of the electrical machine, which the power train can make available to create an equivalent braking torque (FR).  
- **Type:** Output  
- **Range:** -8000 Nm to 8000 Nm  
- **Value Description:** n.a.  
- **Sender:** VCU  
- **Receiver:** IDB  

**VCU_RecuBrakeTorqCap_RR**  
The signal shows the available torque of the electrical machine, which the power train can make available to create an equivalent braking torque (RR).  
- **Type:** Output  
- **Range:** -8000 Nm to 8000 Nm  
- **Value Description:** n.a.  
- **Sender:** VCU  
- **Receiver:** IDB  

**VCU_RecuBrkTorqCap_Sts_FR**  
Indicates the status of Regen Torque Capability signal (FR).  
- **Type:** Output  
- **Range:** 0 to 3  
- **Value Description:**  
  - 0: "Not Initialized"  
  - 1: "Normal"  
  - 2: "Faulty"  
- **Sender:** VCU  
- **Receiver:** IDB  

**VCU_RecuBrkTorqCap_Sts_RR**  
Indicates the status of Regen Torque Capability signal (RR).  
- **Type:** Output  
- **Range:** 0 to 3  
- **Value Description:**  
  - 0: "Not Initialized"  
  - 1: "Normal"  
  - 2: "Faulty"  
- **Sender:** VCU  
- **Receiver:** IDB  

**VCU_ACTGear**  
Actual gear, provides gear shift signals.  
- **Type:** Output  
- **Range:** 0 to 7  
- **Value Description:**  
  - 0: "P"  
  - 1: "R"  
  - 2: "N"  
  - 3: "D"  
  - 4: "Reserved"  
  - 5: "Reserved"  
  - 6: "Reserved"  
  - 7: "Fault"  
- **Sender:** VCU  
- **Receiver:** ADAS  

**VCU_ACTGearValid**  
Indicates the current gear position.  
- **Type:** Output  
- **Range:** 0 to 1  
- **Value Description:**  
  - 0: "Valid"  
  - 1: "Invalid"  
- **Sender:** VCU  
- **Receiver:** ADAS  

**CRC_IDB_VCU_ACC_TorqueRequest**  
IDB ACC Control Target Wheel Torque Request Signal.  
- **Type:** Input  
- **Range:** -8000 Nm to 8000 Nm  
- **Value Description:** n.a.  
- **Sender:** IDB  
- **Receiver:** VCU  

**IDB_ACC_WheelTrq_Request**  
IDB ACC Wheel Torque Request Flag.  
- **Type:** Input  
- **Range:** 0 to 1  
- **Value Description:**  
  - 0: "No Request"  
  - 1: "Request Wheel Torque"  
- **Sender:** IDB  
- **Receiver:** VCU  

**IDB_RecuBrakeTorqueRequest_FR**  
The signal shows the recuperation torque request of the brake system (FR).  
- **Type:** Input  
- **Range:** 0 Nm to 8000 Nm  
- **Value Description:** n.a.  
- **Sender:** IDB  
- **Receiver:** VCU  

**IDB_RecuBrakeTorqueRequest_RR**  
The signal shows the recuperation torque request of the brake system (RR).  
- **Type:** Input  
- **Range:** 0 Nm to 8000 Nm  
- **Value Description:** n.a.  
- **Sender:** IDB  
- **Receiver:** VCU  

**IDB_RecuBrakeControl_Sts**  
Regen cooperation control enable.  
- **Type:** Input  
- **Range:** 0 to 1  
- **Value Description:**  
  - 0: "Enable"  
  - 1: "Disable"  
- **Sender:** IDB  
- **Receiver:** VCU  

**IDB_RecuBrkTorqueReq_Sts**  
Indicates whether Regenerative Braking function is active or not. This signal reflects regen cooperation that is controlling (Target Regen Torque > 0).  
- **Type:** Input  
- **Range:** 0 to 1  
- **Value Description:**  
  - 0: "Not Active"  
  - 1: "Active"  
- **Sender:** IDB  
- **Receiver:** VCU  

**ADAS_VCU_Wheeltorque**  
APA request VCU wheel torque value.  
- **Type:** Input  
- **Range:** 0 to 800 Nm  
- **Value Description:** n.a.  
- **Sender:** ADAS  
- **Receiver:** VCU  

**Alive_ADAS_VCU_ACC_Status**  
Alive Counter.  
- **Type:** Input  
- **Range:** 0 to 14  
- **Value Description:** n.a.  
- **Sender:** ADAS  
- **Receiver:** VCU  

**CRC_ADAS_VCU_ACC_Status**  
Checksum.  
- **Type:** Input  
- **Range:** 0 to 255  
- **Value Description:** n.a.  
- **Sender:** ADAS  
- **Receiver:** VCU  

**SECCAN_ADAS_VCU_ACC_Status**  
Seed generated from Secure CAN algorithm.  
- **Type:** Input  
- **Range:** 0 to 255  
- **Value Description:** n.a.  
- **Sender:** ADAS  
- **Receiver:** VCU  

**CRC_VCU_Wheel_Torque_Status**  
Checksum.  
- **Type:** Output  
- **Range:** 0 to 255  
- **Value Description:** n.a.  
- **Sender:** VCU  
- **Receiver:** IDB
Page 163
### 5.11.3 Signal I/O

**Name:** ALIV_VCU_Wheel_Torque_Status  
**Description:** Alive counter  
**I/O:** Output  
**Min:** 0  
**Max:** 14  
**Value Description:** n.a.  
**Sender:** VCU  
**Receiver:** IDB  

**Name:** VCU_HV_DRVsyst_em_status  
**Description:** Status of driving system (High voltage)  
**I/O:** Output  
**Min:** 0  
**Max:** 7  
**Value Description:**  
0: "Not available"  
1: "Normal"  
2: "Degration"  
3: "Limphome"  
4: "Error"  
5: "Reserved"  
6: "Reserved"  
7: "Reserved"  
**Sender:** VCU  
**Receiver:** ADAS  

**Name:** VCU_Accel_Pedal_Position_Virtual  
**Description:** Virtual Accel Pedal Position  
**I/O:** Input  
**Min:** 0  
**Max:** 100  
**Value Description:** n.a.  
**Sender:** VCU  
**Receiver:** IDB  

**Name:** CRC_VCU_ADAS  
**Description:** Checksum  
**I/O:** Input  
**Min:** 0  
**Max:** 255  
**Value Description:** n.a.  
**Sender:** VCU  
**Receiver:** ADAS  

**Name:** ALIV_VCU_ADAS  
**Description:** Alive counter  
**I/O:** Input  
**Min:** 0  
**Max:** 14  
**Value Description:** n.a.  
**Sender:** VCU  
**Receiver:** ADAS  

**Name:** VCU_ACTGear  
**Description:** Actual gear, provide gear shift signal  
**I/O:** Output  
**Min:** 0  
**Max:** 7  
**Value Description:**  
7: "Fault"  
6: "Reserved"  
5: "Reserved"  
4: "Reserved"  
3: "D"  
2: "N"  
1: "R"  
0: "P"  
**Sender:** VCU  
**Receiver:** IDB  

**Name:** VCU_ACTGearValid  
**Description:** Indicate the current gear position  
**I/O:** Output  
**Min:** 0  
**Max:** 1  
**Value Description:**  
0: "Valid"  
1: "Invalid"  
**Sender:** VCU  
**Receiver:** IDB  

**Name:** VCU_ADAS_Available  
**Description:** VCU availability for APA control  
**I/O:** Output  
**Min:** 0  
**Max:** 1  
**Value Description:**  
0x0: "Available"  
0x1: "Not Available"  
**Sender:** VCU  
**Receiver:** ADAS  

**Name:** VCU_ADAS_ControlledRes  
**Description:** VCU Handshake Request Feedback  
**I/O:** Output  
**Min:** 0  
**Max:** 1  
**Value Description:**  
0x0: "Inactive"  
0x1: "Active"  
**Sender:** VCU  
**Receiver:** ADAS  

**Name:** VCU_ADAS_CtrlAbortFeedback  
**Description:** VCU Active Abort Feedback  
**I/O:** Output  
**Min:** 0  
**Max:** 7  
**Value Description:**  
0x0: "Normal"  
0x1: "Vehicle block"  
0x2: "Reserved"  
0x3: "Over speed"  
**Sender:** VCU  
**Receiver:** ADAS
Page 164
5.12 Immobilizer Authentication.

5.12.1 Design Level Requirements.
Anti-theft system authentication includes pre-level authentication and post-level authentication: 
The anti-theft controller is used to stop the traction system from starting without legal certification to realize the anti-theft function of the vehicle. In the whole process of anti-theft authentication, users are not required to participate, and the authentication process is invisible to users.

1. There are 3 participants involved in the immobilizer:
Page 165
1) Vehicle key.  
2) BCM.  
3) VCU.  

The immobilizer is divided into two parts:  
1) Check vehicle key.  
2) Check that VCU and BCM are original.  

**Immobilizer Concept – Key Check:**  
1) The key check is done by the vehicle key and the BCM.  
2) AES Crypto Lib is not involved in this process.  
3) After successful authentication, Secure Entrance and Start Authorization Module (SESAM) sends this information – BCM Key Status "Passed" via CAN to VCU.

**Immobilizer Concept – VCU & BCM Check:**  
1) The second step of the immobilizer process is the check if VCU and BCM are original.  
2) This step is handled by the Magna Crypto Lib within VCU and BCM.  
3) Comparison of AES response from BCM with AES result of VCU.  

**Figure 5-49**: Immo Authentication.  
This figure illustrates the authentication process using both the vehicle key and BCM.  

**Figure 5-50**: Immo - AES.  
This figure explains the AES challenge-response mechanism used to ensure VCU and BCM authenticity.
Page 166
5. Immobilizer flow chart – VCU & BCM Check.

Figure 5-51 illustrates the process of the VCU & BCM check in the immobilizer authentication flow:

- Magna Crypto Lib in EMS:
    - Initializes CSM.
    - Requests a random number.
    - The random number becomes available.
    - Sends the random number to BCM via CAN.
    - Starts AES128 encryption.
    - Completes encryption.
    - Sends encryption results via CAN.
    - Compares encryption results from BCM and EMS. If equal, releases the immobilizer. If not, restarts the immo procedure.
    - Sends immo status via CAN and concludes CSM.

- MQ BCM:
    - Initializes CSM.
    - Random number becomes available.
    - Starts AES128 encryption.
    - Completes encryption.
    - Sends encryption results to EMS via CAN.
    - Releases the immobilizer if encryption results are equal.
    - Sends immo status via CAN and concludes CSM.

Figure 5-51 VCU & BCM Check.
Page 167
1. VCU ASW activates the encryption module in VCU BSW.
2. VCU ASW requests a random number from VCU BSW.
3. VCU BSW generates and provides the random number.
4. VCU sends the random number to BCM over CAN.
5. VCU ASW requests AES encryption in VCU BSW.
6. VCU BSW sends the encryption result to VCU ASW.
7. VCU receives the encrypted number from BCM over CAN.
8. VCU checks if the encryption result is correct.
9. VCU releases the immobilizer and deactivates the encryption module in VCU BSW.
10. VCU sends the immobilizer status on CAN.

Figure 5-52 Immo Status Sequence illustrates the process of immobilizer activation, encryption, random key generation, sending of encryption results, and final immobilizer release status.
Page 168
### 5.12.2 Signal I/O  

**Name:** VCU_IMMO_Sts  
**Description:** IMMO status.  
**I/O:** OUTPUT  
**Min:** 0  
**Max:** 3  
**Value Description:**  
- 2: "failed"  
- 1: "pass"  
- 0: "init"  
**Sender:** VCU  
**Receiver:** XGW  

---

**Name:** VCU_Immo_Byte_0  
**Description:** VCU Authentication signal byte 0.  
**I/O:** OUTPUT  
**Min:** 0  
**Max:** 255  
**Value Description:** n.a.  
**Sender:** VCU  
**Receiver:** XGW  

---

**Name:** VCU_Immo_Byte_1  
**Description:** VCU Authentication signal byte 1.  
**I/O:** OUTPUT  
**Min:** 0  
**Max:** 255  
**Value Description:** n.a.  
**Sender:** VCU  
**Receiver:** BCM  

---

**Name:** VCU_Immo_Byte_2  
**Description:** VCU Authentication signal byte 2.  
**I/O:** OUTPUT  
**Min:** 0  
**Max:** 255  
**Value Description:** n.a.  
**Sender:** VCU  
**Receiver:** BCM  

---

**Name:** VCU_Immo_Byte_3  
**Description:** VCU Authentication signal byte 3.  
**I/O:** OUTPUT  
**Min:** 0  
**Max:** 255  
**Value Description:** n.a.  
**Sender:** VCU  
**Receiver:** BCM  

---

**Name:** VCU_Immo_Byte_4  
**Description:** VCU Authentication signal byte 4.  
**I/O:** OUTPUT  
**Min:** 0  
**Max:** 255  
**Value Description:** n.a.  
**Sender:** VCU  
**Receiver:** BCM  

---

**Name:** VCU_Immo_Byte_5  
**Description:** VCU Authentication signal byte 5.  
**I/O:** OUTPUT  
**Min:** 0  
**Max:** 255  
**Value Description:** n.a.  
**Sender:** VCU  
**Receiver:** BCM
Page 169
### 5.13 Driving Information and HMI

#### 5.13.1 Design Level Requirements

##### 5.13.1.1 MHU Indicators

Following elements which shall be displayed at MHU/HMI and telltale, shall be calculated based on outputs of other modules:

| **Indicator Name** | **Display**              | **Description**                                                                    |
|---------------------|--------------------------|------------------------------------------------------------------------------------|
| Ready to Drive      | **READY**               | On: When HV propulsion system is ready to generate torque.                        |
|                     |                          | Off: Default value.                                                               |
| HV System Error     | **EV**                  | On: When vehicle HV system error.                                                |
|                     |                          | Off: Default value.                                                               |
Page 170
### Vehicle Control Unit
Vinfast Management System

#### Version: 1.0
Uncontrolled copy when printed  
Status: 170 of 208  

---

### Indicator Name | Display | Description
---

#### **Degradation/Limp home**
- **Display:** On when the propulsion system is in degradation or limp home status.  
- **Description:**  
  - On: When propulsion system is in degradation or limp home status.  
  - Off: Default value.  

#### **Gear Display**
- **Display:** P/R/N/D  
- **Description:**  
  - Display actual gear.  
  - Other states: While initial/invalid gear.  

#### **Regen Available**
- **Display:** On or Off based on torque generation capability.  
- **Description:**  
  - On: When braking/coasting regeneration system is not available, or regeneration system capability equals 0, or regeneration system has failed.  
  - Off: Regeneration available (able to generate regen torque).  
  - States: Not available, Available, Regen limit, Regen fault, Signal Invalid.  

#### **Remaining Range**
- **Display:** **498 km** (example value).  
- **Description:** Coverable distance with present energy in the vehicle.  

#### **Efficient Profile**
- **Display:** Power consumption efficiency bar chart.  
- **Description:** VCU provides detailed information on power consumption efficiency for driving conditions and auxiliaries to the MHU.  

#### **Driving Mode: Eco, Normal, Sport**
- **Display:** Driving mode is shown.  
- **Description:** States below are displayed:  
  - Eco  
  - Normal  
  - Sport  

#### **Scheduled Charge**
- **Display:** n.a.  
- **Description:** VCU sends scheduled charge information based on estimated SOC and range.  

#### **Charging**
- **Display:** Charging symbols indicating HV battery charge status or connection status of AC/DC charging gun.  
- **Description:**  
  - HV battery is charging.  
  - AC and DC charging gun is connected.  
  - Charging port status.  

#### **Charging Request**
- **Display:** n.a.  
- **Description:** Charging may be stopped or resumed upon request from IPC/HMI.  

#### **Scheduled Charging**
- **Display:** n.a.  
- **Description:**  
  - When `MHU_ChargeScheduleSet` is enabled, `VCU` considers `MHU_ChargeSetTargetSOC` as target SOC if it is not higher than `BMS_SocActual_EST` and falls below a defined threshold.  
  - VCU sends `VCU_MHU_Ack_ChgSche_stt` and `VCU_MHU_Ack_TargetSOC`.
Page 171
**Vehicle Control Unit**  
**Vinfast Management System**  

**VFDSXXEEP5046**  

**Version: 1.0**  
**Uncontrolled copy when printed**  

---

### Indicator Name, Display, and Description  

**AVAS diagnostic**  
Display: n.a.  
VCU shall control AVAS status based on related DID. The communication failures from AVAS shall be indicated on MHU.  

**Trip Average Power**  
Display: Avg Power  
Description: Average power during the trip shall be calculated by MHU.  

**Cruise Control**  
Display:  
- CC off  
- CC standby armed  
- CC active speed set  
- CC standby cancel  

**HV OFF - Service button**  
Display: n.a.  
Description: HV off shall force HV off to start service work.  

**Charging stop button**  
Display: n.a.  
Description: Charging button shall stop charging by user in certain time.  

**Display SOC**  
Display: SOC Indicator  
Description: VCU shall send HV battery SOC for displaying. VCU shall calculate the mapping SOC according to the actual SOC.  
- When the displayed SOC by VCU is lower than a calibratable, VCU will send a battery SOC low warning flag to IPC/HMI telling the driver that the SOC is low.  
- When SOC from BMS is below a calibratable, the SOC in display shall be zero.  

**Creep disable**  
Display: n.a.  
Description: VCU shall receive creep disable request and display feedback status for disable request.  

**Charging Plug Indicator**  
Display: n.a.  
Description: VCU shall send the following charging indicators to MHU.  
- HV battery is charging  
- Charge Gun connected  
- Charge gun bad connection (VCU provides a signal for this indicator)  
- Charge port open request, Open status  
- Charge gun bad connection  
- Charge station authentication  

**Power Regen Gauge**  
Display: n.a.  
Description: Plus value is power level, minus value is regen level. Unit: percentage.  

**Power Gauge**  
Display: n.a.  
Description: Current power (propulsion) of vehicle.  

---

### **HMI Architecture**  
**VinFast Released**
Page 172
Main view for MHU shall be given as below:

Figure 5-53 depicts the MHU view, which showcases indicators that provide critical vehicle information to the user. These include:

- Ready to Drive
- HV System Error
- Degradation / Limp home
- Gear Display
- Warning status of RBS
- Remaining Range
- Driving Mode (Eco, Normal, Sport)
- Efficient Profile (EPP)

The display integrates essential warnings such as the battery overheating alert alongside customized user interfaces like artist/program details under "Car Buddy Indicator." Additional feedback includes airbag status and charging information, enhancing overall driving and monitoring experience.
Page 173
**Drive status view for MHU shall be given as below:**

**Figure 5-54 Drive Status View for MHU**

---

**Detailed view for HV Battery on MHU for not charging and not scheduled case shall be given as below:**

**Figure 5-55 HV Battery on MHU for charging and not scheduled**

**Figure 5-56 HV Battery on MHU for not charging and not scheduled**
Page 174
Detailed view for HV Battery on MHU for charging and not scheduled case shall be given as below:

Figure 5-57 HV Battery on MHU for charging and not scheduled.
Page 175
Detailed view for HV Battery on MHU for charging and car locked case shall be given as below.

Figure 5-58 HV Battery on MHU for charging and car locked.

Detailed view for EV settings on MHU shall be given as below.

Figure 5-59 EV Settings.
Page 176
Detailed view for Cruise Control on MHU shall be given as below:

Figure 5-60 Cruise Control on MHU. VCU shall make the system status be transparent through CAN signal. MHU shall adapt itself to follow display strategy.
Page 177
Figure 5-61: VCU-MHU Scope.

5.13.1.2 Warning Concept.
Following warning signals are implemented as part of the warning concept:
- **VCU_GearPOnlyAtStationaryAlert (PP: VCU_Warning_Flag_1)**: Gear position P only when stationary.
- **VCU_GearP_NotPossibleAlert (PP: VCU_Warning_Flag_2)**: Gear P not possible due to EPP lock. Gear position P may not be possible.
- **VCU_PressBrakeToEngageGear (PP: VCU_Warning_Flag_3)**: Press Brake to engage a gear hint.
- **VCU_CantChangeGear (PP: VCU_Warning_Flag_4)**: Unable to change gear position.
- **VCU_GearMalfunction (PP: VCU_Warning_Flag_5)**: Gear change might not be possible.
- **VCU_RangeAlert (PP: VCU_Warning_Flag_6)**: E-drive range warning. E-drive range is less than a threshold calibratable.
- **VCU_EmergencyShutdown (PP: VCU_Reserved_signal3 == 1)**: Emergency shutdown – HV contactors to be opened immediately.
- **VCU_CoolingSystem_Malfunc (PP: VCU_Warning_Flag_12)**: Multiway Valve “A” Errors. Includes:
  - Circuit Voltage Below Threshold.
  - Circuit Voltage Above Threshold.
  - Component/System Over Temperature.
  - Circuit Current Above Threshold.
  - Exceeded Learning Limit.
  - Circuit Open.
  - Bus Signal/Message Failure.
  - Missing Message.
  - Invalid Serial Data Received.

#### VCU Scope
1. **VCU_HVsystem_status (High Voltage system status)**:
   - Status 0x00: Not Ready.
   - Status 0x01: HV ON.
   - Status 0x03: Charging.
   - Status 0x04: Error.

2. **VCU_HV_DRVsystem_status (Status of driving system)**:
   - Status 0x00: Not available.
   - Status 0x01: Normal.
   - Status 0x02: Degradation.
   - Status 0x03: Limp home.
   - Status 0x04: Error.
   - The status changes along with VCU_HVsystem_status.

3. **VCU_Regen_available**:
   - Status depends on the current system condition and indicates whether braking/coasting regeneration capability is zero or has failed.

4. **VCU_Hvbatt_charging_stt (HV battery charging status)**:
   - Status 0x00: Not charging.
   - Status 0x01: Charging (depending on BMS Actual Current).

#### MHU Scope
- MHU follows VCU statuses for the following indicators:
  - **Ready to Drive**: TBC—ON based on system readiness.
  - **HV System Error**: ON/OFF based on errors from VCU_HVsystem_status.
  - **Degradation or Limp Home**: ON/OFF based on VCU_HV_DRVsystem_status.
  - **Regen Available**: Reflects VCU_Regen_available status.
  - **Charging**: Reflects VCU_Hvbatt_charging_stt status.
Page 178
Air Flow Shutter "A" Control Module Errors: Mechanical Failure, Component or System Operation Obstructed or Blocked, General Electric Failure, Circuit Voltage Below Threshold, Circuit Voltage Above Threshold, Component or System Over Temperature, Missing Message, Invalid Serial Data Received.

Drive Motor Coolant Pump "A" Errors: Circuit Open, Circuit Short To Ground, Circuit Short To Battery.

Hybrid/EV Battery Pack Coolant Pump "A" Errors: Circuit Open, Circuit Short To Ground, Circuit Short To Battery.

Hybrid/EV Battery Pack Coolant Pump "B" Enable: Circuit Open, Circuit Short To Ground, Circuit Short To Battery.

Heating Loop Temp Sensor "A" Errors: General Electric Failure, Circuit Short To Ground, Circuit Short To Battery, Circuit Intermittent.

HVAC Pressure Sensor "A" Errors: General Electric Failure, Circuit Short To Ground, Circuit Short To Battery, Circuit Intermittent.

LTR2 Temp Sensor "A" Errors: General Electric Failure, Circuit Short To Ground, Circuit Short To Battery, Circuit Intermittent.

High Voltage Heater "A" Errors: Mechanical Failure, High Voltage - Signal Invalid, Temperature Sensor - Component Internal Failure, Component or System Over Temperature, Component or System Operating Conditions, Circuit Short To Ground, Current Sensor - Internal Electronic Failure, Invalid Serial Data Received, Missing Message, Performance or Incorrect Operation, No Operation.

Hybrid/EV Electronics Coolant Radiation Fan "B" Control Errors: Circuit Open, Circuit Short To Ground, Circuit Short To Battery.

Hybrid/EV Electronics Coolant Radiation Fan "B" Enable Errors: Circuit Open, Circuit Short To Ground, Circuit Short To Battery.

VCU_ChgPortDoorSys_Malfunc (PP: VCU_Reserved_signal4):
Charge Port Door "A" Position Sensor Errors: General Electric Failure, Circuit Short To Ground, Circuit Short To Battery, Circuit Intermittent.

Charge Port Door "A" Unlock Control Errors: Circuit Open, Circuit Short To Ground, Circuit Short To Battery.

Proximity Detection Errors: General Electric Failure, Circuit Short To Ground, Circuit Short To Battery, Circuit Intermittent.
Page 179
5.13.2 Topology Diagram.

The topology diagram of driving information and HMI is illustrated below.

**Figure 5-62 Topology Diagram - Driving Info and HMI.**
Page 180
5.13.3 Signal I/O.

**VCU_SOC_display:** HV battery SOC for displaying only - for VCU strategy.  
- I/O: Output  
- Min: 0  
- Max: 100  
- Value Description: n.a.  
- Sender: VCU  
- Receiver: XGW  

**VCU_XGW_Power_Gauge:** Current power (propulsion) of vehicle. EDS current torque / max torque (required by infoCAN). Display Power gauge (EMT current torque / EMT max torque).  
- I/O: Output  
- Min: 0  
- Max: 100  
- Value Description: n.a.  
- Sender: VCU  
- Receiver: XGW  

**VCU_LowSOC_ERR:** Battery SOC low.  
- I/O: Output  
- Min: 0  
- Max: 1  
- Value Description: 1 "Error" 0 "No Error"  
- Sender: VCU  
- Receiver: XGW  

**VCU_ACTGear:** actual gear, Provide gear shift signal.  
- I/O: Output  
- Min: 0  
- Max: 7  
- Value Description:  
  - 7 "Fault"  
  - 6 "Reserved"  
  - 5 "Reserved"  
  - 4 "Reserved"  
  - 3 "D"  
  - 2 "N"  
  - 1 "R"  
  - 0 "P"  
- Sender: VCU  
- Receiver: XGW  

**VCU_InstantPowerConsump:** Instant power consumption.  
- I/O: Output  
- Min: 0  
- Max: 100  
- Value Description: n.a.  
- Sender: VCU  
- Receiver: XGW  

**VCU_AveragePowerConsump:** Average power consumption.  
- I/O: Output  
- Min: 0  
- Max: 100  
- Value Description: n.a.  
- Sender: VCU  
- Receiver: XGW  

**VCU_RunningRange:** Estimated running range (at present).  
- I/O: Output  
- Min: 0  
- Max: 2047  
- Value Description: n.a.  
- Sender: VCU  
- Receiver: XGW  

**BMS_MaxCellTemp:** Max Cell Temperature.  
- I/O: Input  
- Min: -40  
- Max: 215  
- Value Description: n.a.  
- Sender: BMS  
- Receiver: VCU
Page 181
5.13.3 Signal I/O

Name: EDS_bus_Volt_FWD  
Description: Bus voltage of current EDS.  
I/O: Input  
Min: 0  
Max: 1000  
Value Description: 16383 "Invalid"  
Sender: EDS  
Receiver: VCU  

Name: EDS_bus_Curr_FWD  
Description: Bus current of current EDS.  
I/O: Input  
Min: -1000  
Max: 1000  
Value Description: 65535 "Invalid"  
Sender: EDS  
Receiver: VCU  

Name: EDS_bus_Volt_RWD  
Description: Bus voltage of current EDS.  
I/O: Input  
Min: 0  
Max: 1000  
Value Description: 16383 "Invalid"  
Sender: EDS  
Receiver: VCU  

Name: EDS_bus_Curr_RWD  
Description: Bus current of current EDS.  
I/O: Input  
Min: -1000  
Max: 1000  
Value Description: 65535 "Invalid"  
Sender: EDS  
Receiver: VCU  

Name: BMS_SocActual_EST  
Description: Actual SOC.  
I/O: Input  
Min: 0  
Max: 100  
Value Description: n.a.  
Sender: BMS  
Receiver: VCU
Page 182
5.14 Fault Diagnostics.

5.14.1 Design Level Requirements.

VCU system error detection and reaction mechanism shall have the following procedure:
- Component related errors shall be detected.
- Components derive component error level and report them to VCU.
- Detected component error levels shall be merged to one component error by Application Software Error Manager (ALEM).
- All component error levels shall be merged to one system error level.
- Remedial action related to every component based on system error shall be triggered.

VCU system error detection and reaction mechanism is given as below:

Figure 5-63 Fault Diagnostics: The diagram illustrates the VCU fault detection process where component errors are detected and then merged by the Application Software Error Manager (ALEM). System errors are consolidated, triggering appropriate remedial actions across components.
Page 183
5.14 Fault Diagnostics.

5.14.1 Design Level Requirements.  
VCU system error detection and reaction mechanism shall follow this procedure:  
- Component-related errors shall be detected.  
- Components derive component error levels and report them to the VCU.  
- Detected component error levels shall be merged into one component error by the Application Software Error Manager (ALEM).  
- All component error levels shall be merged into one system error level.  
- Remedial actions related to every component based on the system error shall be triggered.  

VCU system error detection and reaction mechanism is illustrated in Figure 5-63 Fault Diagnostics.  

---

5.14.1.1 Diagnostic Function Architecture.  
The diagnostic function architecture is depicted in Figure 5-64 Diagnostic Function.  

---

5.14.1.2 Application Software Error Manager.  
VCU shall collect the composition error levels and create a system error level. The function shall calculate the system-level error reaction on the basis of individual error reactions.  

System Error Levels and Actions:  
- **No Error:** No error detected.  
- **Warning:** System displays a warning.  
- **Reduced HV System Power:** Reduced to TBD%. Comfort accessories are inhibited.  
- **Reduced Front EDS Power:** Limits Front EDS to TBD Nm or TBD kW.  
- **Reduced Rear EDS Power:** Limits Rear EDS to TBD Nm or TBD kW.  
- **Front EDS Inhibit:** Vehicle becomes RWD mode. EDS switches to standby state, and internal limit becomes 0.  
- **Rear EDS Inhibit:** Vehicle becomes FWD mode. EDS switches to standby state, and internal limit becomes 0.  
- **Limp Home:** Vehicle speed is limited to TBD km/h, accelerator pedal response is restricted to TBD, torque is limited to a specific threshold, and regenerative braking is deactivated.
Page 184
5.14 Fault Diagnostics.

5.14.1 Design Level Requirements.  
VCU system error detection and reaction mechanism shall have the following procedure:  
- Component-related errors shall be detected.  
- Components derive component error levels and report them to VCU.  
- Detected component error levels shall be merged into one component error by Application Software Error Manager (ALEM).  
- All component error levels shall be merged into one system error level.  
- Remedial actions related to every component based on the system error shall be triggered.

VCU system error detection and reaction mechanism is illustrated in Figure 5-63 Fault Diagnostics.  

5.14.1.1 Diagnostic Function Architecture.  
The diagnostic function architecture is illustrated as shown in Figure 5-64 Diagnostic Function.  

5.14.1.2 Application Software Error Manager.  
VCU shall collect the composition error levels and create a system error level. The function shall calculate the system-level error reaction based on individual error reactions.  

System error levels include:  
- **No Error**: No action required.  
- **Warning**: Displays as a warning only.  
- **Reduced HV System Power**: Power reduced to TBD%. Comfort accessories inhibited.  
- **Reduced Front EDS Power**: Front EDS power limited to TBD Nm or TBD kW.  
- **Reduced Rear EDS Power**: Rear EDS power limited to TBD Nm or TBD kW.  
- **Front EDS Inhibit**: Vehicle operates in RWD Mode. EDS switches to standby state, and internal limit becomes zero.  
- **Rear EDS Inhibit**: Vehicle operates in FWD Mode. EDS switches to standby state, and internal limit becomes zero.  
- **Limp Home**: Vehicle speed limited to TBD km/h. Accelerator pedal limited to specific thresholds, torque reduced, and regen disabled.

5.14.1.3 Remedial Action Manager.  
VCU shall calculate remedial action outputs according to system error level signal. For different system level error signals, the following remedial actions shall be taken:  

- **HV Battery Charge Power Reduction**  
- **HV Power Reduction**  
- **Neutral Request**  
- **Drive Inhibition**  
- **HV Disable**  
- **Regen Brake Disable**  
- **Front EDS Power Reduction**  
- **Rear EDS Power Reduction**  
- **Front EDS Inhibition**  
- **Rear EDS Inhibition**  
- **DCDC Disable**  
- **Emergency Shutdown**: HV contactors open immediately.  
- **HV Power Down**  
- **Limp Home**  

When DTCs within BSW responsibility are triggered, remedial actions defined in the ECU Failure Action/Limp-home Action column of ODX shall be set by the VCU.  

Additional remedial combinations described:  
- **Neutral Request**: Regen brake deactivated, front and rear EDS inhibition, drive ready inhibition.  
- **Soft Shutdown**: HV loads ramped down, contactors opened compared to an immediate emergency shutdown.  
- **Reduced HV System Power** combined with various failures such as EDS power reduction, inhibition, and limp-home modes.
Page 185
5.15 Smart Features.

### 5.15.1 Design Level Requirements.
#### 5.15.1.1 Brake Light Switch.
VCU shall receive deceleration data from IDB periodically. If the deceleration value is bigger than the threshold and regenerative is equal to activating, then VCU shall send a Brake Light ON request. Otherwise, VCU shall send an OFF signal.

### 5.15.2 Topology Diagram.
Figure 5-65 illustrates the topology diagram for Smart Features. The diagram showcases the interaction between ESC, VCU, XGW, BCM, Brake Light Switch, and BrkPedal to manage brake light functionality as detailed above.
Page 186
5.15 Smart Features

5.15.1 Design Level Requirements.

5.15.1.1 Brake Light Switch.
VCU shall receive deceleration data from IDB periodically. If the deceleration value is greater than a threshold value and regenerative braking is activated, VCU shall send a Brake Light ON request. Otherwise, VCU shall send an OFF signal.

5.15.2 Topology Diagram.
Figure 5-65 illustrates the topology diagram for smart features, showing the relationships between the components including ESC, VCU, XGW, BCM, Brake Light Switch, and BrkPedal.

5.15.3 Signal I/O.

Name: VCU_Recu_BrakeLight_ON_Req.  
Description: VCU request for brake light ON when regen.  
I/O: Output.  
Min: 0.  
Max: 3.  
Value Description:  
- 3 "Signal not available."  
- 2 "Reserved."  
- 1 "Brake light ON."  
- 0 "Brake light OFF."  
Sender: VCU.  
Receiver: XGW.  

Name: RWDT_BLS.  
Description: Raw data for brake light switch.  
I/O: Input.  
Min: 0.  
Max: 15.  
Value Description:  
- 15 "Signal invalid."  
- 8 "Init."  
- 7 "Error (Invalid signal from BLTS or BLS)."  
- 6 "Reserved."  
- 5 "Reserved."  
- 4 "Reserved."  
- 3 "BLTS and BLS valid applied."  
- 2 "BLTS applied."  
- 1 "BLS applied."  
- 0 "BLTS and BLS not applied."  
Sender: XGW.  
Receiver: VCU.
Page 187
5.16 Valet Mode – Vehicle Speed Control.

5.16.1 Design Level Requirements.

1. VCU shall follow Valet Mode request from CAN communication interface to activate/deactivate Valet Mode control.
2. When communication with Valet Mode request is an error, VCU shall follow the last valid request.
3. In Valet Mode, VCU shall respond to demand torque as Acceleration Pedal request while limiting vehicle speed as requested from the communication interface. Valet Mode shall not impact Regenerative/IDB torque intervention or another existing feature which is not mentioned in this document.
4. In Valet Mode, neither Cruise Control nor Adaptive Cruise Control is applicable.
5. MHU shall prevent driving mode selection by UI from MHU.
6. VCU shall ignore driving mode change requests in Valet Mode.
7. If Valet Mode is requested when the Driving Mode is different from Eco Mode, VCU shall change Driving Mode to Eco Mode then activate Valet Mode.
8. VCU shall reject Valet Mode request/exit Valet Mode when the vehicle is in Limp home mode.
9. Maximum speed value is 140 kph, minimum speed value is 80 kph, and default speed value shall be 110 kph.

5.16.2 Signal I/O.

1. **VCU_ValetMode_sts**  
   - Description: Status indicates valet mode is active on VCU.  
   - I/O: Output.  
   - Min: 0.  
   - Max: 255.  
   - Value Description:  
     - 255 "Invalid."  
     - 1 "Active."  
     - 0 "Inactive."  
   - Sender: VCU.  
   - Receiver: MHU.  

2. **VCU_ValetMode_MaxSpeedSts**  
   - Description: Indicates the max speed setting of Valet Mode.  
   - I/O: Output.  
   - Min: 0.  
   - Max: 255.  
   - Value Description: n.a.  
   - Sender: VCU.  
   - Receiver: MHU.  

3. **MHU_ValetMode_Req**  
   - Description: Indicates Valet Mode request status.  
   - I/O: Input.  
   - Min: n.a.  
   - Max: n.a.  
   - Value Description:  
     - 0 Inactive.  
     - 1 Active.  
     - Others: Invalid.  
   - Sender: MHU.  
   - Receiver: VCU.  

4. **MHU_ValetMode_Activation**  
   - Description: Activates Valet Mode from MHU.  
   - I/O: Input.  
   - Min: 0.  
   - Max: 255.  
   - Value Description:  
     - 0 "Inactive."  
     - 1 "Active."  
     - 2 "No effect."  
     - 255 "Invalid."  
   - Sender: XGW.  
   - Receiver: VCU.  

5. **MHU_ValetMode_MaxSpeed**  
   - Description: Setting of maximum allowable speed in valet mode.  
   - I/O: Input.  
   - Min: 0.  
   - Max: 255.  
   - Value Description: n.a.  
   - Sender: XGW.  
   - Receiver: VCU.
Page 188
5.17 Flashing Precondition and Diagnosis Precondition.

5.17.1 Design Level Requirements.

### Flashing Precondition
The following preconditions are required for flashing operations:

1. **Ignition ON (and E-motor OFF for BEV)**:  
   - **Message ID**: 0x112.  
   - **CAN Signal**: STAT_Terminal.  
   - **Signal Value**: 0x02 ON (Driver Present).  
   - Applicable for BEV and ICE vehicles.  

2. **Engine OFF (mandatory for ICE)**:  
   - **Message ID**: 0x3F9.  
   - **CAN Signal**: ST_ENG_RUN_DRV.  
   - **Signal Value**: 50 Engine OFF.  
   - Applicable for ICE vehicles.  

3. **Vehicle Not Moving**:  
   - **Message ID**: 0x342.  
   - **CAN Signal**: ABS_VehSpd.  
   - **Signal Value**: Less than 3km/h, ABS_VehSpdValid 0x01 Valid.  
   - Applicable for BEV and ICE vehicles.  

4. **System Voltage OK**:  
   - **Message ID**: 0x10A.  
   - **CAN Signal**: UBatt.  
   - **Signal Value**: 11.5v ~ 16v.  
   - Applicable for BEV and ICE vehicles.

### Hex Number Descriptions and Comments
- **01**: Engine speed is zero.  
  - Applies only to ICE vehicles. For BEV, the condition ensures the E-motor speed is zero.  

- **02**: Vehicle speed is less than 3km/h.  
  - VehicleSpd (IDB_STATUS, 0x20D) on Chassis CAN ensures flashing precondition.  

- **03**: Ignition is ON.  
  - STAT_Terminal (BCM_CLAMP_STAT, 0x112) on PT CAN equals 2 "ON (Driver Present)" or 4 "SW Update OTA."

- **04**: Programming voltage (11.5v ~ 16v).  
  - ECU’s own power source and/or UBatt (BCM_VOLTAGE, 0x10A).
Page 189
## 5.17 Flashing Precondition and Diagnosis Precondition

### 5.17.1 Design Level Requirements

#### Flashing Precondition
1. **Ignition ON (and E-motor OFF for BEV)**  
   - Message: 0x112  
   - CAN Signal: STAT_Terminal  
   - Signal Value: 0x02 ON (Driver Present)  
   - Applicable: BEV - X, ICE - X.

2. **Engine OFF (mandatory for ICE)**  
   - Message: 0x3F9  
   - CAN Signal: ST_ENG_RUN_DRV  
   - Signal Value: S0 Engine OFF  
   - Applicable: ICE - X.

3. **Vehicle Not Moving**  
   - Message: 0x342  
   - CAN Signal: ABS_VehSpd, and ABS_VehSpdValid  
   - Signal Value: Less than 3km/h, 0x01 Valid  
   - Applicable: BEV - X, ICE - X.

4. **System Voltage Okay**  
   - Message: 0x10A  
   - CAN Signal: UBatt  
   - Signal Value: 11.5v ~ 16v  
   - Applicable: BEV - X, ICE - X.

#### Hex Number Table Explanation
- **Hex number 01**: Engine speed is zero.  
  Comment: Applies only to ICE. For BEV, E-motor speed must also be zero. For BEV, this condition is fulfilled by condition 03.  
- **Hex number 02**: Vehicle speed is less than 3km/h.  
  Comment: VehicleSpd (IDB_STATUS, 0x20D) on Chassis CAN.  
- **Hex number 03**: Ignition is ON.  
  Comment: STAT_Terminal (BCM_CLAMP_STAT, 0x112) on PT CAN == "2" (Driver Present) OR == "4" (SW Update OTA).  
- **Hex number 04**: Programming voltage (11.5v ~ 16v).  
  Comment: ECU’s own power source and/or UBatt (BCM_VOLTAGE 0x10A).

---

### Diagnosis Precondition
Diagnostics shall always be ON when ECU is alive. Input and output can only be expected when supply voltage is enough for CAN communication.

**Routine Status**
1. **Routine Status#2**:  
   - 0*00 = Vehicle conditions are met.  
   - 0*02 = Vehicle speed is not standing.  
2. **Routine Status#3**:  
   - 0*00 = Ignition conditions are met.  
   - 0*03 = Ignition is in start position.  
3. **Routine Status#4**:  
   - 0*00 = Voltage conditions are met.  
   - 0*04 = Under or above programming voltage (11.5v ~ 16v).

---

### 5.17.2 Signal I/O

#### STAT_Terminal
- **Description**: Represents the status of the physical terminal.  
- **I/O**: Input.  
- **Min**: 0.  
- **Max**: 7.  
- **Value Description**:  
  - 7 = "Signal invalid."  
  - 6 = "Reserved."  
  - 5 = "Reserved."  
  - 4 = "SW Update OTA."  
  - 3 = "Engine start (eMotor running)."  
  - 2 = "ON (Driver Present)."  
  - 1 = "ACC."  
- **Sender**: XGW.  
- **Receiver**: VCU.
Page 190
### ABS_VehSpd
Current longitudinal vehicle speed with a signal input range from 0 km/h to 200 km/h, measured and sent by ABS to VCU.

### ABS_VehSpdValid
Valid signal with input ranging from 0x01 valid, sent by ABS to VCU.

### Ubatt_System_Info
Low voltage battery information with a signal input range from 3V to 18V, sent by XGW to VCU.
Page 191
5.18 6SO  
5.18.1 Design Level Requirements  

**Conditions to enable 6SO**  
- Total driver requested wheel torque < 400 Nm.  
- No IDB torque intervention.  
- 6SO is active.  

**Calculation of rear EDS regen torque capacity**  
- Rear EDS regen torque capacity is determined by:  
  - **EDS max torque limitations.**  
  - **6SO active status.**  
  - **Other limitations.**  

The calculation involves finding the **minimum torque** based on the above factors, followed by a **rate limiter** step. This results in the rear EDS regen torque capacity value sent to IDB.  

**System Description Diagram**  
The diagram outlines the control logic behind the activation of the 6SO mode and details the behavior of front and rear EDS systems. It includes:  
- The **entry to 6SO mode** when conditions are satisfied.  
- Mode transitions between **normal mode** and **6SO mode** for forward (FWD) and rear-wheel drive (RWD).  
- Clear indications for torque limitations, operational modes, and signal handling between modules in the VCU control system.
Page 192
### 5.18 6SO
#### 5.18.1 Design Level Requirements
**Conditions to enable 6SO:**
- Total driver requested wheel torque is less than 400 Nm.
- No IDB torque intervention.

**Calculation of rear EDS regen torque capacity:**
- EDS torque capacity is determined based on maximum torque limitations, 6SO activity, and other limitations. A rate limiter is applied to finalize the rear EDS regen torque capacity.

---

### Torque Split Map
**X-axis:** Vehicle Speed (km/h).  
**Y-axis:** Resulted Wheel Torque Request (Nm).  

If the resulted wheel torque request is less than 40 Nm, a 6SO request shall be sent to the front EDS based on the torque split map. For cases where the torque request is 100%, all torque will be requested from the rear EDS. However, this feature is currently disabled as filter improvements are in progress to avoid vehicle jerkiness.
Page 193
5.19 Variant Management.

Variant management in this project is outlined in the following charts: 

**Release Code Example:**  
A2978_B111T_C03_3_D30  
- **A:** APSW version number  
- **B:** BSW version number  
- **C:** Calibration version number  
- **D:** Hardware version number  
- **E:** Variant version number  

**Hardware Version Numbers and Their Definitions:**  
- **D10:** S0 Sample Hardware  
- **D20:** C Version1 Hardware  
- **D30:** C Version2 Hardware  
- **D40:** Next Hardwares  

**Calibration Version Numbers and Their Definitions:**  
- **C03:** Interim Calibration Release  
- **C04:** Road Calibration Release PT (50%)  
- **C05:** Endurance Calibration Release - PTO (75% Cal)  
- **C06:** PreProduction Calibration Release - PP (95% Cal)  
- **C07:** Certification Freeze - LS (100% Cal)  
- **C08:** Final Calibration Data Freeze VN  
- **C09:** Final Calibration Release - US/EU  

**Vehicle Market Matrix:**  

| **Vehicle\Market** | **US PLUS_1** | **VN PLUS_2** | **EU PLUS_3** | **US SMART_4** | **VN SMART_5** | **EU SMART_6** |
|---------------------|---------------|---------------|---------------|----------------|----------------|----------------|
| **VFe34_1**         | -             | E10           | -             | -              | -              | -              |
| **VFe35_0_**        | E01           | E02           | E03           | E04            | E05            | E06            |
| **VFe36_2_**        | E21           | E22           | E23           | **E21**        | **E22**        | **E23**        |
| **VFe34S_3_**       | E31           | E32           | E33           | E34            | E35            | E36            |
| **VFe33_4_**        | E41           | E42           | E43           | E44            | E45            | E46            |
| **VFe32_5_**        | E51           | E52           | E53           | E54            | E55            | E56            |
| **VFe31_6_**        | E61           | E62           | E63           | E64            | E65            | E66            |
Page 194
5.18 6SO.

5.18.1 Design Level Requirements.

The 6SO mode involves several conditions and calculations:

1. **Conditions to enable 6SO:**
   - Total driver requested wheel torque is less than 400 Nm.
   - No IDB torque intervention is active.
   - When the above conditions are met, 6SO becomes active.

2. **Calculation of rear EDS regenerative torque capacity:**
   - Rear EDS regen torque capacity considers EDS max torque limitations, active 6SO state, and other limitations.
   - The limiting factor is computed as the minimum torque value subjected to a rate limiter to determine the final rear EDS regen torque capacity to IDB.

---

5.19 Variant Management.

Variant management in this project is detailed in the following charts:

1. **Release Code Example:**
   - Code Format: A2978_B111T_C03_3_D30.
   - Explanation:
     - **A:** APSW version number.  
     - **B:** BSW version number.  
     - **C:** Calibration version number.  
     - **D:** Hardware version number.  
     - **E:** Variant version number.

2. **Hardware Version Number Definitions:**
   - D10: S0 Sample Hardware.
   - D20: C Version1 Hardware.
   - D30: C Version2 Hardware.
   - D40: Next Hardware Versions.

3. **Calibration Version Number Definitions:**
   - C03: Interim Calibration Release.
   - C04: Road Calibration Release PT (50%).
   - C05: Endurance Calibration Release PTO (75% Calibration).
   - C06: PreProduction Calibration Release PP (95% Calibration).
   - C07: Certification Freeze LS (100% Calibration).
   - C08: Final Calibration Data Freeze VN.
   - C09: Final Calibration Release US/EU.

4. **Mapping Vehicle and Market Configuration:**
   - Vehicle/Market Compatibility:
     | Vehicle   | US PLUS_1 | VN PLUS_2 | EU PLUS_3 | US SMART_4 | VN SMART_5 | EU SMART_6 |
     |-----------|-----------|-----------|-----------|------------|------------|------------|
     | VFe34     | -         | E10       | -         | -          | -          | -          |
     | VFe35     | E01       | E02       | E03       | E04        | E05        | E06        |
     | VFe36     | E21       | E22       | E23       | **E21**    | **E22**    | **E23**    |
     | VFe34S    | E31       | E32       | E33       | E34        | E35        | E36        |
     | VFe33     | E41       | E42       | E43       | E44        | E45        | E46        |
     | VFe32     | E51       | E52       | E53       | E54        | E55        | E56        |
     | VFe31     | E61       | E62       | E63       | E64        | E65        | E66        |

---

5.20 Calibratables.

Calibratables of functional architectures are given as below:
- Document file reference: **“HaBang Vehicle Control Unit Spec Book_C-SUV PLUS Calibratables.xlsx.”**
Page 195
6 Network Management

VCU shall send CAN communication active request in the following conditions:
1. Thermal pre-conditioning (Charge Preconditioning discussion is ongoing).
2. LV Battery charging.
3. CP wake up.
4. KL15 wake up.
Page 196
7 Serial Data  

### 7.1 CAN/LIN Matrix  
CAN matrix shall be given in the documents:  
- **“10.2 09_Chassis_CAN_Matrix_BEV_V4.0.7.xlsx”**  
- **“07_PT_CAN_Matrix_BEV_V4.0.17.xlsx”**  

LIN matrix shall be given in the document:  
- **“56_VCU_LIN1_Matrix_V3.0.4.xlsx”**
Page 197
8 Diagnostic  

8.1 Services.  
Based on customer requirements, the DTC list shall be given in “VF_ODX_VFe35_VFe36_VCU_V1_7_220810.xlsx”.  

8.2 BSW Diagnostics (DIDs).  
Based on customer requirements, the DTC list shall be given in “VF_ODX_VFe35_VFe36_VCU_V1_7_220810.xlsx”.  

8.3 BSW/ASW Diagnostics (IOC, RID).  
Based on customer requirements, the DTC list shall be given in “VF_ODX_VFe35_VFe36_VCU_V1_7_220810.xlsx”.  

8.4 DTC List.  
Based on customer requirements, the DTC list shall be given in “VF_ODX_VFe35_VFe36_VCU_V1_7_220810.xlsx”.
Page 198
9 Functional Safety, Homologation & Safety regulations, and Cyber security Requirements.

9.1 Functional Safety.
ISO 26262.
Development based on ASIL -C.

Bosch points out that ASIL-classified requirements as per ISO 26262:2018, their implementation and the assumptions made for this purpose are documented in the following documents:
- For safety plan refer to chapter 11.

9.2 Environmental reliability tests.

| SL no | Test Description                                    | Test Duration            | Details / Remarks                                                                 |
|-------|----------------------------------------------------|--------------------------|----------------------------------------------------------------------------------|
| 1     | Thermal cycling endurance test (Active-intermittent) | 690TC (Temperature Cycles) Approx. Cycle duration: 120 mins | Reference standard: IEC 60068-2-14 Nb Ti: -40 to 107°C (with air flow)          |
| 2     | Humidity cycling test                              | 24hr/cycle               | Reference standard: DIN EN 60068-2-38. 10 cycles (First 5 cycles with cold phase & 5 cycles without cold phase), Ta: -10 to 65°C, RH: 80%-93% |
| 3     | Drop test (Passive)                                | 2 drops/VCU              | Reference standard: IEC 60068-2-31                                               |
| 4     | Humidity constant test (Ubat-intermittent-1Hr ON, 1Hr OFF) | 1000 hrs                 | Reference standard: IEC 60068-2-67. Ta = 85°C, RH = 85%                          |
| 5     | High Temperature Endurance test (Active)           | 1250 hrs                 | Reference standard: IEC 60068-2-2. Nb Ta = 85°C with standard airflow of 2m/s    |
| 6     | Thermal cycling shock test (Passive, Pre-aging test) | 90min/cycle              | Reference standard: DIN EN 60068-2-14 Na. 45 min soak, 100 cycles. Ta: -40 to 105°C |
| 7     | High temperature storage (Passive, Pre-aging test) | 48 hrs                   | Reference standard: IEC 60068-2-2. Bb Ta = 105°C                                 |
| 8     | Low temperature storage (Passive, Pre-aging test)  | 48 hrs                   | Reference standard: IEC 60068-2-2. Bb Ta = -40°C                                 |
| 9     | Mechanical shock test (Passive)                   | 18 shocks/DUT (Half Sine) | Reference standard: IEC 60068-2-27. 6 shocks/axis (in positive and negative direction). aeff = 500m/s², Pulse duration = 6ms |
| 10    | Housing relevant tests: Protection against dust and water | -                        | Standards applicable are: 1. IPX9K, 2. IEC 60068-2-52                            |
Page 199
9 Functional Safety, Homologation & Safety Regulations, and Cyber Security Requirements.

9.1 Functional Safety.
Development based on ASIL-C.
Bosch points out that ASIL-classified requirements as per ISO 26262:2018, their implementation, and the assumptions made for this purpose are documented in the following documents:
- For the safety plan, refer to Chapter 11.

9.2 Environmental Reliability Tests.
1. Thermal cycling endurance test (Active-intermittent): 690TC (Temperature Cycles) Approx. Cycle duration: 120 mins. Reference standard: IEC 60068-2-14 Nb Ti: -40 to 107°C (with air flow).
2. Humidity cycling test: 24hr/ cycle. Reference standard: DIN EN 60068-2-38 10 cycles (First 5 cycles with a cold phase & 5 cycles without a cold phase), Ta: -10 to 65°C, RH: 80% to 93%.
3. Drop test (Passive): 2 drops/VCU. Reference standard: IEC 60068-2-31.
4. Humidity constant test (Ubat-intermittent- 1Hr ON, 1Hr OFF): 1000 hrs. Reference standard: IEC 60068-2-67 Ta = 85°C, RH = 85%.
5. High Temperature Endurance test (Active): 1250 hrs. Reference standard: IEC 60068-2-2 Nb Ta = 85°C with standard airflow of 2m/s.
6. Thermal cycling shock test (Passive, Pre-aging test): 90min/ cycle. Reference standard: DIN EN 60068-2-14 Na 45 min soak, 100 cycles Ta: -40 to 105°C.
7. High temperature storage (Passive, Pre-aging test): 48 hrs. Reference standard: IEC 60068-2-2 Bb Ta = 105°C.
8. Low temperature storage (Passive, Pre-aging test): 48 hrs. Reference standard: IEC 60068-2-2 Bb Ta = -40°C.
9. Mechanical shock test (Passive): 18 shocks/DUT (Half Sine). Reference standard: IEC 60068-2-27 6 shocks/axis (in positive and negative direction) aeff = 500m/s2, Pulse duration=6ms.
10. Housing relevant tests – Protection against dust and water: Applicable standards are: 1. IPX9K, 2. IEC 60068-2-52.
11. Salt spray corrosion test: Applicable standard: ISO 16750-5.
12. Chemical loads test: Applicable standard: ISO 16750-5.

9.3 EMI/EMC Standards.
Following test cases have been performed on VC1CP091. DUT placement condition: Grounded.

**Emission Tests:**
- RF Conducted emissions – Voltage method: CISPR 25: 2016 (150 kHz – 110 MHz). Test result: CISPR25(2016) Class 3.
- RF Conducted emissions – Current method: CISPR 25: 2016 (150 kHz – 245 MHz). Test result: CISPR25 Class 3. Note: Class 3 achieved, except that the average emission crosses the Class 3 limit by 1dBuA at around 76MHz and 4dBuA for 150 to 170 MHZ. Risk assessment performed for the mentioned deviation, and the risk is low.
- Radiated ALSE E-Field emissions: CISPR 25: 2016 (150 kHz – 2500 MHz). Test result: CISPR25(2016) Class 3.

**Immunity Tests:**
- Radiated Immunity, BCI: ISO 11452-4: 2011 and ISO 11452-1: 2015 (1 MHz to 400 MHz). Test result: 200mA (Closed loop method) Class A.
Page 200
Vehicle Control Unit  
Vinfast Management System  

Version: 1.0  

9 Functional Safety, Homologation & Safety Regulations, and Cyber Security Requirements.  

### 9.3 EMI/EMC Standards  
Following test cases have been performed on VC1CP091.  

**DUT Placement Condition:** Grounded  

**Test Descriptions:**  
1. **Radiated Immunity, ALSE**  
   - **Standard and Frequency Range:** ISO 11452-2: 2004 and ISO 11452-1: 2015 (200 MHz to 3200 MHz).  
   - **Test Result:** 100 V/m, Class A.  

2. **Radiated Immunity, On-Board Transmitter**  
   - **Standard and Frequency Range:** ISO 11452-9:2012.  
   - **Test Result:** Class A.  

### Immunity to Electrostatic Discharge (ESD):  
1. **Unpowered Test**  
   - **Standard:** ISO 10605: 2008.  
   - **Discharge Network:** 150pF/330Ω.  
   - **Details:**  
     - Contact Discharge: ±6 kV and ±8 kV at VCU pins and housings.  
     - Air Discharge: ±8 kV, ±15 kV at VCU housing.  
     - **Result:** Class A.  

2. **Powered Test**  
   - **Standard:** ISO 10605: 2008.  
   - **Discharge Network:** 330pf/2000Ω (Air discharge).  
   - **Details:**  
     - Air Discharge on housing and connector: ±8 kV, ±15 kV, and ±25 kV.  
     - **Results Based on Discharge Voltage:**  
       - **Class A:** ±15 kV.  
       - **Class C:** ±25 kV.  

3. **Indirect Powered Test**  
   - **Standard:** ISO 10605: 2008 2nd Edition.  
   - **Discharge Network:** 330pf/330Ω.  
   - **Details:** Contact discharge: ±8 kV.  
   - **Result:** Class A.
Page 201
9.4 General Electric System Tests.

Following test cases have been performed on VC1CP091 under the condition of DUT placement: Grounded.

1. **Operating voltage range**:
   - Specification: 
     - Us min = 8 V (15 min) @RT.
     - Us nom = 14V (15 min) @RT.
     - Us max = 16 V (15 min) @RT.
   - Test Result: Class A.

2. **Over voltage**:
   - Specification:
     - Us = 18V for 1Hr.
     - Temperature: 65°C (Tmax -20°).
     - Repetition: 1.
   - Test Result: Class B.

3. **Jump Start**:
   - Specification:
     - Us = 27V for 60s.
   - Test Result: Class B.

4. **Superimposed alternating voltage**:
   - Specification:
     - Upp = 2V (Case 1).
     - 4V (Case 3).
     - Frequency range = 50Hz to 25KHz (Triangle).
     - t1 = 2min.
     - Repetition = 5.
   - Test Result: Class A.

5. **Increase and decrease of supply voltage**:
   - Specification:
     - Us min = 8 V to 0 V, change rate of 0,5 V/min.
     - Us min = 0 V to 8 V, change rate of 0,5 V/min.
   - Test Result: Class C (outside operating range); otherwise Class A.

6. **Voltage dropout - Momentary**:
   - Specification:
     - Us min = 8V.
     - Voltage drop to 4,5 V for ts: 100ms, tr and tf ≤ 10 ms.
     - Repetition = 1.
   - Test Result: Class B (Reset permitted).
Page 202
9 Functional Safety, Homologation & Safety regulations, and Cyber security Requirements.

9.4 General Electric System Tests.
Following test cases have been performed on VC1CP091.  
DUT placement condition: Grounded.

1. **Operating voltage range:**  
   - Specification:  
     - Us min = 8 V (15min) @RT.  
     - Us nom = 14V (15min) @RT.  
     - Us max = 16V (15min) @RT.  
   - Test Result: Class A.

2. **Over voltage:**  
   - Specification:  
     - Us = 18V for 1Hr.
     - Temperature: 65°C (Tmax-20°).  
     - Repetition: 1.  
   - Test Result: Class B.

3. **Jump Start:**  
   - Specification:  
     - Us = 27V for 60s.  
   - Test Result: Class B.  

4. **Superimposed alternating voltage:**  
   - Specification:  
     - Upp = 2V (Case 1), 4V (Case 3).  
     - Frequency range = 50Hz to 25KHz (Triangle).  
     - t1 = 2min.  
     - Repetition = 5.  
   - Test Result: Class A.  

5. **Increase and decrease of supply voltage:**  
   - Specification:  
     - Us min = 8 V to 0 V, change rate of 0.5 V/min.  
     - Us min = 0 V to 8V, change rate of 0.5 V/min.  
   - Test Result: Class C (outside operating range, otherwise Class A).  

6. **Voltage dropout - Momentary:**  
   - Specification:  
     - Us min = 8V.  
     - Voltage drop to 4.5 V for ts:100ms, tr and tf ≤ 10 ms.  
     - Repetition = 1.  
   - Test Result: Class B (Reset permitted).  

7. **Reset behavior at voltage drop:**  
   - Specification:  
     - With Us min = 8V, voltage reduced by 5% (for 5s).  
     - Raised back to Us min, held for 11s.  
     - Voltage reduced by 5% more (total 10%), held for 5s (repeat).  
   - Test Result: Class C during dropouts below operating voltage, otherwise Class A.  

8. **Power Supply Interruptions:**  
   - Specification (Interruption steps illustrated with diagram):    
     - V1 = 14V, V2 = 0V, Ri ≤ 0.020, t1 = s:20V/us, t4 = 105°.  
     - Repetition = 5.  
   - Test Results by group:  
     - Group 1: Achieved Class A till 1ms.  
     - Group 2: Achieved Class A till 7ms.  
     - Group 3: Achieved Class A till 10ms.  
     - Group 4: Achieved Class A till 900us.  

9. **Reverse Battery:**  
   - Specification:  
     - Us = -14 V for a duration of 60s.  
   - Test Result: Class C.  

10. **Ground and supply offset:**  
    - Specification:  
      - Offset voltage = ±1,0V for 60s.  
    - Test Result: Class A.  

11. **Single line interruption (Open circuit test):**  
    - Specification:  
      - Open circuit for 10s.  
    - Test Result: Class C.  

12. **Multiple line interruption (Open circuit test):**  
    - Specification:  
      - Open circuit for 10s.  
    - Test Result: Class C.  

13. **Short circuit test (Shorts to supply (16V) and to ground):**  
    - Specification:  
      - Short circuit for 10s.  
    - Test Result: Class C.
Page 203
### 9.4 General Electric System Tests

The following test cases have been performed on VC1CP091 under grounded DUT placement condition:

#### Test 14: Pulse 1 (ISO_7637-2_2011-03)
- **Parameters:**
  - Us = -150V, Ri = 10Ω, N=500 pulses
  - td = 2ms, tr = 1µs, t1>=0.5s
  - t2 = 200ms, t3 < 100µs
- **Class:** C

#### Test 15: Pulse 2a (ISO_7637-2_2011-03)
- **Parameters:**
  - Us = 112V, Ri = 2Ω, N= 500 pulses
  - td = 0.05ms, tr = 1µs, t1= 200ms
- **Class:** A

#### Test 16: Pulse 2b (ISO_7637-2_2011-03)
- **Parameters:**
  - Ua = 13.5V, Ri = 0.05Ω, N = 10 pulses
  - Us = 10V, t6 = 1ms, t12 = 1ms
  - tr = 1ms, td = 200 ms
- **Class:** C
Page 204
9 Functional Safety, Homologation & Safety Regulations, and Cyber Security Requirements.

9.3 EMI/EMC Standards.
Following test cases have been performed on VC1CP091. DUT placement condition: Grounded.

- **Test Description**: RF Conducted Emissions – Voltage Method.
  - **Standard and Frequency Range**: CISPR 25: 2016 (150 kHz – 110 MHz).
  - **Test Result**: CISPR25(2016) Class 3.

- **Test Description**: RF Conducted Emissions – Current Method.
  - **Standard and Frequency Range**: CISPR 25: 2016 (150 kHz – 245 MHz).
  - **Test Result**: CISPR25(2016) Class 3.
    - Note: Class 3 achieved, except the average emission crosses the Class 3 limit by 1dBuA at around 76MHz and 4dBuA for 150 to 170 MHz. 
    - Risk assessment performed for the mentioned deviation, and the risk is low.

- **Test Description**: Radiated ALSE E-Field Emissions.
  - **Standard and Frequency Range**: CISPR 25: 2016 (150 kHz – 2500 MHz).
  - **Test Result**: CISPR25(2016) Class 3.

- **Test Description**: Radiated Immunity, BCI.
  - **Standard and Frequency Range**: ISO 11452-4: 2011 and ISO 11452-1: 2015 (1 MHz to 400 MHz).
  - **Test Result**: 200mA (Closed Loop Method), Class A.

9.4 General Electric System Tests.
Following test cases have been performed on VC1CP091. DUT placement condition: Grounded.

- **Test Description**: Operating Voltage Range.
  - **Specification**: Us min = 8 V (15min) @RT, Us nom = 14V (15min) @RT, Us max = 16V (15min) @RT.
  - **Test Result**: Class A.

- **Test Description**: Over Voltage.
  - **Specification**: Us = 18V for 1hr, Temperature: 65°C (Tmax-20°), Repetition: 1.
  - **Test Result**: Class B.

- **Test Description**: Jump Start.
  - **Specification**: Us = 27V for 60s.
  - **Test Result**: Class B.

- **Test Description**: Superimposed Alternating Voltage.
  - **Specification**: Upp = 2V (Case 1), 4V (Case 3), Frequency Range = 50Hz to 25KHz (Triangle), t1 = 2min, Repetition = 5.
  - **Test Result**: Class A.

- **Test Description**: Increase and Decrease of Supply Voltage.
  - **Specification**: Us min = 8V to 0V, Change Rate of 0.5 V/min, Us min = 0V to 8V, Change Rate of 0.5 V/min.
  - **Test Result**: Class C outside operating range, otherwise Class A.

- **Test Description**: Voltage Dropout – Momentary.
  - **Specification**: Us min = 8V, Voltage Drop to 4.5V for ts:100ms, tr and tf ≤ 10ms, Repetition = 1.
  - **Test Result**: Class B, Reset Permitted.

9.4 General Electric System Tests (Continued).

- **Test Description**: Reset Behavior at Voltage Drop.
  - **Specification**: With Us min = 8V, Voltage Reduced by 5% (for 5s), Raised Back to Us min, Held for 11s, Voltage Reduced Again by 5% (Total Reduction 10%), Held for 5s (Repeat).
  - **Test Result**: Class C during dropouts below operating voltage, otherwise Class A.

- **Test Description**: Power Supply Interruptions.
  - **Specification**: v1: 14V, v2: 0V, Ri: <0.020, t1-t3: ≤20 μs, t4 = 105 μs, Repetition = 5.
  - **Test Result**: 
    - Group 1: Achieved Class A till 1ms.
    - Group 2: Achieved Class A till 7ms.
    - Group 3: Achieved Class A till 10ms.
    - Group 4: Achieved Class A till 900μs.

- **Test Description**: Reverse Battery.
  - **Specification**: Us = -14V for a duration of 60s.
  - **Test Result**: Class C.

- **Test Description**: Ground and Supply Offset.
  - **Specification**: Offset Voltage = ±1V for 60s.
  - **Test Result**: Class A.

- **Test Description**: Single Line Interruption (Open Circuit Test).
  - **Specification**: Open Circuit for 10s.
  - **Test Result**: Class C.

- **Test Description**: Multiple Line Interruption (Open Circuit Test).
  - **Specification**: Open Circuit for 10s.
  - **Test Result**: Class C.

- **Test Description**: Short Circuit Test (Shorts to Supply (16V) and Ground).
  - **Specification**: Short Circuit for 10s.
  - **Test Result**: Class C.

Pulse Tests.

- **Pulse Description**: Pulse 1 (ISO 7637-2:2011-03).
  - **Parameters**: Us = -150V, Ri = 10Ω, N=500 pulses, td = 2ms, tr = 1μs, t1 ≥ 0.5s, t2 = 200ms, t3 < 100μs.
  - **Test Result**: Class C.

- **Pulse Description**: Pulse 2a (ISO 7637-2:2011-03).
  - **Parameters**: Us = -112V, Ri = 2Ω, N = 500 pulses, td = 0.05ms, tr = 1μs, t1 = 200ms.
  - **Test Result**: Class A.

- **Pulse Description**: Pulse 2b (ISO 7637-2:2011-03).
  - **Parameters**: Ua = 13.5V, Ri = 0.05Ω, N = 10 pulses, Us = 10V, t6 = 1ms, t12 = 1ms, tr = 1ms, td = 200ms.
  - **Test Result**: Class C.

Pulse Tests (Continued).

- **Pulse Description**: Pulse 3a (ISO 7637-2:2011-03).
  - **Parameters**: Us = -220V, Ri = 50Ω, Duration = 1 hour, td = 0.1μs, tr = 5ns, t1 = 100μs, t4 = 10ms, t5 = 90ms.
  - **Test Result**: Class A.

- **Pulse Description**: Capacitive Coupling Clamp (CCC, Fast Positive) (ISO 7637-3:2016-07).
  - **Parameters**: Us = 75V, Ri = 50Ω, Duration = 10min, td = 0.1μs, tr = 5ns, t1 = 100μs, t4 = 10ms, t5 = 90ms.
  - **Test Result**: Class A.

- **Pulse Description**: Capacitive Coupling Clamp (CCC, Fast Negative) (ISO 7637-3:2016-07).
  - **Parameters**: Us = -110V, Ri = 50Ω, Duration = 10min, td = 0.1μs, tr = 5ns, t1 = 100μs, t4 = 10ms, t5 = 90ms.
  - **Test Result**: Class A.
Page 205
### Vehicle Control Unit  
### Vinfast Management System  

**VFDSXXEEP5046**  
Version: 1.0  

---

### 9.4 General Electric System Tests  
Following test cases have been performed on VC1CP091.  
DUT placement condition: Grounded  

#### Test Case 21: Inductive Coupling Clamp (ICC, ISO_7637-3_2016-07) - ICC Slow Positive  
- **Parameters:**  
  - Us = 6V, Ri = 2Ω, Duration = 5min  
  - td = 7μs, tr ≤ 1.2μs, t1 = 0.2s  
- **Result:**  
  - Class A  

#### Test Case 22: Inductive Coupling Clamp (ICC, ISO_7637-3_2016-07) - ICC Slow Negative  
- **Parameters:**  
  - Us = -6V, Ri = 2Ω, Duration = 5min  
  - td = 7μs, tr ≤ 1.2μs, t1 = 0.2s  
- **Result:**  
  - Class A
Page 206
9.5 Cyber-Security Standards.

If the product contains functions that process Personal Data, legal requirements of Data Protection and data privacy laws shall be complied with by the customer. As the data controller, the customer usually designs subsequent processing. Therefore, the customer must check if the protective measures of the control unit are sufficient. Furthermore, requirements based on data protection and privacy should be documented in the Security Development Interface Agreement.

Bosch determines the conformity to the State-of-the-Art of Cybersecurity of its products on a regular basis. If the state of the art or the applicable laws change before the end of delivery of the product, Bosch reserves the right to propose the necessary changes to the product via the change request process. In case a security vulnerability, which affects a Bosch product, is discovered or disclosed by the customer, Bosch shall be informed prior to its publication.

Bosch will deliver updates only with the approval of the customer on the basis of contractual agreements. The installation of security-relevant updates in the field needs to be performed by the customer’s Software Logistic Infrastructure.

The product or embedded control unit contains engineering access points in hardware and software to execute Bosch services for manufacturing and development investigation purposes, including the capability to perform a software reflash. 

These Bosch interfaces are secured by:
- The constraint of physical access to the product itself.
- ECU Hardware Design.
- Device passwords.
- Removal of the respective routines in the memory of the product.

The product is not protected against Denial of Service attacks (DoS) on the vehicle internal communication. If DoS attacks on vehicle internal networks have been evaluated as critical, this shall be considered by measures on the vehicle level by the customer.

The product is not designed to withstand fault injection or side channel attacks. This means the product does not employ dedicated protection mechanisms to prevent the extraction of sensitive data (e.g., keys, IP, software) via physical attacks. If necessary, additional mechanisms should be implemented by the customer.

The software used in the product contains intellectual property (IP) from Bosch, the customer, and in some cases, third parties. For the purpose of IP protection and avoidance of re-engineering, the software shall be handled as confidential during the distribution process into plants, workshops, and Firmware Over-the-Air (FOTA) updates. This shall be considered by appropriate measures within the Customer’s Software Logistic Infrastructure and associated processes.

Software update reprogramming (reflash) routines are implemented. These routines are protected with anti-tampering measures according to requirements agreed upon with the customer. The customer shall validate the implemented measures to prevent unauthorized reprogramming. If necessary, additional mechanisms in the product or through an upper security layer, to comply with relevant legal requirements, shall be implemented by the customer.
Page 207
9.6 Thermal Standards.

Following environmental reliability tests performed on VC1CP091:

1. Thermal cycling endurance test (Active-intermittent):
   - Test Duration: Approximately 690 temperature cycles, cycle duration 120 minutes.
   - Details/Remarks: Reference standard IEC 60068-2-14 Nb, Ti: -40°C to 107°C (with airflow).

2. Humidity cycling test:
   - Test Duration: 24 hours per cycle.
   - Details/Remarks: Reference standard DIN EN 60068-2-38. 10 cycles (First 5 cycles with cold phase & 5 cycles without cold phase), Ta: -10°C to 65°C, RH: 80% to 93%.

3. Drop test (Passive):
   - Test Duration: 2 drops per VCU.
   - Details/Remarks: Reference standard IEC 60068-2-31.

4. Humidity constant test (Ubat-intermittent- 1 hour ON, 1 hour OFF):
   - Test Duration: 1000 hours.
   - Details/Remarks: Reference standard IEC 60068-2-67. Ta = 85°C, RH = 85%.

5. High temperature endurance test (Active):
   - Test Duration: 1250 hours.
   - Details/Remarks: Reference standard IEC 60068-2-2 Nb. Ta = 85°C with standard airflow of 2m/s.

6. Thermal cycling shock test (Passive, Pre-aging test):
   - Test Duration: 90 minutes per cycle.
   - Details/Remarks: Reference standard DIN EN 60068-2-14 Na, 45-minute soak, 100 cycles, Ta: -40°C to 105°C.

7. High temperature storage (Passive, Pre-aging test):
   - Test Duration: 48 hours.
   - Details/Remarks: Reference standard IEC 60068-2-2 Bb. Ta = 105°C.

8. Low temperature storage (Passive, Pre-aging test):
   - Test Duration: 48 hours.
   - Details/Remarks: Reference standard IEC 60068-2-2 Bb. Ta = -40°C.

9. Mechanical shock test (Passive):
   - Test Duration: 18 shocks per DUT (Half Sine).
   - Details/Remarks: Reference standard IEC 60068-2-27. 6 shocks per axis (positive and negative direction), aeff = 500m/s², pulse duration 6ms.

10. Housing relevant tests:
   - Protection against dust and water. 
   - Salt spray corrosion test. 
   - Chemical loads test.
   - Standards applicable: IPX9K, IEC 60068-2-52, ISO 16750-5.
Page 208
10. Further Applicable Documents.

1. **VCU pin assignment:** VC1CP091_VF_VFe35_Block_diagram_V2.0.pdf  
2. **Wiring harness guidelines:** Vinfast_VC1CP090_Wiring harness guideline document_V2.pdf  
3. **Terminal diagram:** System_schematics_VF35_V6.0 SOP VCU 2022.05.30.pdf  
4. **Safety Case:** 2-6.5.3_VinFast_EV_VC1CP091_C_CAR_Safety_Plan_en_V1.0  
5. **DVR report:** VC1CP091_VinFast_Delta_Design_Validation_report